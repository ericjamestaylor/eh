// script
/* **********************************************
     Begin scplayer.js
********************************************** *///object slice
__slice=[].slice;typeof soundManager!="undefined"&&soundManager.setup({url:"swf/",flashVersion:9,useFlashBlock:!1,useHighPerformance:!0,wmode:"transparent",useFastPolling:!0,debugFlash:!1,debugMode:!1});var SoundCloudPlayer=function(e,t){var n={loop:!1,start_on:0,autoplay:!1,autoswitch:!0,volume:100,toggle_pause:!0,cache:!0,preload:!1,debug:!1},r="http://api.soundcloud.com/resolve?url=http://soundcloud.com",i=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi),s=this,o=jQuery(this);this.tracks=[];this.config=jQuery.extend(n,t);this.current_track_index=this.config.start_on;this.current_track=null;this.sound=null;this.inited=!1;this.play_when_ready=!1;this.cache={};this.init=function(){if(s.inited)return;s.change_track();s.trigger("scplayer.init");s.config.autoplay&&s.play();s.inited=!0};this.change_track=function(e){s.log("change_track");if(s.sound){s.sound.destruct();s.sound=null}var t=typeof e!="undefined"?e:s.current_track_index;if(e!=s.current_track_index||!e){var n=s.tracks[t];s.resolve_track(n,s.set_sound);s.trigger("scplayer.changing_track",t)}return s};this.play=function(){s.log("play");s.sound&&s.sound.readyState==3?s.sound.play():s.play_when_ready=!0;s.trigger("scplayer.play",s.current_track_index);return s};this.pause=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.pause();s.trigger("scplayer.pause",s.sound.paused)}return s};this.resume=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.resume();s.trigger("scplayer.pause",s.sound.paused)}return s};this.stop=function(){s.sound&&s.sound.stop();s.trigger("scplayer.stop");s.log("stop");return s};this.next=function(e){s.log("next");s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;s.log(s.play_when_ready);if(s.tracks[s.current_track_index+1]){s.current_track_index++;s.change_track();s.trigger("scplayer.playlist.next",s.current_track_index-1,s.current_track_index);s.log("has next")}else if(s.config.loop){s.current_track_index=0;s.change_track();s.trigger("scplayer.playlist.looped");s.log("looped")}else{s.current_track_index=s.tracks.length-1;s.trigger("scplayer.playlist.ended");s.log("no mas")}return s};this.prev=function(e){s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;if(s.tracks[s.current_track_index-1]){s.current_track_index--;s.change_track();s.trigger("scplayer.playlist.prev")}else if(s.config.loop){s.current_track_index=s.tracks.length-1;s.change_track();s.trigger("scplayer.playlist.looped")}else{s.current_track_index=0;s.trigger("scplayer.playlist.restarted")}return s};this.goto=function(e,t){s.log("goto");s.play_when_ready=typeof t!="undefined"?t:s.config.autoswitch;if(s.tracks[e]){s.current_track_index=e;s.trigger("scplayer.playlist.goto");s.change_track()}return s};this.restart_track=function(){s.position(0);return s};this.mute=function(){s.sound&&s.sound.toggleMute();s.trigger("scplayer.mute",s.sound.muted);return s};this.has_next=function(){s.log("has next");return s.tracks[s.current_track_index+1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.has_prev=function(){return s.tracks[s.current_track_index-1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.get_time=function(){var e=this.position(),t=e%1e3,n=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),i=Math.floor(e/36e5%24),o=r+":"+s.pad(n);i>0&&(o=i+":"+o);return o};this.position=function(e){if(s.sound){if(e||e===0){e=Math.min(s.sound.duration,e);e=Math.max(0,e);s.trigger("scplayer.position",e);return s.sound.setPosition(e)}s.trigger("scplayer.position",s.sound.position);return s.sound.position}return 0};this.volume=function(e){if(s.sound){if(e||e===0){e=Math.min(100,e);e=Math.max(0,e);s.trigger("scplayer.volume",e);s.config.volume=e;return s.sound.setVolume(e)}s.trigger("scplayer.volume",s.sound.volume);return s.sound.volume}return s.config.volume};this.seek=function(e){var t=s.current_track.duration*e;s.position(t);return s};this.loop=function(e){if(e){s.config.loop=e;s.trigger("scplayer.loop_changed",s.config.loop)}return s.config.loop};this.track_info=function(e){s.isNumeric(e)&&(e=s.tracks[e]);return s.resolve_track(e)};this.on=function(e,t){return o.on(e,t)};this.trigger=function(e){var t=arguments.length>1?__slice.call(arguments,1):[];return o.trigger(e,t)};this.destroy=function(){s.sound&&s.sound.destruct();s.tracks=[];o.off();o.remove();s.tracks=null;s.track=null;s=null;delete s.tracks;delete s.track;delete s;delete this};s.get_track=function(){return s.current_track};s.get_track_index=function(){return s.current_track_index};s.get_sound=function(){return s.sound};s.get_playlist=function(){return s.tracks};s.set_cache=function(e,t){s.config.cache===!0&&(s.cache[e]=t)};s.get_cache=function(e){return s.config.cache===!0?s.cache[e]||null:null};s.set_sound=function(e){s.log("set_sound");s.trigger("scplayer.track.info_loaded",e);s.current_track=e;var t=e.stream_url;t+=t.indexOf("secret_token")==-1?"?":"&";t+="consumer_key="+s.config.consumer_key;s.sound=soundManager.createSound({autoLoad:!0,id:"track_"+e.id,multiShot:!1,loops:1,url:t,volume:s.config.volume,whileloading:function(){var e=Math.round(this.bytesLoaded/this.bytesTotal*100);s.trigger("scplayer.track.whileloading",e)},whileplaying:function(){var t=Math.round(this.position/e.duration*100*10)/10;s.trigger("scplayer.track.whileplaying",t)},onplay:function(){s.log("track.onplay");s.trigger("scplayer.track.played")},onresume:function(){s.trigger("scplayer.track.resumed")},onstop:function(){s.trigger("scplayer.track.stopped")},onpause:function(){s.trigger("scplayer.track.paused")},onfinish:function(){s.trigger("scplayer.track.finished")},onload:function(){s.log("onload");s.trigger("scplayer.track.ready",s.current_track_index,s.current_track)}});s.trigger("scplayer.track.bindable",e,s.sound)};s.resolve_track=function(e,t){var n=new jQuery.Deferred;if(e.match(i)&&e.search(/soundcloud\.com/i)===-1){var o={stream_url:e,id:0,permalink_url:e,duration:0};n.resolve(o)}e=e.replace(/https?\:\/\/soundcloud\.com/gi,"");if(s.config.cache===!0){var u=s.get_cache(e);if(u&&t){n.done(function(){t(u)}).resolve();return n}}n.done(function(n){if(n.tracks&&n.tracks.length>0){var r=s.parse_tracks(e,n.tracks);n=r[0]}else s.config.cache===!0&&s.set_cache(e,n);t&&t(n)});jQuery.ajax({url:r+e+"&format=json"+"&consumer_key="+s.config.consumer_key+"&callback=?",dataType:"jsonp",error:function(e,t,r){n.reject(e,t,r)},success:function(e){n.resolve(e)}});return n};s.preload_sc_tracks=function(e){var t=[];for(var n=0,r=s.tracks.length;n<r;n++){var i=s.tracks[n],o=s.resolve_track(i);t.push(o)}jQuery.when.apply(jQuery,t).then(function(){s.trigger("scplayer.playlist.preloaded");e&&e()},function(){s.log("promises failed to preload tracks")})};s.parse_tracks=function(e,t){var n=[],r=[],i=s.tracks.indexOf(e);for(var o=0,u=t.length;o<u;o++){var a=t[o],f=a.permalink_url.substring(21);s.config.cache===!0&&s.set_cache(f,a);n.push(a);r.push(f)}var l=[i,1].concat(r);s.tracks.splice.apply(s.tracks,l);return n};s.add_tracks=function(e){typeof e=="string"&&(e=[e]);if(e!=null&&e.length>0){s.tracks=s.tracks.concat(e);s.config.preload==1?s.preload_sc_tracks.call(s,s.init):s.init.call(s)}};s.log=function(){s.config.debug&&window.console&&console.log.apply(console,arguments)};s.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};s.pad=function(e){return(e<10?"0":"")+e};s.on("scplayer.track.ready",function(e){s.log("track.onready!!!");if(s.play_when_ready==1){s.play();s.play_when_ready=!1}});s.on("scplayer.track.finished",function(e){s.log("track finished");if(s.config.autoswitch&&(s.config.loop||s.has_next())){s.log("finished and autoswitch");s.next().play()}});s.on("scplayer.playlist.ended",function(e){s.log("playlist ended");s.config.loop||s.stop()});soundManager.onready(function(){s.log("SOUNDMANAGER2 ready!!");s.add_tracks(e)});soundManager.ontimeout(function(){window.console&&console.log("SOUNDMANAGER2 TIMEDOUT!!")});return{play:this.play,pause:this.pause,resume:this.resume,stop:this.stop,next:this.next,prev:this.prev,mute:this.mute,get_time:this.get_time,volume:this.volume,restart_track:this.restart_track,"goto":this.goto,position:this.position,seek:this.seek,track_info:this.track_info,has_next:this.has_next,has_prev:this.has_prev,on:this.on,trigger:this.trigger,track:this.get_track,track_index:this.get_track_index,sound:this.get_sound,playlist:this.get_playlist,destroy:this.destroy,add_tracks:this.add_tracks}};(function(e){function t(t,n){function r(e){return a.preferFlash&&St&&!a.ignoreFlash&&"undefined"!=typeof a.flash[e]&&a.flash[e]}function i(e){return function(t){var n=this._t;return!n||!n._a?null:e.call(this,t)}}this.setupOptions={url:t||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=n||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20120916";this.altURL=this.movieURL=this.version=null;this.enabled=this.swfLoaded=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.didFlashBlock=this.muted=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={};var s;try{s="undefined"!=typeof Audio&&"undefined"!=typeof (Mt&&10>opera.version()?new Audio(null):new Audio).canPlayType}catch(o){s=!1}this.hasHTML5=s;this.html5={usingFlash:null};this.flash={};this.ignoreFlash=this.html5Only=!1;var u,a=this,f=null,l,c=navigator.userAgent,h=e,p=h.location.href.toString(),d=document,v,m,g,y,b=[],w=!1,E=!1,S=!1,x=!1,T=!1,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J=null,K=null,Q,G,Y,Z,et,tt,nt,rt=!1,it=!1,st,ot,ut,at=0,ft=null,lt,ct=null,ht,pt,dt,vt,mt,gt,yt,bt,wt=Array.prototype.slice,Et=!1,St,xt,Tt,Nt,Ct,kt=c.match(/(ipad|iphone|ipod)/i),Lt=c.match(/msie/i),At=c.match(/webkit/i),Ot=c.match(/safari/i)&&!c.match(/chrome/i),Mt=c.match(/opera/i),_t=c.match(/(mobile|pre\/|xoom)/i)||kt,Dt=!p.match(/usehtml5audio/i)&&!p.match(/sm2\-ignorebadua/i)&&Ot&&!c.match(/silk/i)&&c.match(/OS X 10_6_([3-7])/i),Pt="undefined"!=typeof d.hasFocus?d.hasFocus():null,Ht=Ot&&("undefined"==typeof d.hasFocus||!d.hasFocus()),Bt=!Ht,jt=/(mp3|mp4|mpa|m4a|m4b)/i,Ft=d.location?d.location.protocol.match(/http/i):null,It=Ft?"":"http://",qt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Rt="mpeg4,aac,flv,mov,mp4,m4v,f4v,m4a,m4b,mp4v,3gp,3g2".split(","),Ut=RegExp("\\.("+Rt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!Ft;this._global_a=null;_t&&(a.useHTML5Audio=!0,a.preferFlash=!1,kt)&&(Et=a.ignoreFlash=!0);this.setup=function(e){var t=!a.url;"undefined"!=typeof e&&S&&ct&&a.ok()&&("undefined"!=typeof e.flashVersion||"undefined"!=typeof e.url)&&tt(Q("setupLate"));k(e);t&&I&&"undefined"!=typeof e.url&&a.beginDelayedInit();!I&&"undefined"!=typeof e.url&&"complete"===d.readyState&&setTimeout(j,1);return a};this.supported=this.ok=function(){return ct?S&&!x:a.useHTML5Audio&&a.hasHTML5};this.getMovie=function(e){return l(e)||d[e]||h[e]};this.createSound=function(e,t){function n(){r=Z(r);a.sounds[s.id]=new u(s);a.soundIDs.push(s.id);return a.sounds[s.id]}var r=null,i=null,s=null;if(!S||!a.ok())return tt(void 0),!1;"undefined"!=typeof t&&(e={id:e,url:t});r=C(e);r.url=lt(r.url);s=r;if(nt(s.id,!0))return a.sounds[s.id];if(pt(s))i=n(),i._setup_html5(s);else{8<y&&null===s.isMovieStar&&(s.isMovieStar=!!s.serverURL||!!(s.type&&s.type.match(qt)||s.url.match(Ut)));s=et(s,void 0);i=n();if(8===y)f._createSound(s.id,s.loops||1,s.usePolicyFile);else if(f._createSound(s.id,s.url,s.usePeakData,s.useWaveformData,s.useEQData,s.isMovieStar,s.isMovieStar?s.bufferTime:!1,s.loops||1,s.serverURL,s.duration||null,s.autoPlay,!0,s.autoLoad,s.usePolicyFile),!s.serverURL)i.connected=!0,s.onconnect&&s.onconnect.apply(i);!s.serverURL&&(s.autoLoad||s.autoPlay)&&i.load(s)}!s.serverURL&&s.autoPlay&&i.play();return i};this.destroySound=function(e,t){if(!nt(e))return!1;var n=a.sounds[e],r;n._iO={};n.stop();n.unload();for(r=0;r<a.soundIDs.length;r++)if(a.soundIDs[r]===e){a.soundIDs.splice(r,1);break}t||n.destruct(!0);delete a.sounds[e];return!0};this.load=function(e,t){return nt(e)?a.sounds[e].load(t):!1};this.unload=function(e){return nt(e)?a.sounds[e].unload():!1};this.onposition=this.onPosition=function(e,t,n,r){return nt(e)?a.sounds[e].onposition(t,n,r):!1};this.clearOnPosition=function(e,t,n){return nt(e)?a.sounds[e].clearOnPosition(t,n):!1};this.start=this.play=function(e,t){var n=!1;if(!S||!a.ok())return tt("soundManager.play(): "+Q(S?"notOK":"notReady")),n;if(!nt(e)){t instanceof Object||(t={url:t});t&&t.url&&(t.id=e,n=a.createSound(t).play());return n}return a.sounds[e].play(t)};this.setPosition=function(e,t){return nt(e)?a.sounds[e].setPosition(t):!1};this.stop=function(e){return nt(e)?a.sounds[e].stop():!1};this.stopAll=function(){for(var e in a.sounds)a.sounds.hasOwnProperty(e)&&a.sounds[e].stop()};this.pause=function(e){return nt(e)?a.sounds[e].pause():!1};this.pauseAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].pause()};this.resume=function(e){return nt(e)?a.sounds[e].resume():!1};this.resumeAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].resume()};this.togglePause=function(e){return nt(e)?a.sounds[e].togglePause():!1};this.setPan=function(e,t){return nt(e)?a.sounds[e].setPan(t):!1};this.setVolume=function(e,t){return nt(e)?a.sounds[e].setVolume(t):!1};this.mute=function(e){var t=0;"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].mute():!1;for(t=a.soundIDs.length-1;0<=t;t--)a.sounds[a.soundIDs[t]].mute();return a.muted=!0};this.muteAll=function(){a.mute()};this.unmute=function(e){"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].unmute():!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].unmute();a.muted=!1;return!0};this.unmuteAll=function(){a.unmute()};this.toggleMute=function(e){return nt(e)?a.sounds[e].toggleMute():!1};this.getMemoryUse=function(){var e=0;f&&8!==y&&(e=parseInt(f._getMemoryUse(),10));return e};this.disable=function(e){var t;"undefined"==typeof e&&(e=!1);if(x)return!1;x=!0;for(t=a.soundIDs.length-1;0<=t;t--)X(a.sounds[a.soundIDs[t]]);N(e);bt.remove(h,"load",M);return!0};this.canPlayMIME=function(e){var t;a.hasHTML5&&(t=dt({type:e}));!t&&ct&&(t=e&&a.ok()?!!(8<y&&e.match(qt)||e.match(a.mimePattern)):null);return t};this.canPlayURL=function(e){var t;a.hasHTML5&&(t=dt({url:e}));!t&&ct&&(t=e&&a.ok()?!!e.match(a.filePattern):null);return t};this.canPlayLink=function(e){return"undefined"!=typeof e.type&&e.type&&a.canPlayMIME(e.type)?!0:a.canPlayURL(e.href)};this.getSoundById=function(e){if(!e)throw Error("soundManager.getSoundById(): sID is null/undefined");return a.sounds[e]};this.onready=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","onready");t||(t=h),A("onready",e,t),O();return!0};this.ontimeout=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","ontimeout");t||(t=h),A("ontimeout",e,t),O({type:"ontimeout"});return!0};this._wD=this._writeDebug=function(){return!0};this._debug=function(){};this.reboot=function(){var e,t;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].destruct();if(f)try{Lt&&(K=f.innerHTML);J=f.parentNode.removeChild(f)}catch(n){}K=J=ct=null;a.enabled=I=S=rt=it=w=E=x=a.swfLoaded=!1;a.soundIDs=[];a.sounds={};f=null;for(e in b)if(b.hasOwnProperty(e))for(t=b[e].length-1;0<=t;t--)b[e][t].fired=!1;h.setTimeout(a.beginDelayedInit,20)};this.getMoviePercent=function(){return f&&"undefined"!=typeof f.PercentLoaded?f.PercentLoaded():null};this.beginDelayedInit=function(){T=!0;j();setTimeout(function(){if(it)return!1;R();B();return it=!0},20);_()};this.destruct=function(){a.disable(!0)};u=function(e){var t,n,r=this,i,s,o,u,l,c,h=!1,p=[],d=0,v,m,g=null;t=null;n=null;this.sID=this.id=e.id;this.url=e.url;this._iO=this.instanceOptions=this.options=C(e);this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;this.id3={};this._debug=function(){};this.load=function(e){var t=null;if("undefined"!=typeof e)r._iO=C(e,r.options),r.instanceOptions=r._iO;else if(e=r.options,r._iO=e,r.instanceOptions=r._iO,g&&g!==r.url)r._iO.url=r.url,r.url=null;r._iO.url||(r._iO.url=r.url);r._iO.url=lt(r._iO.url);if(r._iO.url===r.url&&0!==r.readyState&&2!==r.readyState)return 3===r.readyState&&r._iO.onload&&r._iO.onload.apply(r,[!!r.duration]),r;e=r._iO;g=r.url&&r.url.toString?r.url.toString():null;r.loaded=!1;r.readyState=1;r.playState=0;r.id3={};if(pt(e)){if(t=r._setup_html5(e),!t._called_load){r._html5_canplay=!1;r._a.src!==e.url&&(r._a.src=e.url,r.setPosition(0));r._a.autobuffer="auto";r._a.preload="auto";t._called_load=!0;e.autoPlay&&r.play()}}else try{r.isHTML5=!1,r._iO=et(Z(e)),e=r._iO,8===y?f._load(r.id,e.url,e.stream,e.autoPlay,e.whileloading?1:0,e.loops||1,e.usePolicyFile):f._load(r.id,e.url,!!e.stream,!!e.autoPlay,e.loops||1,!!e.autoLoad,e.usePolicyFile)}catch(n){U({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}r.url=e.url;return r};this.unload=function(){if(0!==r.readyState){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a,"about:blank"),r.url="about:blank"}else 8===y?f._unload(r.id,"about:blank"):f._unload(r.id);i()}return r};this.destruct=function(e){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a),Et||o(),r._a._t=null,r._a=null}else r._iO.onfailure=null,f._destroySound(r.id);e||a.destroySound(r.id,!0)};this.start=this.play=function(e,t){var n,i;i=!0;i=null;t="undefined"==typeof t?!0:t;e||(e={});r.url&&(r._iO.url=r.url);r._iO=C(r._iO,r.options);r._iO=C(e,r._iO);r._iO.url=lt(r._iO.url);r.instanceOptions=r._iO;if(r._iO.serverURL&&!r.connected)return r.getAutoPlay()||r.setAutoPlay(!0),r;pt(r._iO)&&(r._setup_html5(r._iO),l());1===r.playState&&!r.paused&&((n=r._iO.multiShot)||(i=r));if(null!==i)return i;e.url&&e.url!==r.url&&r.load(r._iO);if(!r.loaded)if(0===r.readyState){r.isHTML5||(r._iO.autoPlay=!0);r.load(r._iO)}else 2===r.readyState&&(i=r);if(null!==i)return i;!r.isHTML5&&9===y&&0<r.position&&r.position===r.duration&&(e.position=0);if(r.paused&&0<=r.position&&(!r._iO.serverURL||0<r.position))r.resume();else{r._iO=C(e,r._iO);if(null!==r._iO.from&&null!==r._iO.to&&0===r.instanceCount&&0===r.playState&&!r._iO.serverURL){n=function(){r._iO=C(e,r._iO);r.play(r._iO)};r.isHTML5&&!r._html5_canplay?(r.load({_oncanplay:n}),i=!1):!r.isHTML5&&!r.loaded&&(!r.readyState||2!==r.readyState)&&(r.load({onload:n}),i=!1);if(null!==i)return i;r._iO=m()}(!r.instanceCount||r._iO.multiShotEvents||!r.isHTML5&&8<y&&!r.getAutoPlay())&&r.instanceCount++;r._iO.onposition&&0===r.playState&&c(r);r.playState=1;r.paused=!1;r.position="undefined"!=typeof r._iO.position&&!isNaN(r._iO.position)?r._iO.position:0;r.isHTML5||(r._iO=et(Z(r._iO)));r._iO.onplay&&t&&(r._iO.onplay.apply(r),h=!0);r.setVolume(r._iO.volume,!0);r.setPan(r._iO.pan,!0);r.isHTML5?(l(),i=r._setup_html5(),r.setPosition(r._iO.position),i.play()):(i=f._start(r.id,r._iO.loops||1,9===y?r._iO.position:r._iO.position/1e3,r._iO.multiShot),9===y&&!i&&r._iO.onplayerror&&r._iO.onplayerror.apply(r))}return r};this.stop=function(e){var t=r._iO;if(1===r.playState){r._onbufferchange(0);r._resetOnPosition(0);r.paused=!1;r.isHTML5||(r.playState=0);v();t.to&&r.clearOnPosition(t.to);r.isHTML5?r._a&&(e=r.position,r.setPosition(0),r.position=e,r._a.pause(),r.playState=0,r._onTimer(),u()):(f._stop(r.id,e),t.serverURL&&r.unload());r.instanceCount=0;r._iO={};t.onstop&&t.onstop.apply(r)}return r};this.setAutoPlay=function(e){r._iO.autoPlay=e;r.isHTML5||(f._setAutoPlay(r.id,e),e&&!r.instanceCount&&1===r.readyState&&r.instanceCount++)};this.getAutoPlay=function(){return r._iO.autoPlay};this.setPosition=function(e){"undefined"==typeof e&&(e=0);var t=r.isHTML5?Math.max(e,0):Math.min(r.duration||r._iO.duration,Math.max(e,0));r.position=t;e=r.position/1e3;r._resetOnPosition(r.position);r._iO.position=t;if(r.isHTML5){if(r._a&&r._html5_canplay&&r._a.currentTime!==e)try{r._a.currentTime=e,(0===r.playState||r.paused)&&r._a.pause()}catch(n){}}else e=9===y?r.position:e,r.readyState&&2!==r.readyState&&f._setPosition(r.id,e,r.paused||!r.playState,r._iO.multiShot);r.isHTML5&&r.paused&&r._onTimer(!0);return r};this.pause=function(e){if(r.paused||0===r.playState&&1!==r.readyState)return r;r.paused=!0;r.isHTML5?(r._setup_html5().pause(),u()):(e||"undefined"==typeof e)&&f._pause(r.id,r._iO.multiShot);r._iO.onpause&&r._iO.onpause.apply(r);return r};this.resume=function(){var e=r._iO;if(!r.paused)return r;r.paused=!1;r.playState=1;r.isHTML5?(r._setup_html5().play(),l()):(e.isMovieStar&&!e.serverURL&&r.setPosition(r.position),f._pause(r.id,e.multiShot));!h&&e.onplay?(e.onplay.apply(r),h=!0):e.onresume&&e.onresume.apply(r);return r};this.togglePause=function(){if(0===r.playState)return r.play({position:9===y&&!r.isHTML5?r.position:r.position/1e3}),r;r.paused?r.resume():r.pause();return r};this.setPan=function(e,t){"undefined"==typeof e&&(e=0);"undefined"==typeof t&&(t=!1);r.isHTML5||f._setPan(r.id,e);r._iO.pan=e;t||(r.pan=e,r.options.pan=e);return r};this.setVolume=function(e,t){"undefined"==typeof e&&(e=100);"undefined"==typeof t&&(t=!1);r.isHTML5?r._a&&(r._a.volume=Math.max(0,Math.min(1,e/100))):f._setVolume(r.id,a.muted&&!r.muted||r.muted?0:e);r._iO.volume=e;t||(r.volume=e,r.options.volume=e);return r};this.mute=function(){r.muted=!0;r.isHTML5?r._a&&(r._a.muted=!0):f._setVolume(r.id,0);return r};this.unmute=function(){r.muted=!1;var e="undefined"!=typeof r._iO.volume;r.isHTML5?r._a&&(r._a.muted=!1):f._setVolume(r.id,e?r._iO.volume:r.options.volume);return r};this.toggleMute=function(){return r.muted?r.unmute():r.mute()};this.onposition=this.onPosition=function(e,t,n){p.push({position:parseInt(e,10),method:t,scope:"undefined"!=typeof n?n:r,fired:!1});return r};this.clearOnPosition=function(e,t){var n,e=parseInt(e,10);if(isNaN(e))return!1;for(n=0;n<p.length;n++)e===p[n].position&&(!t||t===p[n].method)&&(p[n].fired&&d--,p.splice(n,1))};this._processOnPosition=function(){var e,t;e=p.length;if(!e||!r.playState||d>=e)return!1;for(e-=1;0<=e;e--)if(t=p[e],!t.fired&&r.position>=t.position)t.fired=!0,d++,t.method.apply(t.scope,[t.position]);return!0};this._resetOnPosition=function(e){var t,n;t=p.length;if(!t)return!1;for(t-=1;0<=t;t--)if(n=p[t],n.fired&&e<=n.position)n.fired=!1,d--;return!0};m=function(){var e=r._iO,t=e.from,n=e.to,i,s;s=function(){r.clearOnPosition(n,s);r.stop()};i=function(){null!==n&&!isNaN(n)&&r.onPosition(n,s)};null!==t&&!isNaN(t)&&(e.position=t,e.multiShot=!1,i());return e};c=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.onPosition(parseInt(e,10),t[e])};v=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.clearOnPosition(parseInt(e,10))};l=function(){r.isHTML5&&st(r)};u=function(){r.isHTML5&&ot(r)};i=function(e){e||(p=[],d=0);h=!1;r._hasTimer=null;r._a=null;r._html5_canplay=!1;r.bytesLoaded=null;r.bytesTotal=null;r.duration=r._iO&&r._iO.duration?r._iO.duration:null;r.durationEstimate=null;r.buffered=[];r.eqData=[];r.eqData.left=[];r.eqData.right=[];r.failures=0;r.isBuffering=!1;r.instanceOptions={};r.instanceCount=0;r.loaded=!1;r.metadata={};r.readyState=0;r.muted=!1;r.paused=!1;r.peakData={left:0,right:0};r.waveformData={left:[],right:[]};r.playState=0;r.position=null;r.id3={}};i();this._onTimer=function(e){var i,s=!1,o={};if(r._hasTimer||e){if(r._a&&(e||(0<r.playState||1===r.readyState)&&!r.paused)){i=r._get_html5_duration();i!==t&&(t=i,r.duration=i,s=!0);r.durationEstimate=r.duration;i=1e3*r._a.currentTime||0;i!==n&&(n=i,s=!0);(s||e)&&r._whileplaying(i,o,o,o,o)}return s}};this._get_html5_duration=function(){var e=r._iO;return(e=r._a&&r._a.duration?1e3*r._a.duration:e&&e.duration?e.duration:null)&&!isNaN(e)&&Infinity!==e?e:null};this._apply_loop=function(e,t){e.loop=1<t?"loop":""};this._setup_html5=function(e){var e=C(r._iO,e),t=decodeURI,n=Et?a._global_a:r._a,o=t(e.url),u=n&&n._t?n._t.instanceOptions:null,f;if(n){if(n._t){!Et&&o===t(g)?f=n:Et&&u.url===e.url&&(!g||g===u.url)&&(f=n);if(f)return r._apply_loop(n,e.loops),f}Et&&n._t&&n._t.playState&&e.url!==u.url&&n._t.stop();i(u&&u.url?e.url===u.url:g?g===e.url:!1);n.src=e.url;g=r.url=e.url;n._called_load=!1}else if(r._a=e.autoLoad||e.autoPlay?new Audio(e.url):Mt&&10>opera.version()?new Audio(null):new Audio,n=r._a,n._called_load=!1,Et)a._global_a=n;r.isHTML5=!0;r._a=n;n._t=r;s();r._apply_loop(n,e.loops);e.autoLoad||e.autoPlay?r.load():(n.autobuffer=!1,n.preload="auto");return n};s=function(){if(r._a._added_events)return!1;var e;r._a._added_events=!0;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.addEventListener(e,Nt[e],!1);return!0};o=function(){var e;r._a._added_events=!1;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.removeEventListener(e,Nt[e],!1)};this._onload=function(e){e=!!e||!r.isHTML5&&8===y&&r.duration;r.loaded=e;r.readyState=e?3:2;r._onbufferchange(0);r._iO.onload&&r._iO.onload.apply(r,[e]);return!0};this._onbufferchange=function(e){if(0===r.playState||e&&r.isBuffering||!e&&!r.isBuffering)return!1;r.isBuffering=1===e;r._iO.onbufferchange&&r._iO.onbufferchange.apply(r);return!0};this._onsuspend=function(){r._iO.onsuspend&&r._iO.onsuspend.apply(r);return!0};this._onfailure=function(e,t,n){r.failures++;r._iO.onfailure&&1===r.failures&&r._iO.onfailure(r,e,t,n)};this._onfinish=function(){var e=r._iO.onfinish;r._onbufferchange(0);r._resetOnPosition(0);if(r.instanceCount){r.instanceCount--;!r.instanceCount&&(v(),r.playState=0,r.paused=!1,r.instanceCount=0,r.instanceOptions={},r._iO={},u(),r.isHTML5)&&(r.position=0);(!r.instanceCount||r._iO.multiShotEvents)&&e&&e.apply(r)}};this._whileloading=function(e,t,n,i){var s=r._iO;r.bytesLoaded=e;r.bytesTotal=t;r.duration=Math.floor(n);r.bufferLength=i;r.durationEstimate=!r.isHTML5&&!s.isMovieStar?s.duration?r.duration>s.duration?r.duration:s.duration:parseInt(r.bytesTotal/r.bytesLoaded*r.duration,10):r.duration;r.isHTML5||(r.buffered=[{start:0,end:r.duration}]);(3!==r.readyState||r.isHTML5)&&s.whileloading&&s.whileloading.apply(r)};this._whileplaying=function(e,t,n,i,s){var o=r._iO;if(isNaN(e)||null===e)return!1;r.position=Math.max(0,e);r._processOnPosition();if(!r.isHTML5&&8<y){o.usePeakData&&"undefined"!=typeof t&&t&&(r.peakData={left:t.leftPeak,right:t.rightPeak});o.useWaveformData&&"undefined"!=typeof n&&n&&(r.waveformData={left:n.split(","),right:i.split(",")});o.useEQData&&"undefined"!=typeof s&&s&&s.leftEQ&&(e=s.leftEQ.split(","),r.eqData=e,r.eqData.left=e,"undefined"!=typeof s.rightEQ&&s.rightEQ)&&(r.eqData.right=s.rightEQ.split(","))}1===r.playState&&(!r.isHTML5&&8===y&&!r.position&&r.isBuffering&&r._onbufferchange(0),o.whileplaying&&o.whileplaying.apply(r));return!0};this._oncaptiondata=function(e){r.captiondata=e;r._iO.oncaptiondata&&r._iO.oncaptiondata.apply(r,[e])};this._onmetadata=function(e,t){var n={},i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.metadata=n;r._iO.onmetadata&&r._iO.onmetadata.apply(r)};this._onid3=function(e,t){var n=[],i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.id3=C(r.id3,n);r._iO.onid3&&r._iO.onid3.apply(r)};this._onconnect=function(e){e=1===e;if(r.connected=e)r.failures=0,nt(r.id)&&(r.getAutoPlay()?r.play(void 0,r.getAutoPlay()):r._iO.autoLoad&&r.load()),r._iO.onconnect&&r._iO.onconnect.apply(r,[e])};this._ondataerror=function(){0<r.playState&&r._iO.ondataerror&&r._iO.ondataerror.apply(r)}};q=function(){return d.body||d._docElement||d.getElementsByTagName("div")[0]};l=function(e){return d.getElementById(e)};C=function(e,t){var n=e||{},r,i;r="undefined"==typeof t?a.defaultOptions:t;for(i in r)r.hasOwnProperty(i)&&"undefined"==typeof n[i]&&(n[i]="object"!=typeof r[i]||null===r[i]?r[i]:C(n[i],r[i]));return n};L={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};k=function(e,t){var n,r=!0,i="undefined"!=typeof t,s=a.setupOptions;for(n in e)if(e.hasOwnProperty(n))if("object"!=typeof e[n]||null===e[n]||e[n]instanceof Array)i&&"undefined"!=typeof L[t]?a[t][n]=e[n]:"undefined"!=typeof s[n]?(a.setupOptions[n]=e[n],a[n]=e[n]):"undefined"==typeof L[n]?(tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1):a[n]instanceof Function?a[n].apply(a,e[n]instanceof Array?e[n]:[e[n]]):a[n]=e[n];else{if("undefined"!=typeof L[n])return k(e[n],n);tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1}return r};bt=function(){function e(e){var e=wt.call(e),t=e.length;n?(e[1]="on"+e[1],3<t&&e.pop()):3===t&&e.push(!1);return e}function t(e,t){var i=e.shift(),s=[r[t]];n?i[s](e[0],e[1]):i[s].apply(i,e)}var n=h.attachEvent,r={add:n?"attachEvent":"addEventListener",remove:n?"detachEvent":"removeEventListener"};return{add:function(){t(e(arguments),"add")},remove:function(){t(e(arguments),"remove")}}}();Nt={abort:i(function(){}),canplay:i(function(){var e=this._t,t;if(e._html5_canplay)return!0;e._html5_canplay=!0;e._onbufferchange(0);t="undefined"!=typeof e._iO.position&&!isNaN(e._iO.position)?e._iO.position/1e3:null;if(e.position&&this.currentTime!==t)try{this.currentTime=t}catch(n){}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:i(function(){var e=this._t;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),ended:i(function(){this._t._onfinish()}),error:i(function(){this._t._onload(!1)}),loadeddata:i(function(){var e=this._t;!e._loaded&&!Ot&&(e.duration=e._get_html5_duration())}),loadedmetadata:i(function(){}),loadstart:i(function(){this._t._onbufferchange(1)}),play:i(function(){this._t._onbufferchange(0)}),playing:i(function(){this._t._onbufferchange(0)}),progress:i(function(e){var t=this._t,n,r,i=0,i=e.target.buffered;n=e.loaded||0;var s=e.total||1;t.buffered=[];if(i&&i.length){for(n=0,r=i.length;n<r;n++)t.buffered.push({start:1e3*i.start(n),end:1e3*i.end(n)});i=1e3*(i.end(0)-i.start(0));n=i/(1e3*e.target.duration)}isNaN(n)||(t._onbufferchange(0),t._whileloading(n,s,t._get_html5_duration()),n&&s&&n===s&&Nt.canplaythrough.call(this,e))}),ratechange:i(function(){}),suspend:i(function(e){var t=this._t;Nt.progress.call(this,e);t._onsuspend()}),stalled:i(function(){}),timeupdate:i(function(){this._t._onTimer()}),waiting:i(function(){this._t._onbufferchange(1)})};pt=function(e){return e.serverURL||e.type&&r(e.type)?!1:e.type?dt({type:e.type}):dt({url:e.url})||a.html5Only};mt=function(e,t){e&&(e.src=t)};dt=function(e){if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t=e.url||null,e=e.type||null,n=a.audioFormats,i;if(e&&"undefined"!=typeof a.html5[e])return a.html5[e]&&!r(e);if(!vt){vt=[];for(i in n)n.hasOwnProperty(i)&&(vt.push(i),n[i].related&&(vt=vt.concat(n[i].related)));vt=RegExp("\\.("+vt.join("|")+")(\\?.*)?$","i")}i=t?t.toLowerCase().match(vt):null;!i||!i.length?e&&(t=e.indexOf(";"),i=(-1!==t?e.substr(0,t):e).substr(6)):i=i[1];i&&"undefined"!=typeof a.html5[i]?t=a.html5[i]&&!r(i):(e="audio/"+i,t=a.html5.canPlayType({type:e}),t=(a.html5[i]=t)&&a.html5[e]&&!r(e));return t};yt=function(){function e(e){var n,r,i=n=!1;if(!t||"function"!=typeof t.canPlayType)return n;if(e instanceof Array){for(n=0,r=e.length;n<r;n++)if(a.html5[e[n]]||t.canPlayType(e[n]).match(a.html5Test))i=!0,a.html5[e[n]]=!0,a.flash[e[n]]=!!e[n].match(jt);n=i}else e=t&&"function"==typeof t.canPlayType?t.canPlayType(e):!1,n=!!e&&!!e.match(a.html5Test);return n}if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t="undefined"!=typeof Audio?Mt&&10>opera.version()?new Audio(null):new Audio:null,n,r,i={},s;s=a.audioFormats;for(n in 
s)if(s.hasOwnProperty(n)&&(r="audio/"+n,i[n]=e(s[n].type),i[r]=i[n],n.match(jt)?(a.flash[n]=!0,a.flash[r]=!0):(a.flash[n]=!1,a.flash[r]=!1),s[n]&&s[n].related))for(r=s[n].related.length-1;0<=r;r--)i["audio/"+s[n].related[r]]=i[n],a.html5[s[n].related[r]]=i[n],a.flash[s[n].related[r]]=i[n];i.canPlayType=t?e:null;a.html5=C(a.html5,i);return!0};Q=function(){};Z=function(e){8===y&&1<e.loops&&e.stream&&(e.stream=!1);return e};et=function(e){e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(e.usePolicyFile=!0);return e};tt=function(){};v=function(){return!1};X=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=v)};V=function(e){"undefined"==typeof e&&(e=!1);(x||e)&&a.disable(e)};$=function(e){var t=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");e=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+a.movieURL;a.noSWFCache&&(e+="?ts="+(new Date).getTime());return e};P=function(){y=parseInt(a.flashVersion,10);8!==y&&9!==y&&(a.flashVersion=y=8);var e=a.debugMode||a.debugFlash?"_debug.swf":".swf";a.useHTML5Audio&&!a.html5Only&&a.audioFormats.mp4.required&&9>y&&(a.flashVersion=y=9);a.version=a.versionNumber+(a.html5Only?" (HTML5-only mode)":9===y?" (AS3/Flash 9)":" (AS2/Flash 8)");8<y?(a.defaultOptions=C(a.defaultOptions,a.flash9Options),a.features.buffering=!0,a.defaultOptions=C(a.defaultOptions,a.movieStarOptions),a.filePatterns.flash9=RegExp("\\.(mp3|"+Rt.join("|")+")(\\?.*)?$","i"),a.features.movieStar=!0):a.features.movieStar=!1;a.filePattern=a.filePatterns[8!==y?"flash9":"flash8"];a.movieURL=(8===y?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e);a.features.peakData=a.features.waveformData=a.features.eqData=8<y};z=function(e,t){if(!f)return!1;f._setPolling(e,t)};W=function(){a.debugURLParam.test(p)&&(a.debugMode=!0)};nt=this.getSoundById;Y=function(){var e=[];a.debugMode&&e.push("sm2_debug");a.debugFlash&&e.push("flash_debug");a.useHighPerformance&&e.push("high_performance");return e.join(" ")};G=function(){Q("fbHandler");var e=a.getMoviePercent(),t={type:"FLASHBLOCK"};if(a.html5Only)return!1;if(a.ok())a.oMC&&(a.oMC.className=[Y(),"movieContainer","swf_loaded"+(a.didFlashBlock?" swf_unblocked":"")].join(" "));else{ct&&(a.oMC.className=Y()+" movieContainer "+(null===e?"swf_timedout":"swf_error"));a.didFlashBlock=!0;O({type:"ontimeout",ignoreInit:!0,error:t});U(t)}};A=function(e,t,n){"undefined"==typeof b[e]&&(b[e]=[]);b[e].push({method:t,scope:n||null,fired:!1})};O=function(e){e||(e={type:a.ok()?"onready":"ontimeout"});if(!S&&e&&!e.ignoreInit||"ontimeout"===e.type&&(a.ok()||x&&!e.ignoreInit))return!1;var t={success:e&&e.ignoreInit?a.ok():!x},n=e&&e.type?b[e.type]||[]:[],r=[],i,t=[t],s=ct&&a.useFlashBlock&&!a.ok();e.error&&(t[0].error=e.error);for(e=0,i=n.length;e<i;e++)!0!==n[e].fired&&r.push(n[e]);if(r.length)for(e=0,i=r.length;e<i;e++)if(r[e].scope?r[e].method.apply(r[e].scope,t):r[e].method.apply(this,t),!s)r[e].fired=!0;return!0};M=function(){h.setTimeout(function(){a.useFlashBlock&&G();O();"function"==typeof a.onload&&a.onload.apply(h);a.waitForWindowLoad&&bt.add(h,"load",M)},1)};xt=function(){if("undefined"!=typeof St)return St;var e=!1,t=navigator,n=t.plugins,r,i=h.ActiveXObject;if(n&&n.length)(t=t.mimeTypes)&&t["application/x-shockwave-flash"]&&t["application/x-shockwave-flash"].enabledPlugin&&t["application/x-shockwave-flash"].enabledPlugin.description&&(e=!0);else if("undefined"!=typeof i){try{r=new i("ShockwaveFlash.ShockwaveFlash")}catch(s){}e=!!r}return St=e};ht=function(){var e,t,n=a.audioFormats;if(kt&&c.match(/os (1|2|3_0|3_1)/i)){if(a.hasHTML5=!1,a.html5Only=!0,a.oMC)a.oMC.style.display="none"}else a.useHTML5Audio&&(!a.html5||!a.html5.canPlayType)&&(a.hasHTML5=!1);if(a.useHTML5Audio&&a.hasHTML5)for(t in n)n.hasOwnProperty(t)&&(n[t].required&&!a.html5.canPlayType(n[t].type)||a.preferFlash&&(a.flash[t]||a.flash[n[t].type]))&&(e=!0);a.ignoreFlash&&(e=!1);a.html5Only=a.hasHTML5&&a.useHTML5Audio&&!e;return!a.html5Only};lt=function(e){var t,n,r=0;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(a.canPlayMIME(e[t].type)){r=t;break}}else if(a.canPlayURL(e[t])){r=t;break}e[r].url&&(e[r]=e[r].url);e=e[r]}return e};st=function(e){e._hasTimer||(e._hasTimer=!0,!_t&&a.html5PollingInterval&&(null===ft&&0===at&&(ft=h.setInterval(ut,a.html5PollingInterval)),at++))};ot=function(e){e._hasTimer&&(e._hasTimer=!1,!_t&&a.html5PollingInterval&&at--)};ut=function(){var e;if(null!==ft&&!at)return h.clearInterval(ft),ft=null,!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].isHTML5&&a.sounds[a.soundIDs[e]]._hasTimer&&a.sounds[a.soundIDs[e]]._onTimer()};U=function(e){e="undefined"!=typeof e?e:{};"function"==typeof a.onerror&&a.onerror.apply(h,[{type:"undefined"!=typeof e.type?e.type:null}]);"undefined"!=typeof e.fatal&&e.fatal&&a.disable()};Tt=function(){if(!Dt||!xt())return!1;var e=a.audioFormats,t,n;for(n in e)if(e.hasOwnProperty(n)&&("mp3"===n||"mp4"===n))if(a.html5[n]=!1,e[n]&&e[n].related)for(t=e[n].related.length-1;0<=t;t--)a.html5[e[n].related[t]]=!1};this._setSandboxType=function(){};this._externalInterfaceOK=function(){if(a.swfLoaded)return!1;(new Date).getTime();a.swfLoaded=!0;Ht=!1;Dt&&Tt();setTimeout(g,Lt?100:1)};R=function(e,t){function n(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(w&&E)return!1;if(a.html5Only)return P(),a.oMC=l(a.movieID),g(),E=w=!0,!1;var r=t||a.url,i=a.altURL||r,s=q(),o=Y(),u=null,u=d.getElementsByTagName("html")[0],f,h,p,u=u&&u.dir&&u.dir.match(/rtl/i),e="undefined"==typeof e?a.id:e;P();a.url=$(Ft?r:i);t=a.url;a.wmode=!a.wmode&&a.useHighPerformance?"transparent":a.wmode;null!==a.wmode&&(c.match(/msie 8/i)||!Lt&&!a.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(a.wmode=null);s={name:e,id:e,src:t,quality:"high",allowScriptAccess:a.allowScriptAccess,bgcolor:a.bgColor,pluginspage:It+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:a.wmode,hasPriority:"true"};a.debugFlash&&(s.FlashVars="debug=1");a.wmode||delete s.wmode;if(Lt)r=d.createElement("div"),h=['<object id="'+e+'" data="'+t+'" type="'+s.type+'" title="'+s.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+It+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',n("movie",t),n("AllowScriptAccess",a.allowScriptAccess),n("quality",s.quality),a.wmode?n("wmode",a.wmode):"",n("bgcolor",a.bgColor),n("hasPriority","true"),a.debugFlash?n("FlashVars",s.FlashVars):"","</object>"].join("");else for(f in r=d.createElement("embed"),s)s.hasOwnProperty(f)&&r.setAttribute(f,s[f]);W();o=Y();if(s=q())if(a.oMC=l(a.movieID)||d.createElement("div"),a.oMC.id){p=a.oMC.className;a.oMC.className=(p?p+" ":"movieContainer")+(o?" "+o:"");a.oMC.appendChild(r);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}else{a.oMC.id=a.movieID;a.oMC.className="movieContainer "+o;f=o=null;if(!a.useFlashBlock)if(a.useHighPerformance)o={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"};else if(o={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},u)o.left=Math.abs(parseInt(o.left,10))+"px";At&&(a.oMC.style.zIndex=1e4);if(!a.debugFlash)for(p in o)o.hasOwnProperty(p)&&(a.oMC.style[p]=o[p]);try{Lt||a.oMC.appendChild(r);s.appendChild(a.oMC);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}catch(v){throw Error(Q("domError")+" \n"+v.toString())}}return w=!0};B=function(){if(a.html5Only)return R(),!1;if(f||!a.url)return!1;f=a.getMovie(a.id);f||(J?(Lt?a.oMC.innerHTML=K:a.oMC.appendChild(J),J=null,w=!0):R(a.id,a.url),f=a.getMovie(a.id));"function"==typeof a.oninitmovie&&setTimeout(a.oninitmovie,1);return!0};_=function(){setTimeout(D,1e3)};D=function(){var e,t=!1;if(!a.url||rt)return!1;rt=!0;bt.remove(h,"load",_);if(Ht&&!Pt)return!1;S||(e=a.getMoviePercent(),0<e&&100>e&&(t=!0));setTimeout(function(){e=a.getMoviePercent();if(t)return rt=!1,h.setTimeout(_,1),!1;!S&&Bt&&(null===e?a.useFlashBlock||0===a.flashLoadTimeout?a.useFlashBlock&&G():V(!0):0!==a.flashLoadTimeout&&V(!0))},a.flashLoadTimeout)};H=function(){if(Pt||!Ht)return bt.remove(h,"focus",H),!0;Pt=Bt=!0;rt=!1;_();bt.remove(h,"focus",H);return!0};Ct=function(){};N=function(e){if(S)return!1;if(a.html5Only)return S=!0,M(),!0;var t=!0,n;if(!a.useFlashBlock||!a.flashLoadTimeout||a.getMoviePercent())S=!0,x&&(n={type:!St&&ct?"NO_FLASH":"INIT_TIMEOUT"});if(x||e){a.useFlashBlock&&a.oMC&&(a.oMC.className=Y()+" "+(null===a.getMoviePercent()?"swf_timedout":"swf_error"));O({type:"ontimeout",error:n,ignoreInit:!0});U(n);t=!1}x||(a.waitForWindowLoad&&!T?bt.add(h,"load",M):M());return t};m=function(){var e,t=a.setupOptions;for(e in t)t.hasOwnProperty(e)&&("undefined"==typeof a[e]?a[e]=t[e]:a[e]!==t[e]&&(a.setupOptions[e]=a[e]))};g=function(){if(S)return!1;if(a.html5Only){S||(bt.remove(h,"load",a.beginDelayedInit),a.enabled=!0,N());return!0}B();try{f._externalInterfaceTest(!1),z(!0,a.flashPollingInterval||(a.useHighPerformance?10:50)),a.debugMode||f._disableDebug(),a.enabled=!0,a.html5Only||bt.add(h,"unload",v)}catch(e){return U({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),V(!0),N(),!1}N();bt.remove(h,"load",a.beginDelayedInit);return!0};j=function(){if(I)return!1;I=!0;m();W();!St&&a.hasHTML5&&a.setup({useHTML5Audio:!0,preferFlash:!1});yt();a.html5.usingFlash=ht();ct=a.html5.usingFlash;Ct();!St&&ct&&a.setup({flashLoadTimeout:1});d.removeEventListener&&d.removeEventListener("DOMContentLoaded",j,!1);B();return!0};gt=function(){"complete"===d.readyState&&(j(),d.detachEvent("onreadystatechange",gt));return!0};F=function(){T=!0;bt.remove(h,"load",F)};xt();bt.add(h,"focus",H);bt.add(h,"load",_);bt.add(h,"load",F);d.addEventListener?d.addEventListener("DOMContentLoaded",j,!1):d.attachEvent?d.attachEvent("onreadystatechange",gt):U({type:"NO_DOM2_EVENTS",fatal:!0})}var n=null;if("undefined"==typeof SM2_DEFER||!SM2_DEFER)n=new t;e.SoundManager=t;e.soundManager=n})(window);__slice=[].slice;typeof soundManager!="undefined"&&soundManager.setup({url:"swf/",flashVersion:9,useFlashBlock:!1,useHighPerformance:!0,wmode:"transparent",useFastPolling:!0,debugFlash:!1,debugMode:!1});var SoundCloudPlayer=function(e,t){var n={loop:!1,start_on:0,autoplay:!1,autoswitch:!0,volume:100,toggle_pause:!0,cache:!0,preload:!1,debug:!1},r="http://api.soundcloud.com/resolve?url=http://soundcloud.com",i=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi),s=this,o=jQuery(this);this.tracks=[];this.config=jQuery.extend(n,t);this.current_track_index=this.config.start_on;this.current_track=null;this.sound=null;this.inited=!1;this.play_when_ready=!1;this.cache={};this.init=function(){if(s.inited)return;s.change_track();s.trigger("scplayer.init");s.config.autoplay&&s.play();s.inited=!0};this.change_track=function(e){s.log("change_track");if(s.sound){s.sound.destruct();s.sound=null}var t=typeof e!="undefined"?e:s.current_track_index;if(e!=s.current_track_index||!e){var n=s.tracks[t];s.resolve_track(n,s.set_sound);s.trigger("scplayer.changing_track",t)}return s};this.play=function(){s.log("play");s.sound&&s.sound.readyState==3?s.sound.play():s.play_when_ready=!0;s.trigger("scplayer.play",s.current_track_index);return s};this.pause=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.pause();s.trigger("scplayer.pause",s.sound.paused)}return s};this.resume=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.resume();s.trigger("scplayer.pause",s.sound.paused)}return s};this.stop=function(){s.sound&&s.sound.stop();s.trigger("scplayer.stop");s.log("stop");return s};this.next=function(e){s.log("next");s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;s.log(s.play_when_ready);if(s.tracks[s.current_track_index+1]){s.current_track_index++;s.change_track();s.trigger("scplayer.playlist.next",s.current_track_index-1,s.current_track_index);s.log("has next")}else if(s.config.loop){s.current_track_index=0;s.change_track();s.trigger("scplayer.playlist.looped");s.log("looped")}else{s.current_track_index=s.tracks.length-1;s.trigger("scplayer.playlist.ended");s.log("no mas")}return s};this.prev=function(e){s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;if(s.tracks[s.current_track_index-1]){s.current_track_index--;s.change_track();s.trigger("scplayer.playlist.prev")}else if(s.config.loop){s.current_track_index=s.tracks.length-1;s.change_track();s.trigger("scplayer.playlist.looped")}else{s.current_track_index=0;s.trigger("scplayer.playlist.restarted")}return s};this.goto=function(e,t){s.log("goto");s.play_when_ready=typeof t!="undefined"?t:s.config.autoswitch;if(s.tracks[e]){s.current_track_index=e;s.trigger("scplayer.playlist.goto");s.change_track()}return s};this.restart_track=function(){s.position(0);return s};this.mute=function(){s.sound&&s.sound.toggleMute();s.trigger("scplayer.mute",s.sound.muted);return s};this.has_next=function(){s.log("has next");return s.tracks[s.current_track_index+1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.has_prev=function(){return s.tracks[s.current_track_index-1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.get_time=function(){var e=this.position(),t=e%1e3,n=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),i=Math.floor(e/36e5%24),o=r+":"+s.pad(n);i>0&&(o=i+":"+o);return o};this.position=function(e){if(s.sound){if(e||e===0){e=Math.min(s.sound.duration,e);e=Math.max(0,e);s.trigger("scplayer.position",e);return s.sound.setPosition(e)}s.trigger("scplayer.position",s.sound.position);return s.sound.position}return 0};this.volume=function(e){if(s.sound){if(e||e===0){e=Math.min(100,e);e=Math.max(0,e);s.trigger("scplayer.volume",e);s.config.volume=e;return s.sound.setVolume(e)}s.trigger("scplayer.volume",s.sound.volume);return s.sound.volume}return s.config.volume};this.seek=function(e){var t=s.current_track.duration*e;s.position(t);return s};this.loop=function(e){if(e){s.config.loop=e;s.trigger("scplayer.loop_changed",s.config.loop)}return s.config.loop};this.track_info=function(e){s.isNumeric(e)&&(e=s.tracks[e]);return s.resolve_track(e)};this.on=function(e,t){return o.on(e,t)};this.trigger=function(e){var t=arguments.length>1?__slice.call(arguments,1):[];return o.trigger(e,t)};this.destroy=function(){s.sound&&s.sound.destruct();s.tracks=[];o.off();o.remove();s.tracks=null;s.track=null;s=null;delete s.tracks;delete s.track;delete s;delete this};s.get_track=function(){return s.current_track};s.get_track_index=function(){return s.current_track_index};s.get_sound=function(){return s.sound};s.get_playlist=function(){return s.tracks};s.set_cache=function(e,t){s.config.cache===!0&&(s.cache[e]=t)};s.get_cache=function(e){return s.config.cache===!0?s.cache[e]||null:null};s.set_sound=function(e){s.log("set_sound");s.trigger("scplayer.track.info_loaded",e);s.current_track=e;var t=e.stream_url;t+=t.indexOf("secret_token")==-1?"?":"&";t+="consumer_key="+s.config.consumer_key;s.sound=soundManager.createSound({autoLoad:!0,id:"track_"+e.id,multiShot:!1,loops:1,url:t,volume:s.config.volume,whileloading:function(){var e=Math.round(this.bytesLoaded/this.bytesTotal*100);s.trigger("scplayer.track.whileloading",e)},whileplaying:function(){var t=Math.round(this.position/e.duration*100*10)/10;s.trigger("scplayer.track.whileplaying",t)},onplay:function(){s.log("track.onplay");s.trigger("scplayer.track.played")},onresume:function(){s.trigger("scplayer.track.resumed")},onstop:function(){s.trigger("scplayer.track.stopped")},onpause:function(){s.trigger("scplayer.track.paused")},onfinish:function(){s.trigger("scplayer.track.finished")},onload:function(){s.log("onload");s.trigger("scplayer.track.ready",s.current_track_index,s.current_track)}});s.trigger("scplayer.track.bindable",e,s.sound)};s.resolve_track=function(e,t){var n=new jQuery.Deferred;if(e.match(i)&&e.search(/soundcloud\.com/i)===-1){var o={stream_url:e,id:0,permalink_url:e,duration:0};n.resolve(o)}e=e.replace(/https?\:\/\/soundcloud\.com/gi,"");if(s.config.cache===!0){var u=s.get_cache(e);if(u&&t){n.done(function(){t(u)}).resolve();return n}}n.done(function(n){if(n.tracks&&n.tracks.length>0){var r=s.parse_tracks(e,n.tracks);n=r[0]}else s.config.cache===!0&&s.set_cache(e,n);t&&t(n)});jQuery.ajax({url:r+e+"&format=json"+"&consumer_key="+s.config.consumer_key+"&callback=?",dataType:"jsonp",error:function(e,t,r){n.reject(e,t,r)},success:function(e){n.resolve(e)}});return n};s.preload_sc_tracks=function(e){var t=[];for(var n=0,r=s.tracks.length;n<r;n++){var i=s.tracks[n],o=s.resolve_track(i);t.push(o)}jQuery.when.apply(jQuery,t).then(function(){s.trigger("scplayer.playlist.preloaded");e&&e()},function(){s.log("promises failed to preload tracks")})};s.parse_tracks=function(e,t){var n=[],r=[],i=s.tracks.indexOf(e);for(var o=0,u=t.length;o<u;o++){var a=t[o],f=a.permalink_url.substring(21);s.config.cache===!0&&s.set_cache(f,a);n.push(a);r.push(f)}var l=[i,1].concat(r);s.tracks.splice.apply(s.tracks,l);return n};s.add_tracks=function(e){typeof e=="string"&&(e=[e]);if(e!=null&&e.length>0){s.tracks=s.tracks.concat(e);s.config.preload==1?s.preload_sc_tracks.call(s,s.init):s.init.call(s)}};s.log=function(){s.config.debug&&window.console&&console.log.apply(console,arguments)};s.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};s.pad=function(e){return(e<10?"0":"")+e};s.on("scplayer.track.ready",function(e){s.log("track.onready!!!");if(s.play_when_ready==1){s.play();s.play_when_ready=!1}});s.on("scplayer.track.finished",function(e){s.log("track finished");if(s.config.autoswitch&&(s.config.loop||s.has_next())){s.log("finished and autoswitch");s.next().play()}});s.on("scplayer.playlist.ended",function(e){s.log("playlist ended");s.config.loop||s.stop()});soundManager.onready(function(){s.log("SOUNDMANAGER2 ready!!");s.add_tracks(e)});soundManager.ontimeout(function(){window.console&&console.log("SOUNDMANAGER2 TIMEDOUT!!")});return{play:this.play,pause:this.pause,resume:this.resume,stop:this.stop,next:this.next,prev:this.prev,mute:this.mute,get_time:this.get_time,volume:this.volume,restart_track:this.restart_track,"goto":this.goto,position:this.position,seek:this.seek,track_info:this.track_info,has_next:this.has_next,has_prev:this.has_prev,on:this.on,trigger:this.trigger,track:this.get_track,track_index:this.get_track_index,sound:this.get_sound,playlist:this.get_playlist,destroy:this.destroy,add_tracks:this.add_tracks}};(function(e){function t(t,n){function r(e){return a.preferFlash&&St&&!a.ignoreFlash&&"undefined"!=typeof a.flash[e]&&a.flash[e]}function i(e){return function(t){var n=this._t;return!n||!n._a?null:e.call(this,t)}}this.setupOptions={url:t||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=n||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20120916";this.altURL=this.movieURL=this.version=null;this.enabled=this.swfLoaded=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.didFlashBlock=this.muted=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={};var s;try{s="undefined"!=typeof Audio&&"undefined"!=typeof (Mt&&10>opera.version()?new Audio(null):new Audio).canPlayType}catch(o){s=!1}this.hasHTML5=s;this.html5={usingFlash:null};this.flash={};this.ignoreFlash=this.html5Only=!1;var u,a=this,f=null,l,c=navigator.userAgent,h=e,p=h.location.href.toString(),d=document,v,m,g,y,b=[],w=!1,E=!1,S=!1,x=!1,T=!1,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J=null,K=null,Q,G,Y,Z,et,tt,nt,rt=!1,it=!1,st,ot,ut,at=0,ft=null,lt,ct=null,ht,pt,dt,vt,mt,gt,yt,bt,wt=Array.prototype.slice,Et=!1,St,xt,Tt,Nt,Ct,kt=c.match(/(ipad|iphone|ipod)/i),Lt=c.match(/msie/i),At=c.match(/webkit/i),Ot=c.match(/safari/i)&&!c.match(/chrome/i),Mt=c.match(/opera/i),_t=c.match(/(mobile|pre\/|xoom)/i)||kt,Dt=!p.match(/usehtml5audio/i)&&!p.match(/sm2\-ignorebadua/i)&&Ot&&!c.match(/silk/i)&&c.match(/OS X 10_6_([3-7])/i),Pt="undefined"!=typeof d.hasFocus?d.hasFocus():null,Ht=Ot&&("undefined"==typeof d.hasFocus||!d.hasFocus()),Bt=!Ht,jt=/(mp3|mp4|mpa|m4a|m4b)/i,Ft=d.location?d.location.protocol.match(/http/i):null,It=Ft?"":"http://",qt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Rt="mpeg4,aac,flv,mov,mp4,m4v,f4v,m4a,m4b,mp4v,3gp,3g2".split(","),Ut=RegExp("\\.("+Rt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!Ft;this._global_a=null;_t&&(a.useHTML5Audio=!0,a.preferFlash=!1,kt)&&(Et=a.ignoreFlash=!0);this.setup=function(e){var t=!a.url;"undefined"!=typeof e&&S&&ct&&a.ok()&&("undefined"!=typeof e.flashVersion||"undefined"!=typeof e.url)&&tt(Q("setupLate"));k(e);t&&I&&"undefined"!=typeof e.url&&a.beginDelayedInit();!I&&"undefined"!=typeof e.url&&"complete"===d.readyState&&setTimeout(j,1);return a};this.supported=this.ok=function(){return ct?S&&!x:a.useHTML5Audio&&a.hasHTML5};this.getMovie=function(e){return l(e)||d[e]||h[e]};this.createSound=function(e,t){function n(){r=Z(r);a.sounds[s.id]=new u(s);a.soundIDs.push(s.id);return a.sounds[s.id]}var r=null,i=null,s=null;if(!S||!a.ok())return tt(void 0),!1;"undefined"!=typeof t&&(e={id:e,url:t});r=C(e);r.url=lt(r.url);s=r;if(nt(s.id,!0))return a.sounds[s.id];if(pt(s))i=n(),i._setup_html5(s);else{8<y&&null===s.isMovieStar&&(s.isMovieStar=!!s.serverURL||!!(s.type&&s.type.match(qt)||s.url.match(Ut)));s=et(s,void 0);i=n();if(8===y)f._createSound(s.id,s.loops||1,s.usePolicyFile);else if(f._createSound(s.id,s.url,s.usePeakData,s.useWaveformData,s.useEQData,s.isMovieStar,s.isMovieStar?s.bufferTime:!1,s.loops||1,s.serverURL,s.duration||null,s.autoPlay,!0,s.autoLoad,s.usePolicyFile),!s.serverURL)i.connected=!0,s.onconnect&&s.onconnect.apply(i);!s.serverURL&&(s.autoLoad||s.autoPlay)&&i.load(s)}!s.serverURL&&s.autoPlay&&i.play();return i};this.destroySound=function(e,t){if(!nt(e))return!1;var n=a.sounds[e],r;n._iO={};n.stop();n.unload();for(r=0;r<a.soundIDs.length;r++)if(a.soundIDs[r]===e){a.soundIDs.splice(r,1);break}t||n.destruct(!0);delete a.sounds[e];return!0};this.load=function(e,t){return nt(e)?a.sounds[e].load(t):!1};this.unload=function(e){return nt(e)?a.sounds[e].unload():!1};this.onposition=this.onPosition=function(e,t,n,r){return nt(e)?a.sounds[e].onposition(t,n,r):!1};this.clearOnPosition=function(e,t,n){return nt(e)?a.sounds[e].clearOnPosition(t,n):!1};this.start=this.play=function(e,t){var n=!1;if(!S||!a.ok())return tt("soundManager.play(): "+Q(S?"notOK":"notReady")),n;if(!nt(e)){t instanceof Object||(t={url:t});t&&t.url&&(t.id=e,n=a.createSound(t).play());return n}return a.sounds[e].play(t)};this.setPosition=function(e,t){return nt(e)?a.sounds[e].setPosition(t):!1};this.stop=function(e){return nt(e)?a.sounds[e].stop():!1};this.stopAll=function(){for(var e in a.sounds)a.sounds.hasOwnProperty(e)&&a.sounds[e].stop()};this.pause=function(e){return nt(e)?a.sounds[e].pause():!1};this.pauseAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].pause()};this.resume=function(e){return nt(e)?a.sounds[e].resume():!1};this.resumeAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].resume()};this.togglePause=function(e){return nt(e)?a.sounds[e].togglePause():!1};this.setPan=function(e,t){return nt(e)?a.sounds[e].setPan(t):!1};this.setVolume=function(e,t){return nt(e)?a.sounds[e].setVolume(t):!1};this.mute=function(e){var t=0;"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].mute():!1;for(t=a.soundIDs.length-1;0<=t;t--)a.sounds[a.soundIDs[t]].mute();return a.muted=!0};this.muteAll=function(){a.mute()};this.unmute=function(e){"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].unmute():!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].unmute();a.muted=!1;return!0};this.unmuteAll=function(){a.unmute()};this.toggleMute=function(e){return nt(e)?a.sounds[e].toggleMute():!1};this.getMemoryUse=function(){var e=0;f&&8!==y&&(e=parseInt(f._getMemoryUse(),10));return e};this.disable=function(e){var t;"undefined"==typeof e&&(e=!1);if(x)return!1;x=!0;for(t=a.soundIDs.length-1;0<=t;t--)X(a.sounds[a.soundIDs[t]]);N(e);bt.remove(h,"load",M);return!0};this.canPlayMIME=function(e){var t;a.hasHTML5&&(t=dt({type:e}));!t&&ct&&(t=e&&a.ok()?!!(8<y&&e.match(qt)||e.match(a.mimePattern)):null);return t};this.canPlayURL=function(e){var t;a.hasHTML5&&(t=dt({url:e}));!t&&ct&&(t=e&&a.ok()?!!e.match(a.filePattern):null);return t};this.canPlayLink=function(e){return"undefined"!=typeof e.type&&e.type&&a.canPlayMIME(e.type)?!0:a.canPlayURL(e.href)};this.getSoundById=function(e){if(!e)throw Error("soundManager.getSoundById(): sID is null/undefined");return a.sounds[e]};this.onready=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","onready");t||(t=h),A("onready",e,t),O();return!0};this.ontimeout=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","ontimeout");t||(t=h),A("ontimeout",e,t),O({type:"ontimeout"});return!0};this._wD=this._writeDebug=function(){return!0};this._debug=function(){};this.reboot=function(){var e,t;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].destruct();if(f)try{Lt&&(K=f.innerHTML);J=f.parentNode.removeChild(f)}catch(n){}K=J=ct=null;a.enabled=I=S=rt=it=w=E=x=a.swfLoaded=!1;a.soundIDs=[];a.sounds={};f=null;for(e in b)if(b.hasOwnProperty(e))for(t=b[e].length-1;0<=t;t--)b[e][t].fired=!1;h.setTimeout(a.beginDelayedInit,20)};this.getMoviePercent=function(){return f&&"undefined"!=typeof f.PercentLoaded?f.PercentLoaded():null};this.beginDelayedInit=function(){T=!0;j();setTimeout(function(){if(it)return!1;R();B();return it=!0},20);_()};this.destruct=function(){a.disable(!0)};u=function(e){var t,n,r=this,i,s,o,u,l,c,h=!1,p=[],d=0,v,m,g=null;t=null;n=null;this.sID=this.id=e.id;this.url=e.url;this._iO=this.instanceOptions=this.options=C(e);this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;this.id3={};this._debug=function(){};this.load=function(e){var t=null;if("undefined"!=typeof e)r._iO=C(e,r.options),r.instanceOptions=r._iO;else if(e=r.options,r._iO=e,r.instanceOptions=r._iO,g&&g!==r.url)r._iO.url=r.url,r.url=null;r._iO.url||(r._iO.url=r.url);r._iO.url=lt(r._iO.url);if(r._iO.url===r.url&&0!==r.readyState&&2!==r.readyState)return 3===r.readyState&&r._iO.onload&&r._iO.onload.apply(r,[!!r.duration]),r;e=r._iO;g=r.url&&r.url.toString?r.url.toString():null;r.loaded=!1;r.readyState=1;r.playState=0;r.id3={};if(pt(e)){if(t=r._setup_html5(e),!t._called_load){r._html5_canplay=!1;r._a.src!==e.url&&(r._a.src=e.url,r.setPosition(0));r._a.autobuffer="auto";r._a.preload="auto";t._called_load=!0;e.autoPlay&&r.play()}}else try{r.isHTML5=!1,r._iO=et(Z(e)),e=r._iO,8===y?f._load(r.id,e.url,e.stream,e.autoPlay,e.whileloading?1:0,e.loops||1,e.usePolicyFile):f._load(r.id,e.url,!!e.stream,!!e.autoPlay,e.loops||1,!!e.autoLoad,e.usePolicyFile)}catch(n){U({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}r.url=e.url;return r};this.unload=function(){if(0!==r.readyState){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a,"about:blank"),r.url="about:blank"}else 8===y?f._unload(r.id,"about:blank"):f._unload(r.id);i()}return r};this.destruct=function(e){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a),Et||o(),r._a._t=null,r._a=null}else r._iO.onfailure=null,f._destroySound(r.id);e||a.destroySound(r.id,!0)};this.start=this.play=function(e,t){var n,i;i=!0;i=null;t="undefined"==typeof t?!0:t;e||(e={});r.url&&(r._iO.url=r.url);r._iO=C(r._iO,r.options);r._iO=C(e,r._iO);r._iO.url=lt(r._iO.url);r.instanceOptions=r._iO;if(r._iO.serverURL&&!r.connected)return r.getAutoPlay()||r.setAutoPlay(!0),r;pt(r._iO)&&(r._setup_html5(r._iO),l());1===r.playState&&!r.paused&&((n=r._iO.multiShot)||(i=r));if(null!==i)return i;e.url&&e.url!==r.url&&r.load(r._iO);if(!r.loaded)if(0===r.readyState){r.isHTML5||(r._iO.autoPlay=!0);r.load(r._iO)}else 2===r.readyState&&(i=r);if(null!==i)return i;!r.isHTML5&&9===y&&0<r.position&&r.position===r.duration&&(e.position=0);if(r.paused&&0<=r.position&&(!r._iO.serverURL||0<r.position))r.resume();else{r._iO=C(e,r._iO);if(null!==r._iO.from&&null!==r._iO.to&&0===r.instanceCount&&0===r.playState&&!r._iO.serverURL){n=function(){r._iO=C(e,r._iO);r.play(r._iO)};r.isHTML5&&!r._html5_canplay?(r.load({_oncanplay:n}),i=!1):!r.isHTML5&&!r.loaded&&(!r.readyState||2!==r.readyState)&&(r.load({onload:n}),i=!1);if(null!==i)return i;r._iO=m()}(!r.instanceCount||r._iO.multiShotEvents||!r.isHTML5&&8<y&&!r.getAutoPlay())&&r.instanceCount++;r._iO.onposition&&0===r.playState&&c(r);r.playState=1;r.paused=!1;r.position="undefined"!=typeof r._iO.position&&!isNaN(r._iO.position)?r._iO.position:0;r.isHTML5||(r._iO=et(Z(r._iO)));r._iO.onplay&&t&&(r._iO.onplay.apply(r),h=!0);r.setVolume(r._iO.volume,!0);r.setPan(r._iO.pan,!0);r.isHTML5?(l(),i=r._setup_html5(),r.setPosition(r._iO.position),i.play()):(i=f._start(r.id,r._iO.loops||1,9===y?r._iO.position:r._iO.position/1e3,r._iO.multiShot),9===y&&!i&&r._iO.onplayerror&&r._iO.onplayerror.apply(r))}return r};this.stop=function(e){var t=r._iO;if(1===r.playState){r._onbufferchange(0);r._resetOnPosition(0);r.paused=!1;r.isHTML5||(r.playState=0);v();t.to&&r.clearOnPosition(t.to);r.isHTML5?r._a&&(e=r.position,r.setPosition(0),r.position=e,r._a.pause(),r.playState=0,r._onTimer(),u()):(f._stop(r.id,e),t.serverURL&&r.unload());r.instanceCount=0;r._iO={};t.onstop&&t.onstop.apply(r)}return r};this.setAutoPlay=function(e){r._iO.autoPlay=e;r.isHTML5||(f._setAutoPlay(r.id,e),e&&!r.instanceCount&&1===r.readyState&&r.instanceCount++)};this.getAutoPlay=function(){return r._iO.autoPlay};this.setPosition=function(e){"undefined"==typeof e&&(e=0);var t=r.isHTML5?Math.max(e,0):Math.min(r.duration||r._iO.duration,Math.max(e,0));r.position=t;e=r.position/1e3;r._resetOnPosition(r.position);r._iO.position=t;if(r.isHTML5){if(r._a&&r._html5_canplay&&r._a.currentTime!==e)try{r._a.currentTime=e,(0===r.playState||r.paused)&&r._a.pause()}catch(n){}}else e=9===y?r.position:e,r.readyState&&2!==r.readyState&&f._setPosition(r.id,e,r.paused||!r.playState,r._iO.multiShot);r.isHTML5&&r.paused&&r._onTimer(!0);return r};this.pause=function(e){if(r.paused||0===r.playState&&1!==r.readyState)return r;r.paused=!0;r.isHTML5?(r._setup_html5().pause(),u()):(e||"undefined"==typeof e)&&f._pause(r.id,r._iO.multiShot);r._iO.onpause&&r._iO.onpause.apply(r);return r};this.resume=function(){var e=r._iO;if(!r.paused)return r;r.paused=!1;r.playState=1;r.isHTML5?(r._setup_html5().play(),l()):(e.isMovieStar&&!e.serverURL&&r.setPosition(r.position),f._pause(r.id,e.multiShot));!h&&e.onplay?(e.onplay.apply(r),h=!0):e.onresume&&e.onresume.apply(r);return r};this.togglePause=function(){if(0===r.playState)return r.play({position:9===y&&!r.isHTML5?r.position:r.position/1e3}),r;r.paused?r.resume():r.pause();return r};this.setPan=function(e,t){"undefined"==typeof e&&(e=0);"undefined"==typeof t&&(t=!1);r.isHTML5||f._setPan(r.id,e);r._iO.pan=e;t||(r.pan=e,r.options.pan=e);return r};this.setVolume=function(e,t){"undefined"==typeof e&&(e=100);"undefined"==typeof t&&(t=!1);r.isHTML5?r._a&&(r._a.volume=Math.max(0,Math.min(1,e/100))):f._setVolume(r.id,a.muted&&!r.muted||r.muted?0:e);r._iO.volume=e;t||(r.volume=e,r.options.volume=e);return r};this.mute=function(){r.muted=!0;r.isHTML5?r._a&&(r._a.muted=!0
):f._setVolume(r.id,0);return r};this.unmute=function(){r.muted=!1;var e="undefined"!=typeof r._iO.volume;r.isHTML5?r._a&&(r._a.muted=!1):f._setVolume(r.id,e?r._iO.volume:r.options.volume);return r};this.toggleMute=function(){return r.muted?r.unmute():r.mute()};this.onposition=this.onPosition=function(e,t,n){p.push({position:parseInt(e,10),method:t,scope:"undefined"!=typeof n?n:r,fired:!1});return r};this.clearOnPosition=function(e,t){var n,e=parseInt(e,10);if(isNaN(e))return!1;for(n=0;n<p.length;n++)e===p[n].position&&(!t||t===p[n].method)&&(p[n].fired&&d--,p.splice(n,1))};this._processOnPosition=function(){var e,t;e=p.length;if(!e||!r.playState||d>=e)return!1;for(e-=1;0<=e;e--)if(t=p[e],!t.fired&&r.position>=t.position)t.fired=!0,d++,t.method.apply(t.scope,[t.position]);return!0};this._resetOnPosition=function(e){var t,n;t=p.length;if(!t)return!1;for(t-=1;0<=t;t--)if(n=p[t],n.fired&&e<=n.position)n.fired=!1,d--;return!0};m=function(){var e=r._iO,t=e.from,n=e.to,i,s;s=function(){r.clearOnPosition(n,s);r.stop()};i=function(){null!==n&&!isNaN(n)&&r.onPosition(n,s)};null!==t&&!isNaN(t)&&(e.position=t,e.multiShot=!1,i());return e};c=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.onPosition(parseInt(e,10),t[e])};v=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.clearOnPosition(parseInt(e,10))};l=function(){r.isHTML5&&st(r)};u=function(){r.isHTML5&&ot(r)};i=function(e){e||(p=[],d=0);h=!1;r._hasTimer=null;r._a=null;r._html5_canplay=!1;r.bytesLoaded=null;r.bytesTotal=null;r.duration=r._iO&&r._iO.duration?r._iO.duration:null;r.durationEstimate=null;r.buffered=[];r.eqData=[];r.eqData.left=[];r.eqData.right=[];r.failures=0;r.isBuffering=!1;r.instanceOptions={};r.instanceCount=0;r.loaded=!1;r.metadata={};r.readyState=0;r.muted=!1;r.paused=!1;r.peakData={left:0,right:0};r.waveformData={left:[],right:[]};r.playState=0;r.position=null;r.id3={}};i();this._onTimer=function(e){var i,s=!1,o={};if(r._hasTimer||e){if(r._a&&(e||(0<r.playState||1===r.readyState)&&!r.paused)){i=r._get_html5_duration();i!==t&&(t=i,r.duration=i,s=!0);r.durationEstimate=r.duration;i=1e3*r._a.currentTime||0;i!==n&&(n=i,s=!0);(s||e)&&r._whileplaying(i,o,o,o,o)}return s}};this._get_html5_duration=function(){var e=r._iO;return(e=r._a&&r._a.duration?1e3*r._a.duration:e&&e.duration?e.duration:null)&&!isNaN(e)&&Infinity!==e?e:null};this._apply_loop=function(e,t){e.loop=1<t?"loop":""};this._setup_html5=function(e){var e=C(r._iO,e),t=decodeURI,n=Et?a._global_a:r._a,o=t(e.url),u=n&&n._t?n._t.instanceOptions:null,f;if(n){if(n._t){!Et&&o===t(g)?f=n:Et&&u.url===e.url&&(!g||g===u.url)&&(f=n);if(f)return r._apply_loop(n,e.loops),f}Et&&n._t&&n._t.playState&&e.url!==u.url&&n._t.stop();i(u&&u.url?e.url===u.url:g?g===e.url:!1);n.src=e.url;g=r.url=e.url;n._called_load=!1}else if(r._a=e.autoLoad||e.autoPlay?new Audio(e.url):Mt&&10>opera.version()?new Audio(null):new Audio,n=r._a,n._called_load=!1,Et)a._global_a=n;r.isHTML5=!0;r._a=n;n._t=r;s();r._apply_loop(n,e.loops);e.autoLoad||e.autoPlay?r.load():(n.autobuffer=!1,n.preload="auto");return n};s=function(){if(r._a._added_events)return!1;var e;r._a._added_events=!0;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.addEventListener(e,Nt[e],!1);return!0};o=function(){var e;r._a._added_events=!1;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.removeEventListener(e,Nt[e],!1)};this._onload=function(e){e=!!e||!r.isHTML5&&8===y&&r.duration;r.loaded=e;r.readyState=e?3:2;r._onbufferchange(0);r._iO.onload&&r._iO.onload.apply(r,[e]);return!0};this._onbufferchange=function(e){if(0===r.playState||e&&r.isBuffering||!e&&!r.isBuffering)return!1;r.isBuffering=1===e;r._iO.onbufferchange&&r._iO.onbufferchange.apply(r);return!0};this._onsuspend=function(){r._iO.onsuspend&&r._iO.onsuspend.apply(r);return!0};this._onfailure=function(e,t,n){r.failures++;r._iO.onfailure&&1===r.failures&&r._iO.onfailure(r,e,t,n)};this._onfinish=function(){var e=r._iO.onfinish;r._onbufferchange(0);r._resetOnPosition(0);if(r.instanceCount){r.instanceCount--;!r.instanceCount&&(v(),r.playState=0,r.paused=!1,r.instanceCount=0,r.instanceOptions={},r._iO={},u(),r.isHTML5)&&(r.position=0);(!r.instanceCount||r._iO.multiShotEvents)&&e&&e.apply(r)}};this._whileloading=function(e,t,n,i){var s=r._iO;r.bytesLoaded=e;r.bytesTotal=t;r.duration=Math.floor(n);r.bufferLength=i;r.durationEstimate=!r.isHTML5&&!s.isMovieStar?s.duration?r.duration>s.duration?r.duration:s.duration:parseInt(r.bytesTotal/r.bytesLoaded*r.duration,10):r.duration;r.isHTML5||(r.buffered=[{start:0,end:r.duration}]);(3!==r.readyState||r.isHTML5)&&s.whileloading&&s.whileloading.apply(r)};this._whileplaying=function(e,t,n,i,s){var o=r._iO;if(isNaN(e)||null===e)return!1;r.position=Math.max(0,e);r._processOnPosition();if(!r.isHTML5&&8<y){o.usePeakData&&"undefined"!=typeof t&&t&&(r.peakData={left:t.leftPeak,right:t.rightPeak});o.useWaveformData&&"undefined"!=typeof n&&n&&(r.waveformData={left:n.split(","),right:i.split(",")});o.useEQData&&"undefined"!=typeof s&&s&&s.leftEQ&&(e=s.leftEQ.split(","),r.eqData=e,r.eqData.left=e,"undefined"!=typeof s.rightEQ&&s.rightEQ)&&(r.eqData.right=s.rightEQ.split(","))}1===r.playState&&(!r.isHTML5&&8===y&&!r.position&&r.isBuffering&&r._onbufferchange(0),o.whileplaying&&o.whileplaying.apply(r));return!0};this._oncaptiondata=function(e){r.captiondata=e;r._iO.oncaptiondata&&r._iO.oncaptiondata.apply(r,[e])};this._onmetadata=function(e,t){var n={},i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.metadata=n;r._iO.onmetadata&&r._iO.onmetadata.apply(r)};this._onid3=function(e,t){var n=[],i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.id3=C(r.id3,n);r._iO.onid3&&r._iO.onid3.apply(r)};this._onconnect=function(e){e=1===e;if(r.connected=e)r.failures=0,nt(r.id)&&(r.getAutoPlay()?r.play(void 0,r.getAutoPlay()):r._iO.autoLoad&&r.load()),r._iO.onconnect&&r._iO.onconnect.apply(r,[e])};this._ondataerror=function(){0<r.playState&&r._iO.ondataerror&&r._iO.ondataerror.apply(r)}};q=function(){return d.body||d._docElement||d.getElementsByTagName("div")[0]};l=function(e){return d.getElementById(e)};C=function(e,t){var n=e||{},r,i;r="undefined"==typeof t?a.defaultOptions:t;for(i in r)r.hasOwnProperty(i)&&"undefined"==typeof n[i]&&(n[i]="object"!=typeof r[i]||null===r[i]?r[i]:C(n[i],r[i]));return n};L={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};k=function(e,t){var n,r=!0,i="undefined"!=typeof t,s=a.setupOptions;for(n in e)if(e.hasOwnProperty(n))if("object"!=typeof e[n]||null===e[n]||e[n]instanceof Array)i&&"undefined"!=typeof L[t]?a[t][n]=e[n]:"undefined"!=typeof s[n]?(a.setupOptions[n]=e[n],a[n]=e[n]):"undefined"==typeof L[n]?(tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1):a[n]instanceof Function?a[n].apply(a,e[n]instanceof Array?e[n]:[e[n]]):a[n]=e[n];else{if("undefined"!=typeof L[n])return k(e[n],n);tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1}return r};bt=function(){function e(e){var e=wt.call(e),t=e.length;n?(e[1]="on"+e[1],3<t&&e.pop()):3===t&&e.push(!1);return e}function t(e,t){var i=e.shift(),s=[r[t]];n?i[s](e[0],e[1]):i[s].apply(i,e)}var n=h.attachEvent,r={add:n?"attachEvent":"addEventListener",remove:n?"detachEvent":"removeEventListener"};return{add:function(){t(e(arguments),"add")},remove:function(){t(e(arguments),"remove")}}}();Nt={abort:i(function(){}),canplay:i(function(){var e=this._t,t;if(e._html5_canplay)return!0;e._html5_canplay=!0;e._onbufferchange(0);t="undefined"!=typeof e._iO.position&&!isNaN(e._iO.position)?e._iO.position/1e3:null;if(e.position&&this.currentTime!==t)try{this.currentTime=t}catch(n){}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:i(function(){var e=this._t;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),ended:i(function(){this._t._onfinish()}),error:i(function(){this._t._onload(!1)}),loadeddata:i(function(){var e=this._t;!e._loaded&&!Ot&&(e.duration=e._get_html5_duration())}),loadedmetadata:i(function(){}),loadstart:i(function(){this._t._onbufferchange(1)}),play:i(function(){this._t._onbufferchange(0)}),playing:i(function(){this._t._onbufferchange(0)}),progress:i(function(e){var t=this._t,n,r,i=0,i=e.target.buffered;n=e.loaded||0;var s=e.total||1;t.buffered=[];if(i&&i.length){for(n=0,r=i.length;n<r;n++)t.buffered.push({start:1e3*i.start(n),end:1e3*i.end(n)});i=1e3*(i.end(0)-i.start(0));n=i/(1e3*e.target.duration)}isNaN(n)||(t._onbufferchange(0),t._whileloading(n,s,t._get_html5_duration()),n&&s&&n===s&&Nt.canplaythrough.call(this,e))}),ratechange:i(function(){}),suspend:i(function(e){var t=this._t;Nt.progress.call(this,e);t._onsuspend()}),stalled:i(function(){}),timeupdate:i(function(){this._t._onTimer()}),waiting:i(function(){this._t._onbufferchange(1)})};pt=function(e){return e.serverURL||e.type&&r(e.type)?!1:e.type?dt({type:e.type}):dt({url:e.url})||a.html5Only};mt=function(e,t){e&&(e.src=t)};dt=function(e){if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t=e.url||null,e=e.type||null,n=a.audioFormats,i;if(e&&"undefined"!=typeof a.html5[e])return a.html5[e]&&!r(e);if(!vt){vt=[];for(i in n)n.hasOwnProperty(i)&&(vt.push(i),n[i].related&&(vt=vt.concat(n[i].related)));vt=RegExp("\\.("+vt.join("|")+")(\\?.*)?$","i")}i=t?t.toLowerCase().match(vt):null;!i||!i.length?e&&(t=e.indexOf(";"),i=(-1!==t?e.substr(0,t):e).substr(6)):i=i[1];i&&"undefined"!=typeof a.html5[i]?t=a.html5[i]&&!r(i):(e="audio/"+i,t=a.html5.canPlayType({type:e}),t=(a.html5[i]=t)&&a.html5[e]&&!r(e));return t};yt=function(){function e(e){var n,r,i=n=!1;if(!t||"function"!=typeof t.canPlayType)return n;if(e instanceof Array){for(n=0,r=e.length;n<r;n++)if(a.html5[e[n]]||t.canPlayType(e[n]).match(a.html5Test))i=!0,a.html5[e[n]]=!0,a.flash[e[n]]=!!e[n].match(jt);n=i}else e=t&&"function"==typeof t.canPlayType?t.canPlayType(e):!1,n=!!e&&!!e.match(a.html5Test);return n}if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t="undefined"!=typeof Audio?Mt&&10>opera.version()?new Audio(null):new Audio:null,n,r,i={},s;s=a.audioFormats;for(n in s)if(s.hasOwnProperty(n)&&(r="audio/"+n,i[n]=e(s[n].type),i[r]=i[n],n.match(jt)?(a.flash[n]=!0,a.flash[r]=!0):(a.flash[n]=!1,a.flash[r]=!1),s[n]&&s[n].related))for(r=s[n].related.length-1;0<=r;r--)i["audio/"+s[n].related[r]]=i[n],a.html5[s[n].related[r]]=i[n],a.flash[s[n].related[r]]=i[n];i.canPlayType=t?e:null;a.html5=C(a.html5,i);return!0};Q=function(){};Z=function(e){8===y&&1<e.loops&&e.stream&&(e.stream=!1);return e};et=function(e){e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(e.usePolicyFile=!0);return e};tt=function(){};v=function(){return!1};X=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=v)};V=function(e){"undefined"==typeof e&&(e=!1);(x||e)&&a.disable(e)};$=function(e){var t=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");e=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+a.movieURL;a.noSWFCache&&(e+="?ts="+(new Date).getTime());return e};P=function(){y=parseInt(a.flashVersion,10);8!==y&&9!==y&&(a.flashVersion=y=8);var e=a.debugMode||a.debugFlash?"_debug.swf":".swf";a.useHTML5Audio&&!a.html5Only&&a.audioFormats.mp4.required&&9>y&&(a.flashVersion=y=9);a.version=a.versionNumber+(a.html5Only?" (HTML5-only mode)":9===y?" (AS3/Flash 9)":" (AS2/Flash 8)");8<y?(a.defaultOptions=C(a.defaultOptions,a.flash9Options),a.features.buffering=!0,a.defaultOptions=C(a.defaultOptions,a.movieStarOptions),a.filePatterns.flash9=RegExp("\\.(mp3|"+Rt.join("|")+")(\\?.*)?$","i"),a.features.movieStar=!0):a.features.movieStar=!1;a.filePattern=a.filePatterns[8!==y?"flash9":"flash8"];a.movieURL=(8===y?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e);a.features.peakData=a.features.waveformData=a.features.eqData=8<y};z=function(e,t){if(!f)return!1;f._setPolling(e,t)};W=function(){a.debugURLParam.test(p)&&(a.debugMode=!0)};nt=this.getSoundById;Y=function(){var e=[];a.debugMode&&e.push("sm2_debug");a.debugFlash&&e.push("flash_debug");a.useHighPerformance&&e.push("high_performance");return e.join(" ")};G=function(){Q("fbHandler");var e=a.getMoviePercent(),t={type:"FLASHBLOCK"};if(a.html5Only)return!1;if(a.ok())a.oMC&&(a.oMC.className=[Y(),"movieContainer","swf_loaded"+(a.didFlashBlock?" swf_unblocked":"")].join(" "));else{ct&&(a.oMC.className=Y()+" movieContainer "+(null===e?"swf_timedout":"swf_error"));a.didFlashBlock=!0;O({type:"ontimeout",ignoreInit:!0,error:t});U(t)}};A=function(e,t,n){"undefined"==typeof b[e]&&(b[e]=[]);b[e].push({method:t,scope:n||null,fired:!1})};O=function(e){e||(e={type:a.ok()?"onready":"ontimeout"});if(!S&&e&&!e.ignoreInit||"ontimeout"===e.type&&(a.ok()||x&&!e.ignoreInit))return!1;var t={success:e&&e.ignoreInit?a.ok():!x},n=e&&e.type?b[e.type]||[]:[],r=[],i,t=[t],s=ct&&a.useFlashBlock&&!a.ok();e.error&&(t[0].error=e.error);for(e=0,i=n.length;e<i;e++)!0!==n[e].fired&&r.push(n[e]);if(r.length)for(e=0,i=r.length;e<i;e++)if(r[e].scope?r[e].method.apply(r[e].scope,t):r[e].method.apply(this,t),!s)r[e].fired=!0;return!0};M=function(){h.setTimeout(function(){a.useFlashBlock&&G();O();"function"==typeof a.onload&&a.onload.apply(h);a.waitForWindowLoad&&bt.add(h,"load",M)},1)};xt=function(){if("undefined"!=typeof St)return St;var e=!1,t=navigator,n=t.plugins,r,i=h.ActiveXObject;if(n&&n.length)(t=t.mimeTypes)&&t["application/x-shockwave-flash"]&&t["application/x-shockwave-flash"].enabledPlugin&&t["application/x-shockwave-flash"].enabledPlugin.description&&(e=!0);else if("undefined"!=typeof i){try{r=new i("ShockwaveFlash.ShockwaveFlash")}catch(s){}e=!!r}return St=e};ht=function(){var e,t,n=a.audioFormats;if(kt&&c.match(/os (1|2|3_0|3_1)/i)){if(a.hasHTML5=!1,a.html5Only=!0,a.oMC)a.oMC.style.display="none"}else a.useHTML5Audio&&(!a.html5||!a.html5.canPlayType)&&(a.hasHTML5=!1);if(a.useHTML5Audio&&a.hasHTML5)for(t in n)n.hasOwnProperty(t)&&(n[t].required&&!a.html5.canPlayType(n[t].type)||a.preferFlash&&(a.flash[t]||a.flash[n[t].type]))&&(e=!0);a.ignoreFlash&&(e=!1);a.html5Only=a.hasHTML5&&a.useHTML5Audio&&!e;return!a.html5Only};lt=function(e){var t,n,r=0;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(a.canPlayMIME(e[t].type)){r=t;break}}else if(a.canPlayURL(e[t])){r=t;break}e[r].url&&(e[r]=e[r].url);e=e[r]}return e};st=function(e){e._hasTimer||(e._hasTimer=!0,!_t&&a.html5PollingInterval&&(null===ft&&0===at&&(ft=h.setInterval(ut,a.html5PollingInterval)),at++))};ot=function(e){e._hasTimer&&(e._hasTimer=!1,!_t&&a.html5PollingInterval&&at--)};ut=function(){var e;if(null!==ft&&!at)return h.clearInterval(ft),ft=null,!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].isHTML5&&a.sounds[a.soundIDs[e]]._hasTimer&&a.sounds[a.soundIDs[e]]._onTimer()};U=function(e){e="undefined"!=typeof e?e:{};"function"==typeof a.onerror&&a.onerror.apply(h,[{type:"undefined"!=typeof e.type?e.type:null}]);"undefined"!=typeof e.fatal&&e.fatal&&a.disable()};Tt=function(){if(!Dt||!xt())return!1;var e=a.audioFormats,t,n;for(n in e)if(e.hasOwnProperty(n)&&("mp3"===n||"mp4"===n))if(a.html5[n]=!1,e[n]&&e[n].related)for(t=e[n].related.length-1;0<=t;t--)a.html5[e[n].related[t]]=!1};this._setSandboxType=function(){};this._externalInterfaceOK=function(){if(a.swfLoaded)return!1;(new Date).getTime();a.swfLoaded=!0;Ht=!1;Dt&&Tt();setTimeout(g,Lt?100:1)};R=function(e,t){function n(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(w&&E)return!1;if(a.html5Only)return P(),a.oMC=l(a.movieID),g(),E=w=!0,!1;var r=t||a.url,i=a.altURL||r,s=q(),o=Y(),u=null,u=d.getElementsByTagName("html")[0],f,h,p,u=u&&u.dir&&u.dir.match(/rtl/i),e="undefined"==typeof e?a.id:e;P();a.url=$(Ft?r:i);t=a.url;a.wmode=!a.wmode&&a.useHighPerformance?"transparent":a.wmode;null!==a.wmode&&(c.match(/msie 8/i)||!Lt&&!a.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(a.wmode=null);s={name:e,id:e,src:t,quality:"high",allowScriptAccess:a.allowScriptAccess,bgcolor:a.bgColor,pluginspage:It+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:a.wmode,hasPriority:"true"};a.debugFlash&&(s.FlashVars="debug=1");a.wmode||delete s.wmode;if(Lt)r=d.createElement("div"),h=['<object id="'+e+'" data="'+t+'" type="'+s.type+'" title="'+s.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+It+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',n("movie",t),n("AllowScriptAccess",a.allowScriptAccess),n("quality",s.quality),a.wmode?n("wmode",a.wmode):"",n("bgcolor",a.bgColor),n("hasPriority","true"),a.debugFlash?n("FlashVars",s.FlashVars):"","</object>"].join("");else for(f in r=d.createElement("embed"),s)s.hasOwnProperty(f)&&r.setAttribute(f,s[f]);W();o=Y();if(s=q())if(a.oMC=l(a.movieID)||d.createElement("div"),a.oMC.id){p=a.oMC.className;a.oMC.className=(p?p+" ":"movieContainer")+(o?" "+o:"");a.oMC.appendChild(r);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}else{a.oMC.id=a.movieID;a.oMC.className="movieContainer "+o;f=o=null;if(!a.useFlashBlock)if(a.useHighPerformance)o={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"};else if(o={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},u)o.left=Math.abs(parseInt(o.left,10))+"px";At&&(a.oMC.style.zIndex=1e4);if(!a.debugFlash)for(p in o)o.hasOwnProperty(p)&&(a.oMC.style[p]=o[p]);try{Lt||a.oMC.appendChild(r);s.appendChild(a.oMC);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}catch(v){throw Error(Q("domError")+" \n"+v.toString())}}return w=!0};B=function(){if(a.html5Only)return R(),!1;if(f||!a.url)return!1;f=a.getMovie(a.id);f||(J?(Lt?a.oMC.innerHTML=K:a.oMC.appendChild(J),J=null,w=!0):R(a.id,a.url),f=a.getMovie(a.id));"function"==typeof a.oninitmovie&&setTimeout(a.oninitmovie,1);return!0};_=function(){setTimeout(D,1e3)};D=function(){var e,t=!1;if(!a.url||rt)return!1;rt=!0;bt.remove(h,"load",_);if(Ht&&!Pt)return!1;S||(e=a.getMoviePercent(),0<e&&100>e&&(t=!0));setTimeout(function(){e=a.getMoviePercent();if(t)return rt=!1,h.setTimeout(_,1),!1;!S&&Bt&&(null===e?a.useFlashBlock||0===a.flashLoadTimeout?a.useFlashBlock&&G():V(!0):0!==a.flashLoadTimeout&&V(!0))},a.flashLoadTimeout)};H=function(){if(Pt||!Ht)return bt.remove(h,"focus",H),!0;Pt=Bt=!0;rt=!1;_();bt.remove(h,"focus",H);return!0};Ct=function(){};N=function(e){if(S)return!1;if(a.html5Only)return S=!0,M(),!0;var t=!0,n;if(!a.useFlashBlock||!a.flashLoadTimeout||a.getMoviePercent())S=!0,x&&(n={type:!St&&ct?"NO_FLASH":"INIT_TIMEOUT"});if(x||e){a.useFlashBlock&&a.oMC&&(a.oMC.className=Y()+" "+(null===a.getMoviePercent()?"swf_timedout":"swf_error"));O({type:"ontimeout",error:n,ignoreInit:!0});U(n);t=!1}x||(a.waitForWindowLoad&&!T?bt.add(h,"load",M):M());return t};m=function(){var e,t=a.setupOptions;for(e in t)t.hasOwnProperty(e)&&("undefined"==typeof a[e]?a[e]=t[e]:a[e]!==t[e]&&(a.setupOptions[e]=a[e]))};g=function(){if(S)return!1;if(a.html5Only){S||(bt.remove(h,"load",a.beginDelayedInit),a.enabled=!0,N());return!0}B();try{f._externalInterfaceTest(!1),z(!0,a.flashPollingInterval||(a.useHighPerformance?10:50)),a.debugMode||f._disableDebug(),a.enabled=!0,a.html5Only||bt.add(h,"unload",v)}catch(e){return U({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),V(!0),N(),!1}N();bt.remove(h,"load",a.beginDelayedInit);return!0};j=function(){if(I)return!1;I=!0;m();W();!St&&a.hasHTML5&&a.setup({useHTML5Audio:!0,preferFlash:!1});yt();a.html5.usingFlash=ht();ct=a.html5.usingFlash;Ct();!St&&ct&&a.setup({flashLoadTimeout:1});d.removeEventListener&&d.removeEventListener("DOMContentLoaded",j,!1);B();return!0};gt=function(){"complete"===d.readyState&&(j(),d.detachEvent("onreadystatechange",gt));return!0};F=function(){T=!0;bt.remove(h,"load",F)};xt();bt.add(h,"focus",H);bt.add(h,"load",_);bt.add(h,"load",F);d.addEventListener?d.addEventListener("DOMContentLoaded",j,!1):d.attachEvent?d.attachEvent("onreadystatechange",gt):U({type:"NO_DOM2_EVENTS",fatal:!0})}var n=null;if("undefined"==typeof SM2_DEFER||!SM2_DEFER)n=new t;e.SoundManager=t;e.soundManager=n})(window);__slice=[].slice;typeof soundManager!="undefined"&&soundManager.setup({url:"swf/",flashVersion:9,useFlashBlock:!1,useHighPerformance:!0,wmode:"transparent",useFastPolling:!0,debugFlash:!1,debugMode:!1});var SoundCloudPlayer=function(e,t){var n={loop:!1,start_on:0,autoplay:!1,autoswitch:!0,volume:100,toggle_pause:!0,cache:!0,preload:!1,debug:!1},r="http://api.soundcloud.com/resolve?url=http://soundcloud.com",i=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi),s=this,o=jQuery(this);this.tracks=[];this.config=jQuery.extend(n,t);this.current_track_index=this.config.start_on;this.current_track=null;this.sound=null;this.inited=!1;this.play_when_ready=!1;this.cache={};this.init=function(){if(s.inited)return;s.change_track();s.trigger("scplayer.init");s.config.autoplay&&s.play();s.inited=!0};this.change_track=function(e){s.log("change_track");if(s.sound){s.sound.destruct();s.sound=null}var t=typeof e!="undefined"?e:s.current_track_index;if(e!=s.current_track_index||!e){var n=s.tracks[t];s.resolve_track(n,s.set_sound);s.trigger("scplayer.changing_track",t)}return s};this.play=function(){s.log("play");s.sound&&s.sound.readyState==3?s.sound.play():s.play_when_ready=!0;s.trigger("scplayer.play",s.current_track_index);return s};this.pause=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.pause();s.trigger("scplayer.pause",s.sound.paused)}return s};this.resume=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.resume();s.trigger("scplayer.pause",s.sound.paused)}return s};this.stop=function(){s.sound&&s.sound.stop();s.trigger("scplayer.stop");s.log("stop");return s};this.next=function(e){s.log("next");s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;s.log(s.play_when_ready);if(s.tracks[s.current_track_index+1]){s.current_track_index++;s.change_track();s.trigger("scplayer.playlist.next",s.current_track_index-1,s.current_track_index);s.log("has next")}else if(s.config.loop){s.current_track_index=0;s.change_track();s.trigger("scplayer.playlist.looped");s.log("looped")}else{s.current_track_index=s.tracks.length-1;s.trigger("scplayer.playlist.ended");s.log("no mas")}return s};this.prev=function(e){s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;if(s.tracks[s.current_track_index-1]){s.current_track_index--;s.change_track();s.trigger("scplayer.playlist.prev")}else if(s.config.loop){s.current_track_index=s.tracks.length-1;s.change_track();s.trigger("scplayer.playlist.looped")}else{s.current_track_index=0;s.trigger("scplayer.playlist.restarted")}return s};this.goto=function(e,t){s.log("goto");s.play_when_ready=typeof t!="undefined"?t:s.config.autoswitch;if(s.tracks[e]){s.current_track_index=e;s.trigger("scplayer.playlist.goto");s.change_track()}return s};this.restart_track=function(){s.position(0);return s};this.mute=function(){s.sound&&s.sound.toggleMute();s.trigger("scplayer.mute",s.sound.muted);return s};this.has_next=function(){s.log("has next");return s.tracks[s.current_track_index+1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.has_prev=function(){return s.tracks[s.current_track_index-1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.get_time=function(){var e=this.position(),t=e%1e3,n=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),i=Math.floor(e/36e5%24),o=r+":"+s.pad(n);i>0&&(o=i+":"+o);return o};this.position=function(e){if(s.sound){if(e||e===0){e=Math.min(s.sound.duration,e);e=Math.max(0,e);s.trigger("scplayer.position",e);return s.sound.setPosition(e)}s.trigger("scplayer.position",s.sound.position);return s.sound.position}return 0};this.volume=function(e){if(s.sound){if(e||e===0){e=Math.min(100,e);e=Math.max(0,e);s.trigger("scplayer.volume",e);s.config.volume=e;return s.sound.setVolume(e)}s.trigger("scplayer.volume",s.sound.volume);return s.sound.volume}return s.config.volume};this.seek=function(e){var t=s.current_track.duration*e;s.position(t);return s};this.loop=function(e){if(e){s.config.loop=e;s.trigger("scplayer.loop_changed",s.config.loop)}return s.config.loop};this.track_info=function(e){s.isNumeric(e)&&(e=s.tracks[e]);return s.resolve_track(e)};this.on=function(e,t){return o.on(e,t)};this.trigger=function(e){var t=arguments.length>1?__slice.call(arguments,1):[];return o.trigger(e,t)};this.destroy=function(){s.sound&&s.sound.destruct();s.tracks=[];o.off();o.remove();s.tracks=null;s.track=null;s=null;delete s.tracks;delete s.track;delete s;delete this};s.get_track=function(){return s.current_track};s.get_track_index=function(){return s.current_track_index};s.get_sound=function(){return s.sound};s.get_playlist=function(){return s.tracks};s.set_cache=function(e,t){s.config.cache===!0&&(s.cache[e]=t)};s.get_cache=function(e){return s.config.cache===!0?s.cache[e]||null:null};s.set_sound=function(e){s.log("set_sound");s.trigger("scplayer.track.info_loaded",e);s.current_track=e;var t=e.stream_url;t+=t.indexOf("secret_token")==-1?"?":"&";t+="consumer_key="+s.config.consumer_key;s.sound=soundManager.createSound({autoLoad:!0,id:"track_"+e.id,multiShot:!1,loops:1,url:t,volume:s.config.volume,whileloading:function(){var e=Math.round(this.bytesLoaded/this.bytesTotal*100);s.trigger("scplayer.track.whileloading",e)},whileplaying:function(){var t=Math.round(this.position/e.duration*100*10)/10;s.trigger("scplayer.track.whileplaying",t)},onplay:function(){s.log("track.onplay");s.trigger("scplayer.track.played")},onresume:function(){s.trigger("scplayer.track.resumed")},onstop:function(){s.trigger("scplayer.track.stopped")},onpause:function(){s.trigger("scplayer.track.paused")},onfinish:function(){s.trigger("scplayer.track.finished")},onload:function(){s.log("onload");s.trigger("scplayer.track.ready",s.current_track_index,s.current_track)}});s.trigger("scplayer.track.bindable",e,s.sound)};s.resolve_track=function(e,t){var n=new jQuery.Deferred;if(e.match(i)&&e.search(/soundcloud\.com/i)===-1){var o={stream_url:e,id:0,permalink_url:e,duration:0};n.resolve(o)}e=e.replace(/https?\:\/\/soundcloud\.com/gi,"");if(s.config.cache===!0){var u=s.get_cache(e);if(u&&t){n.done(function(){t(u)}).resolve();return n}}n.done(function(n){if(n.tracks&&n.tracks.length>0){var r=s.parse_tracks(e,n.tracks);n=r[0]}else s.config.cache===!0&&s.set_cache(e,n);t&&t(n)});jQuery.ajax({url:r+e+"&format=json"+"&consumer_key="+s.config.consumer_key+"&callback=?",dataType:"jsonp",error:function(e,t,r){n.reject(e,t,r)},success:function(e){n.resolve(e)}});return n};s.preload_sc_tracks=function(e){var t=[];for(var n=0,r=s.tracks.length;n<r;n++){var i=s.tracks[n],o=s.resolve_track(i);t.push(o)}jQuery.when.apply(jQuery,t).then(function(){s.trigger("scplayer.playlist.preloaded");e&&e()},function(){s.log("promises failed to preload tracks")})};s.parse_tracks=function(e,t){var n=[],r=[],i=s.tracks.indexOf(e);for(var o=0,u=t.length;o<u;o++){var a=t[o],f=a.permalink_url.substring(21);s.config.cache===!0&&s.set_cache(f,a);n.push(a);r.push(f)}var l=[i,1].concat(r);s.tracks.splice.apply(s.tracks,l);return n};s.add_tracks=function(e){typeof e=="string"&&(e=[e]);if(e!=null&&e.length>0){s.tracks=s.tracks.concat(e);s.config.preload==1?s.preload_sc_tracks.call(s,s.init):s.init.call(s)}};s.log=function(){s.config.debug&&window.console&&console.log.apply(console,arguments)};s.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};s.pad=function(e){return(e<10?"0":"")+e};s.on("scplayer.track.ready",function(e){s.log("track.onready!!!");if(s.play_when_ready==1){s.play();s.play_when_ready=!1}});s.on("scplayer.track.finished",function(e){s.log("track finished");if(s.config.autoswitch&&(s.config.loop||s.has_next())){s.log("finished and autoswitch");s.next().play()}});s.on("scplayer.playlist.ended",function(e){s.log("playlist ended");s.config.loop||s.stop()});soundManager.onready(function(){s.log("SOUNDMANAGER2 ready!!");s.add_tracks(e)});soundManager.ontimeout(function(){window.console&&console.log("SOUNDMANAGER2 TIMEDOUT!!")});return{play:this.play,pause:this.pause,resume:this.resume,stop:this.stop,next:this.next,prev:this.prev,mute:this.mute,get_time:this.get_time,volume:this.volume,restart_track:this.restart_track,"goto":this.goto,position:this.position,seek:this.seek,track_info:this.track_info,has_next:this.has_next,has_prev:this.has_prev,on:this.on,trigger:this.trigger,track:this.get_track,track_index:this.get_track_index,sound:this.get_sound,playlist:this.get_playlist,destroy:this.destroy,add_tracks:this.add_tracks}};(function(e){function t(t,n){function r(e){return a.preferFlash&&St&&!a.ignoreFlash&&"undefined"!=typeof a.flash[e]&&a.flash[e]}function i(e){return function(t){var n=this._t;return!n||!n._a?null:e.call(this,t)}}this.setupOptions={url:t||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=n||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20120916";this.altURL=this.movieURL=this.version=null;this.enabled=this.swfLoaded=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.didFlashBlock=this.muted=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={};var s;try{s="undefined"!=typeof Audio&&"undefined"!=typeof (Mt&&10>opera.version()?new Audio(null):new Audio).canPlayType}catch(o){s=!1}this.hasHTML5=s;this.html5={usingFlash:null};this.flash={};this.ignoreFlash=this.html5Only=!1;var u,a=this,f=null,l,c=navigator.userAgent,h=e,p=h.location.href.toString(),d=document,v,m,g,y,b=[],w=!1,E=!1,S=!1,x=!1,T=!1,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J=null,K=null,Q,G,Y,Z,et,tt,nt,rt=!1,it=!1,st,ot,ut,at=0,ft=null,lt,ct=null,ht,pt,dt,vt,mt,gt,yt,bt,wt=Array.prototype.slice,Et=!1,St,xt,Tt,Nt,Ct,kt=c.match(/(ipad|iphone|ipod)/i),Lt=c.match(/msie/i),At=c.match(/webkit/i),Ot=c.match(/safari/i)&&!c.match(/chrome/i),Mt=c.match(/opera/i),_t=c.match(/(mobile|pre\/|xoom)/i)||kt,Dt=!p.match(/usehtml5audio/i)&&!p.match(/sm2\-ignorebadua/i)&&Ot&&!c.match(/silk/i)&&c.match(/OS X 10_6_([3-7])/i),Pt="undefined"!=typeof d.hasFocus?d.hasFocus():null,Ht=Ot&&("undefined"==typeof d.hasFocus||!d.hasFocus()),Bt=!Ht,jt=/(mp3|mp4|mpa|m4a|m4b)/i,Ft=d.location?d.location.protocol.match(/http/i):null,It=Ft?"":"http://",qt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Rt="mpeg4,aac,flv,mov,mp4,m4v,f4v,m4a,m4b,mp4v,3gp,3g2".split(","),Ut=RegExp("\\.("+Rt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!Ft;this._global_a=null;_t&&(a.useHTML5Audio=!0,a.preferFlash=!1,kt)&&(Et=a.ignoreFlash=!0);this.setup=function(e){var t=!a.url;"undefined"!=typeof e&&S&&ct&&a.ok()&&("undefined"!=typeof e.flashVersion||"undefined"!=typeof e.url)&&tt(Q("setupLate"));k(e);t&&I&&"undefined"!=typeof e.url&&a.beginDelayedInit();!I&&"undefined"!=typeof e.url&&"complete"===d.readyState&&setTimeout(j,1);return a};this.supported=this.ok=function(){return ct?S&&!x:a.useHTML5Audio&&a.hasHTML5};this.getMovie=function(e){return l(e)||d[e]||h[e]};this.createSound=function(e,t){function n(){r=Z(r);a.sounds[s.id]=new u(s);a.soundIDs.push(s.id);return a.sounds[s.id]}var r=null,i=null,s=null;if(!S||!a.ok())return tt(void 0),!1;"undefined"!=typeof t&&(e={id:e,url:t});r=C(e);r.url=lt(r.url);s=r;if(nt(s.id,!0))return a
.sounds[s.id];if(pt(s))i=n(),i._setup_html5(s);else{8<y&&null===s.isMovieStar&&(s.isMovieStar=!!s.serverURL||!!(s.type&&s.type.match(qt)||s.url.match(Ut)));s=et(s,void 0);i=n();if(8===y)f._createSound(s.id,s.loops||1,s.usePolicyFile);else if(f._createSound(s.id,s.url,s.usePeakData,s.useWaveformData,s.useEQData,s.isMovieStar,s.isMovieStar?s.bufferTime:!1,s.loops||1,s.serverURL,s.duration||null,s.autoPlay,!0,s.autoLoad,s.usePolicyFile),!s.serverURL)i.connected=!0,s.onconnect&&s.onconnect.apply(i);!s.serverURL&&(s.autoLoad||s.autoPlay)&&i.load(s)}!s.serverURL&&s.autoPlay&&i.play();return i};this.destroySound=function(e,t){if(!nt(e))return!1;var n=a.sounds[e],r;n._iO={};n.stop();n.unload();for(r=0;r<a.soundIDs.length;r++)if(a.soundIDs[r]===e){a.soundIDs.splice(r,1);break}t||n.destruct(!0);delete a.sounds[e];return!0};this.load=function(e,t){return nt(e)?a.sounds[e].load(t):!1};this.unload=function(e){return nt(e)?a.sounds[e].unload():!1};this.onposition=this.onPosition=function(e,t,n,r){return nt(e)?a.sounds[e].onposition(t,n,r):!1};this.clearOnPosition=function(e,t,n){return nt(e)?a.sounds[e].clearOnPosition(t,n):!1};this.start=this.play=function(e,t){var n=!1;if(!S||!a.ok())return tt("soundManager.play(): "+Q(S?"notOK":"notReady")),n;if(!nt(e)){t instanceof Object||(t={url:t});t&&t.url&&(t.id=e,n=a.createSound(t).play());return n}return a.sounds[e].play(t)};this.setPosition=function(e,t){return nt(e)?a.sounds[e].setPosition(t):!1};this.stop=function(e){return nt(e)?a.sounds[e].stop():!1};this.stopAll=function(){for(var e in a.sounds)a.sounds.hasOwnProperty(e)&&a.sounds[e].stop()};this.pause=function(e){return nt(e)?a.sounds[e].pause():!1};this.pauseAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].pause()};this.resume=function(e){return nt(e)?a.sounds[e].resume():!1};this.resumeAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].resume()};this.togglePause=function(e){return nt(e)?a.sounds[e].togglePause():!1};this.setPan=function(e,t){return nt(e)?a.sounds[e].setPan(t):!1};this.setVolume=function(e,t){return nt(e)?a.sounds[e].setVolume(t):!1};this.mute=function(e){var t=0;"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].mute():!1;for(t=a.soundIDs.length-1;0<=t;t--)a.sounds[a.soundIDs[t]].mute();return a.muted=!0};this.muteAll=function(){a.mute()};this.unmute=function(e){"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].unmute():!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].unmute();a.muted=!1;return!0};this.unmuteAll=function(){a.unmute()};this.toggleMute=function(e){return nt(e)?a.sounds[e].toggleMute():!1};this.getMemoryUse=function(){var e=0;f&&8!==y&&(e=parseInt(f._getMemoryUse(),10));return e};this.disable=function(e){var t;"undefined"==typeof e&&(e=!1);if(x)return!1;x=!0;for(t=a.soundIDs.length-1;0<=t;t--)X(a.sounds[a.soundIDs[t]]);N(e);bt.remove(h,"load",M);return!0};this.canPlayMIME=function(e){var t;a.hasHTML5&&(t=dt({type:e}));!t&&ct&&(t=e&&a.ok()?!!(8<y&&e.match(qt)||e.match(a.mimePattern)):null);return t};this.canPlayURL=function(e){var t;a.hasHTML5&&(t=dt({url:e}));!t&&ct&&(t=e&&a.ok()?!!e.match(a.filePattern):null);return t};this.canPlayLink=function(e){return"undefined"!=typeof e.type&&e.type&&a.canPlayMIME(e.type)?!0:a.canPlayURL(e.href)};this.getSoundById=function(e){if(!e)throw Error("soundManager.getSoundById(): sID is null/undefined");return a.sounds[e]};this.onready=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","onready");t||(t=h),A("onready",e,t),O();return!0};this.ontimeout=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","ontimeout");t||(t=h),A("ontimeout",e,t),O({type:"ontimeout"});return!0};this._wD=this._writeDebug=function(){return!0};this._debug=function(){};this.reboot=function(){var e,t;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].destruct();if(f)try{Lt&&(K=f.innerHTML);J=f.parentNode.removeChild(f)}catch(n){}K=J=ct=null;a.enabled=I=S=rt=it=w=E=x=a.swfLoaded=!1;a.soundIDs=[];a.sounds={};f=null;for(e in b)if(b.hasOwnProperty(e))for(t=b[e].length-1;0<=t;t--)b[e][t].fired=!1;h.setTimeout(a.beginDelayedInit,20)};this.getMoviePercent=function(){return f&&"undefined"!=typeof f.PercentLoaded?f.PercentLoaded():null};this.beginDelayedInit=function(){T=!0;j();setTimeout(function(){if(it)return!1;R();B();return it=!0},20);_()};this.destruct=function(){a.disable(!0)};u=function(e){var t,n,r=this,i,s,o,u,l,c,h=!1,p=[],d=0,v,m,g=null;t=null;n=null;this.sID=this.id=e.id;this.url=e.url;this._iO=this.instanceOptions=this.options=C(e);this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;this.id3={};this._debug=function(){};this.load=function(e){var t=null;if("undefined"!=typeof e)r._iO=C(e,r.options),r.instanceOptions=r._iO;else if(e=r.options,r._iO=e,r.instanceOptions=r._iO,g&&g!==r.url)r._iO.url=r.url,r.url=null;r._iO.url||(r._iO.url=r.url);r._iO.url=lt(r._iO.url);if(r._iO.url===r.url&&0!==r.readyState&&2!==r.readyState)return 3===r.readyState&&r._iO.onload&&r._iO.onload.apply(r,[!!r.duration]),r;e=r._iO;g=r.url&&r.url.toString?r.url.toString():null;r.loaded=!1;r.readyState=1;r.playState=0;r.id3={};if(pt(e)){if(t=r._setup_html5(e),!t._called_load){r._html5_canplay=!1;r._a.src!==e.url&&(r._a.src=e.url,r.setPosition(0));r._a.autobuffer="auto";r._a.preload="auto";t._called_load=!0;e.autoPlay&&r.play()}}else try{r.isHTML5=!1,r._iO=et(Z(e)),e=r._iO,8===y?f._load(r.id,e.url,e.stream,e.autoPlay,e.whileloading?1:0,e.loops||1,e.usePolicyFile):f._load(r.id,e.url,!!e.stream,!!e.autoPlay,e.loops||1,!!e.autoLoad,e.usePolicyFile)}catch(n){U({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}r.url=e.url;return r};this.unload=function(){if(0!==r.readyState){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a,"about:blank"),r.url="about:blank"}else 8===y?f._unload(r.id,"about:blank"):f._unload(r.id);i()}return r};this.destruct=function(e){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a),Et||o(),r._a._t=null,r._a=null}else r._iO.onfailure=null,f._destroySound(r.id);e||a.destroySound(r.id,!0)};this.start=this.play=function(e,t){var n,i;i=!0;i=null;t="undefined"==typeof t?!0:t;e||(e={});r.url&&(r._iO.url=r.url);r._iO=C(r._iO,r.options);r._iO=C(e,r._iO);r._iO.url=lt(r._iO.url);r.instanceOptions=r._iO;if(r._iO.serverURL&&!r.connected)return r.getAutoPlay()||r.setAutoPlay(!0),r;pt(r._iO)&&(r._setup_html5(r._iO),l());1===r.playState&&!r.paused&&((n=r._iO.multiShot)||(i=r));if(null!==i)return i;e.url&&e.url!==r.url&&r.load(r._iO);if(!r.loaded)if(0===r.readyState){r.isHTML5||(r._iO.autoPlay=!0);r.load(r._iO)}else 2===r.readyState&&(i=r);if(null!==i)return i;!r.isHTML5&&9===y&&0<r.position&&r.position===r.duration&&(e.position=0);if(r.paused&&0<=r.position&&(!r._iO.serverURL||0<r.position))r.resume();else{r._iO=C(e,r._iO);if(null!==r._iO.from&&null!==r._iO.to&&0===r.instanceCount&&0===r.playState&&!r._iO.serverURL){n=function(){r._iO=C(e,r._iO);r.play(r._iO)};r.isHTML5&&!r._html5_canplay?(r.load({_oncanplay:n}),i=!1):!r.isHTML5&&!r.loaded&&(!r.readyState||2!==r.readyState)&&(r.load({onload:n}),i=!1);if(null!==i)return i;r._iO=m()}(!r.instanceCount||r._iO.multiShotEvents||!r.isHTML5&&8<y&&!r.getAutoPlay())&&r.instanceCount++;r._iO.onposition&&0===r.playState&&c(r);r.playState=1;r.paused=!1;r.position="undefined"!=typeof r._iO.position&&!isNaN(r._iO.position)?r._iO.position:0;r.isHTML5||(r._iO=et(Z(r._iO)));r._iO.onplay&&t&&(r._iO.onplay.apply(r),h=!0);r.setVolume(r._iO.volume,!0);r.setPan(r._iO.pan,!0);r.isHTML5?(l(),i=r._setup_html5(),r.setPosition(r._iO.position),i.play()):(i=f._start(r.id,r._iO.loops||1,9===y?r._iO.position:r._iO.position/1e3,r._iO.multiShot),9===y&&!i&&r._iO.onplayerror&&r._iO.onplayerror.apply(r))}return r};this.stop=function(e){var t=r._iO;if(1===r.playState){r._onbufferchange(0);r._resetOnPosition(0);r.paused=!1;r.isHTML5||(r.playState=0);v();t.to&&r.clearOnPosition(t.to);r.isHTML5?r._a&&(e=r.position,r.setPosition(0),r.position=e,r._a.pause(),r.playState=0,r._onTimer(),u()):(f._stop(r.id,e),t.serverURL&&r.unload());r.instanceCount=0;r._iO={};t.onstop&&t.onstop.apply(r)}return r};this.setAutoPlay=function(e){r._iO.autoPlay=e;r.isHTML5||(f._setAutoPlay(r.id,e),e&&!r.instanceCount&&1===r.readyState&&r.instanceCount++)};this.getAutoPlay=function(){return r._iO.autoPlay};this.setPosition=function(e){"undefined"==typeof e&&(e=0);var t=r.isHTML5?Math.max(e,0):Math.min(r.duration||r._iO.duration,Math.max(e,0));r.position=t;e=r.position/1e3;r._resetOnPosition(r.position);r._iO.position=t;if(r.isHTML5){if(r._a&&r._html5_canplay&&r._a.currentTime!==e)try{r._a.currentTime=e,(0===r.playState||r.paused)&&r._a.pause()}catch(n){}}else e=9===y?r.position:e,r.readyState&&2!==r.readyState&&f._setPosition(r.id,e,r.paused||!r.playState,r._iO.multiShot);r.isHTML5&&r.paused&&r._onTimer(!0);return r};this.pause=function(e){if(r.paused||0===r.playState&&1!==r.readyState)return r;r.paused=!0;r.isHTML5?(r._setup_html5().pause(),u()):(e||"undefined"==typeof e)&&f._pause(r.id,r._iO.multiShot);r._iO.onpause&&r._iO.onpause.apply(r);return r};this.resume=function(){var e=r._iO;if(!r.paused)return r;r.paused=!1;r.playState=1;r.isHTML5?(r._setup_html5().play(),l()):(e.isMovieStar&&!e.serverURL&&r.setPosition(r.position),f._pause(r.id,e.multiShot));!h&&e.onplay?(e.onplay.apply(r),h=!0):e.onresume&&e.onresume.apply(r);return r};this.togglePause=function(){if(0===r.playState)return r.play({position:9===y&&!r.isHTML5?r.position:r.position/1e3}),r;r.paused?r.resume():r.pause();return r};this.setPan=function(e,t){"undefined"==typeof e&&(e=0);"undefined"==typeof t&&(t=!1);r.isHTML5||f._setPan(r.id,e);r._iO.pan=e;t||(r.pan=e,r.options.pan=e);return r};this.setVolume=function(e,t){"undefined"==typeof e&&(e=100);"undefined"==typeof t&&(t=!1);r.isHTML5?r._a&&(r._a.volume=Math.max(0,Math.min(1,e/100))):f._setVolume(r.id,a.muted&&!r.muted||r.muted?0:e);r._iO.volume=e;t||(r.volume=e,r.options.volume=e);return r};this.mute=function(){r.muted=!0;r.isHTML5?r._a&&(r._a.muted=!0):f._setVolume(r.id,0);return r};this.unmute=function(){r.muted=!1;var e="undefined"!=typeof r._iO.volume;r.isHTML5?r._a&&(r._a.muted=!1):f._setVolume(r.id,e?r._iO.volume:r.options.volume);return r};this.toggleMute=function(){return r.muted?r.unmute():r.mute()};this.onposition=this.onPosition=function(e,t,n){p.push({position:parseInt(e,10),method:t,scope:"undefined"!=typeof n?n:r,fired:!1});return r};this.clearOnPosition=function(e,t){var n,e=parseInt(e,10);if(isNaN(e))return!1;for(n=0;n<p.length;n++)e===p[n].position&&(!t||t===p[n].method)&&(p[n].fired&&d--,p.splice(n,1))};this._processOnPosition=function(){var e,t;e=p.length;if(!e||!r.playState||d>=e)return!1;for(e-=1;0<=e;e--)if(t=p[e],!t.fired&&r.position>=t.position)t.fired=!0,d++,t.method.apply(t.scope,[t.position]);return!0};this._resetOnPosition=function(e){var t,n;t=p.length;if(!t)return!1;for(t-=1;0<=t;t--)if(n=p[t],n.fired&&e<=n.position)n.fired=!1,d--;return!0};m=function(){var e=r._iO,t=e.from,n=e.to,i,s;s=function(){r.clearOnPosition(n,s);r.stop()};i=function(){null!==n&&!isNaN(n)&&r.onPosition(n,s)};null!==t&&!isNaN(t)&&(e.position=t,e.multiShot=!1,i());return e};c=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.onPosition(parseInt(e,10),t[e])};v=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.clearOnPosition(parseInt(e,10))};l=function(){r.isHTML5&&st(r)};u=function(){r.isHTML5&&ot(r)};i=function(e){e||(p=[],d=0);h=!1;r._hasTimer=null;r._a=null;r._html5_canplay=!1;r.bytesLoaded=null;r.bytesTotal=null;r.duration=r._iO&&r._iO.duration?r._iO.duration:null;r.durationEstimate=null;r.buffered=[];r.eqData=[];r.eqData.left=[];r.eqData.right=[];r.failures=0;r.isBuffering=!1;r.instanceOptions={};r.instanceCount=0;r.loaded=!1;r.metadata={};r.readyState=0;r.muted=!1;r.paused=!1;r.peakData={left:0,right:0};r.waveformData={left:[],right:[]};r.playState=0;r.position=null;r.id3={}};i();this._onTimer=function(e){var i,s=!1,o={};if(r._hasTimer||e){if(r._a&&(e||(0<r.playState||1===r.readyState)&&!r.paused)){i=r._get_html5_duration();i!==t&&(t=i,r.duration=i,s=!0);r.durationEstimate=r.duration;i=1e3*r._a.currentTime||0;i!==n&&(n=i,s=!0);(s||e)&&r._whileplaying(i,o,o,o,o)}return s}};this._get_html5_duration=function(){var e=r._iO;return(e=r._a&&r._a.duration?1e3*r._a.duration:e&&e.duration?e.duration:null)&&!isNaN(e)&&Infinity!==e?e:null};this._apply_loop=function(e,t){e.loop=1<t?"loop":""};this._setup_html5=function(e){var e=C(r._iO,e),t=decodeURI,n=Et?a._global_a:r._a,o=t(e.url),u=n&&n._t?n._t.instanceOptions:null,f;if(n){if(n._t){!Et&&o===t(g)?f=n:Et&&u.url===e.url&&(!g||g===u.url)&&(f=n);if(f)return r._apply_loop(n,e.loops),f}Et&&n._t&&n._t.playState&&e.url!==u.url&&n._t.stop();i(u&&u.url?e.url===u.url:g?g===e.url:!1);n.src=e.url;g=r.url=e.url;n._called_load=!1}else if(r._a=e.autoLoad||e.autoPlay?new Audio(e.url):Mt&&10>opera.version()?new Audio(null):new Audio,n=r._a,n._called_load=!1,Et)a._global_a=n;r.isHTML5=!0;r._a=n;n._t=r;s();r._apply_loop(n,e.loops);e.autoLoad||e.autoPlay?r.load():(n.autobuffer=!1,n.preload="auto");return n};s=function(){if(r._a._added_events)return!1;var e;r._a._added_events=!0;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.addEventListener(e,Nt[e],!1);return!0};o=function(){var e;r._a._added_events=!1;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.removeEventListener(e,Nt[e],!1)};this._onload=function(e){e=!!e||!r.isHTML5&&8===y&&r.duration;r.loaded=e;r.readyState=e?3:2;r._onbufferchange(0);r._iO.onload&&r._iO.onload.apply(r,[e]);return!0};this._onbufferchange=function(e){if(0===r.playState||e&&r.isBuffering||!e&&!r.isBuffering)return!1;r.isBuffering=1===e;r._iO.onbufferchange&&r._iO.onbufferchange.apply(r);return!0};this._onsuspend=function(){r._iO.onsuspend&&r._iO.onsuspend.apply(r);return!0};this._onfailure=function(e,t,n){r.failures++;r._iO.onfailure&&1===r.failures&&r._iO.onfailure(r,e,t,n)};this._onfinish=function(){var e=r._iO.onfinish;r._onbufferchange(0);r._resetOnPosition(0);if(r.instanceCount){r.instanceCount--;!r.instanceCount&&(v(),r.playState=0,r.paused=!1,r.instanceCount=0,r.instanceOptions={},r._iO={},u(),r.isHTML5)&&(r.position=0);(!r.instanceCount||r._iO.multiShotEvents)&&e&&e.apply(r)}};this._whileloading=function(e,t,n,i){var s=r._iO;r.bytesLoaded=e;r.bytesTotal=t;r.duration=Math.floor(n);r.bufferLength=i;r.durationEstimate=!r.isHTML5&&!s.isMovieStar?s.duration?r.duration>s.duration?r.duration:s.duration:parseInt(r.bytesTotal/r.bytesLoaded*r.duration,10):r.duration;r.isHTML5||(r.buffered=[{start:0,end:r.duration}]);(3!==r.readyState||r.isHTML5)&&s.whileloading&&s.whileloading.apply(r)};this._whileplaying=function(e,t,n,i,s){var o=r._iO;if(isNaN(e)||null===e)return!1;r.position=Math.max(0,e);r._processOnPosition();if(!r.isHTML5&&8<y){o.usePeakData&&"undefined"!=typeof t&&t&&(r.peakData={left:t.leftPeak,right:t.rightPeak});o.useWaveformData&&"undefined"!=typeof n&&n&&(r.waveformData={left:n.split(","),right:i.split(",")});o.useEQData&&"undefined"!=typeof s&&s&&s.leftEQ&&(e=s.leftEQ.split(","),r.eqData=e,r.eqData.left=e,"undefined"!=typeof s.rightEQ&&s.rightEQ)&&(r.eqData.right=s.rightEQ.split(","))}1===r.playState&&(!r.isHTML5&&8===y&&!r.position&&r.isBuffering&&r._onbufferchange(0),o.whileplaying&&o.whileplaying.apply(r));return!0};this._oncaptiondata=function(e){r.captiondata=e;r._iO.oncaptiondata&&r._iO.oncaptiondata.apply(r,[e])};this._onmetadata=function(e,t){var n={},i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.metadata=n;r._iO.onmetadata&&r._iO.onmetadata.apply(r)};this._onid3=function(e,t){var n=[],i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.id3=C(r.id3,n);r._iO.onid3&&r._iO.onid3.apply(r)};this._onconnect=function(e){e=1===e;if(r.connected=e)r.failures=0,nt(r.id)&&(r.getAutoPlay()?r.play(void 0,r.getAutoPlay()):r._iO.autoLoad&&r.load()),r._iO.onconnect&&r._iO.onconnect.apply(r,[e])};this._ondataerror=function(){0<r.playState&&r._iO.ondataerror&&r._iO.ondataerror.apply(r)}};q=function(){return d.body||d._docElement||d.getElementsByTagName("div")[0]};l=function(e){return d.getElementById(e)};C=function(e,t){var n=e||{},r,i;r="undefined"==typeof t?a.defaultOptions:t;for(i in r)r.hasOwnProperty(i)&&"undefined"==typeof n[i]&&(n[i]="object"!=typeof r[i]||null===r[i]?r[i]:C(n[i],r[i]));return n};L={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};k=function(e,t){var n,r=!0,i="undefined"!=typeof t,s=a.setupOptions;for(n in e)if(e.hasOwnProperty(n))if("object"!=typeof e[n]||null===e[n]||e[n]instanceof Array)i&&"undefined"!=typeof L[t]?a[t][n]=e[n]:"undefined"!=typeof s[n]?(a.setupOptions[n]=e[n],a[n]=e[n]):"undefined"==typeof L[n]?(tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1):a[n]instanceof Function?a[n].apply(a,e[n]instanceof Array?e[n]:[e[n]]):a[n]=e[n];else{if("undefined"!=typeof L[n])return k(e[n],n);tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1}return r};bt=function(){function e(e){var e=wt.call(e),t=e.length;n?(e[1]="on"+e[1],3<t&&e.pop()):3===t&&e.push(!1);return e}function t(e,t){var i=e.shift(),s=[r[t]];n?i[s](e[0],e[1]):i[s].apply(i,e)}var n=h.attachEvent,r={add:n?"attachEvent":"addEventListener",remove:n?"detachEvent":"removeEventListener"};return{add:function(){t(e(arguments),"add")},remove:function(){t(e(arguments),"remove")}}}();Nt={abort:i(function(){}),canplay:i(function(){var e=this._t,t;if(e._html5_canplay)return!0;e._html5_canplay=!0;e._onbufferchange(0);t="undefined"!=typeof e._iO.position&&!isNaN(e._iO.position)?e._iO.position/1e3:null;if(e.position&&this.currentTime!==t)try{this.currentTime=t}catch(n){}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:i(function(){var e=this._t;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),ended:i(function(){this._t._onfinish()}),error:i(function(){this._t._onload(!1)}),loadeddata:i(function(){var e=this._t;!e._loaded&&!Ot&&(e.duration=e._get_html5_duration())}),loadedmetadata:i(function(){}),loadstart:i(function(){this._t._onbufferchange(1)}),play:i(function(){this._t._onbufferchange(0)}),playing:i(function(){this._t._onbufferchange(0)}),progress:i(function(e){var t=this._t,n,r,i=0,i=e.target.buffered;n=e.loaded||0;var s=e.total||1;t.buffered=[];if(i&&i.length){for(n=0,r=i.length;n<r;n++)t.buffered.push({start:1e3*i.start(n),end:1e3*i.end(n)});i=1e3*(i.end(0)-i.start(0));n=i/(1e3*e.target.duration)}isNaN(n)||(t._onbufferchange(0),t._whileloading(n,s,t._get_html5_duration()),n&&s&&n===s&&Nt.canplaythrough.call(this,e))}),ratechange:i(function(){}),suspend:i(function(e){var t=this._t;Nt.progress.call(this,e);t._onsuspend()}),stalled:i(function(){}),timeupdate:i(function(){this._t._onTimer()}),waiting:i(function(){this._t._onbufferchange(1)})};pt=function(e){return e.serverURL||e.type&&r(e.type)?!1:e.type?dt({type:e.type}):dt({url:e.url})||a.html5Only};mt=function(e,t){e&&(e.src=t)};dt=function(e){if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t=e.url||null,e=e.type||null,n=a.audioFormats,i;if(e&&"undefined"!=typeof a.html5[e])return a.html5[e]&&!r(e);if(!vt){vt=[];for(i in n)n.hasOwnProperty(i)&&(vt.push(i),n[i].related&&(vt=vt.concat(n[i].related)));vt=RegExp("\\.("+vt.join("|")+")(\\?.*)?$","i")}i=t?t.toLowerCase().match(vt):null;!i||!i.length?e&&(t=e.indexOf(";"),i=(-1!==t?e.substr(0,t):e).substr(6)):i=i[1];i&&"undefined"!=typeof a.html5[i]?t=a.html5[i]&&!r(i):(e="audio/"+i,t=a.html5.canPlayType({type:e}),t=(a.html5[i]=t)&&a.html5[e]&&!r(e));return t};yt=function(){function e(e){var n,r,i=n=!1;if(!t||"function"!=typeof t.canPlayType)return n;if(e instanceof Array){for(n=0,r=e.length;n<r;n++)if(a.html5[e[n]]||t.canPlayType(e[n]).match(a.html5Test))i=!0,a.html5[e[n]]=!0,a.flash[e[n]]=!!e[n].match(jt);n=i}else e=t&&"function"==typeof t.canPlayType?t.canPlayType(e):!1,n=!!e&&!!e.match(a.html5Test);return n}if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t="undefined"!=typeof Audio?Mt&&10>opera.version()?new Audio(null):new Audio:null,n,r,i={},s;s=a.audioFormats;for(n in s)if(s.hasOwnProperty(n)&&(r="audio/"+n,i[n]=e(s[n].type),i[r]=i[n],n.match(jt)?(a.flash[n]=!0,a.flash[r]=!0):(a.flash[n]=!1,a.flash[r]=!1),s[n]&&s[n].related))for(r=s[n].related.length-1;0<=r;r--)i["audio/"+s[n].related[r]]=i[n],a.html5[s[n].related[r]]=i[n],a.flash[s[n].related[r]]=i[n];i.canPlayType=t?e:null;a.html5=C(a.html5,i);return!0};Q=function(){};Z=function(e){8===y&&1<e.loops&&e.stream&&(e.stream=!1);return e};et=function(e){e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(e.usePolicyFile=!0);return e};tt=function(){};v=function(){return!1};X=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=v)};V=function(e){"undefined"==typeof e&&(e=!1);(x||e)&&a.disable(e)};$=function(e){var t=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");e=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+a.movieURL;a.noSWFCache&&(e+="?ts="+(new Date).getTime());return e};P=function(){y=parseInt(a.flashVersion,10);8!==y&&9!==y&&(a.flashVersion=y=8);var e=a.debugMode||a.debugFlash?"_debug.swf":".swf";a.useHTML5Audio&&!a.html5Only&&a.audioFormats.mp4.required&&9>y&&(a.flashVersion=y=9);a.version=a.versionNumber+(a.html5Only?" (HTML5-only mode)":9===y?" (AS3/Flash 9)":" (AS2/Flash 8)");8<y?(a.defaultOptions=C(a.defaultOptions,a.flash9Options),a.features.buffering=!0,a.defaultOptions=C(a.defaultOptions,a.movieStarOptions),a.filePatterns.flash9=RegExp("\\.(mp3|"+Rt.join("|")+")(\\?.*)?$","i"),a.features.movieStar=!0):a.features.movieStar=!1;a.filePattern=a.filePatterns[8!==y?"flash9":"flash8"];a.movieURL=(8===y?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e);a.features.peakData=a.features.waveformData=a.features.eqData=8<y};z=function(e,t){if(!f)return!1;f._setPolling(e,t)};W=function(){a.debugURLParam.test(p)&&(a.debugMode=!0)};nt=this.getSoundById;Y=function(){var e=[];a.debugMode&&e.push("sm2_debug");a.debugFlash&&e.push("flash_debug");a.useHighPerformance&&e.push("high_performance");return e.join(" ")};G=function(){Q("fbHandler");var e=a.getMoviePercent(),t={type:"FLASHBLOCK"};if(a.html5Only)return!1;if(a.ok())a.oMC&&(a.oMC.className=[Y(),"movieContainer","swf_loaded"+(a.didFlashBlock?" swf_unblocked":"")].join(" "));else{ct&&(a.oMC.className=Y()+" movieContainer "+(null===e?"swf_timedout":"swf_error"));a.didFlashBlock=!0;O({type:"ontimeout",ignoreInit:!0,error:t});U(t)}};A=function(e,t,n){"undefined"==typeof b[e]&&(b[e]=[]);b[e].push({method:t,scope:n||null,fired:!1})};O=function(e){e||(e={type:a.ok()?"onready":"ontimeout"});if(!S&&e&&!e.ignoreInit||"ontimeout"===e.type&&(a.ok()||x&&!e.ignoreInit))return!1;var t={success:e&&e.ignoreInit?a.ok():!x},n=e&&e.type?b[e.type]||[]:[],r=[],i,t=[t],s=ct&&a.useFlashBlock&&!a.ok();e.error&&(t[0].error=e.error);for(e=0,i=n.length;e<i;e++)!0!==n[e].fired&&r.push(n[e]);if(r.length)for(e=0,i=r.length;e<i;e++)if(r[e].scope?r[e].method.apply(r[e].scope,t):r[e].method.apply(this,t),!s)r[e].fired=!0;return!0};M=function(){h.setTimeout(function(){a.useFlashBlock&&G();O();"function"==typeof a.onload&&a.onload.apply(h);a.waitForWindowLoad&&bt.add(h,"load",M)},1)};xt=function(){if("undefined"!=typeof St)return St;var e=!1,t=navigator,n=t.plugins,r,i=h.ActiveXObject;if(n&&n.length)(t=t.mimeTypes)&&t["application/x-shockwave-flash"]&&t["application/x-shockwave-flash"].enabledPlugin&&t["application/x-shockwave-flash"].enabledPlugin.description&&(e=!0);else if("undefined"!=typeof i){try{r=new i("ShockwaveFlash.ShockwaveFlash")}catch(s){}e=!!r}return St=e};ht=function(){var e,t,n=a.audioFormats;if(kt&&c.match(/os (1|2|3_0|3_1)/i)){if(a.hasHTML5=!1,a.html5Only=!0,a.oMC)a.oMC.style.display="none"}else a.useHTML5Audio&&(!a.html5||!a.html5.canPlayType)&&(a.hasHTML5=!1);if(a.useHTML5Audio&&a.hasHTML5)for(t in n)n.hasOwnProperty(t)&&(n[t].required&&!a.html5.canPlayType(n[t].type)||a.preferFlash&&(a.flash[t]||a.flash[n[t].type]))&&(e=!0);a.ignoreFlash&&(e=!1);a.html5Only=a.hasHTML5&&a.useHTML5Audio&&!e;return!a.html5Only};lt=function(e){var t,n,r=0;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(a.canPlayMIME(e[t].type)){r=t;break}}else if(a.canPlayURL(e[t])){r=t;break}e[r].url&&(e[r]=e[r].url);e=e[r]}return e};st=function(e){e._hasTimer||(e._hasTimer=!0,!_t&&a.html5PollingInterval&&(null===ft&&0===at&&(ft=h.setInterval(ut,a.html5PollingInterval)),at++))};ot=function(e){e._hasTimer&&(e._hasTimer=!1,!_t&&a.html5PollingInterval&&at--)};ut=function(){var e;if(null!==ft&&!at)return h.clearInterval(ft),ft=null,!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].isHTML5&&a.sounds[a.soundIDs[e]]._hasTimer&&a.sounds[a.soundIDs[e]]._onTimer()};U=function(e){e="undefined"!=typeof e?e:{};"function"==typeof a.onerror&&a.onerror.apply(h,[{type:"undefined"!=typeof e.type?e.type:null}]);"undefined"!=typeof e.fatal&&e.fatal&&a.disable()};Tt=function(){if(!Dt||!xt())return!1;var e=a.audioFormats,t,n;for(n in e)if(e.hasOwnProperty(n)&&("mp3"===n||"mp4"===n))if(a.html5[n]=!1,e[n]&&e[n].related)for(t=e[n].related.length-1;0<=t;t--)a.html5[e[n].related[t]]=!1};this._setSandboxType=function(){};this._externalInterfaceOK=function(){if(a.swfLoaded)return!1;(new Date).getTime();a.swfLoaded=!0;Ht=!1;Dt&&Tt();setTimeout(g,Lt?100:1)};R=function(e,t){function n(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(w&&E)return!1;if(a.html5Only)return P(),a.oMC=l(a.movieID),g(),E=w=!0,!1;var r=t||a.url,i=a.altURL||r,s=q(),o=Y(),u=null,u=d.getElementsByTagName("html")[0],f,h,p,u=u&&u.dir&&u.dir.match(/rtl/i),e="undefined"==typeof e?a.id:e;P();a.url=$(Ft?r:i);t=a.url;a.wmode=!a.wmode&&a.useHighPerformance?"transparent":a.wmode;null!==a.wmode&&(c.match(/msie 8/i)||!Lt&&!a.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(a.wmode=null);s={name:e,id:e,src:t,quality:"high",allowScriptAccess:a.allowScriptAccess,bgcolor:a.bgColor,pluginspage:It+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:a.wmode,hasPriority:"true"};a.debugFlash&&(s.FlashVars="debug=1");a.wmode||delete s.wmode;if(Lt)r=d.createElement("div"),h=['<object id="'+e+'" data="'+t+'" type="'+s.type+'" title="'+s.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+It+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',n("movie",t),n("AllowScriptAccess",a.allowScriptAccess),n("quality",s.quality),a.wmode?n("wmode",a.wmode):"",n("bgcolor",a.bgColor),n("hasPriority","true"),a.debugFlash?n("FlashVars",s.FlashVars):"","</object>"].join("");else for(f in r=d.createElement("embed"),s)s.hasOwnProperty(f)&&r.setAttribute(f,s[f]);W();o=Y();if(s=q())if(a.oMC=l(a.movieID)||d.createElement("div"),a.oMC.id){p=a.oMC.className;a.oMC.className=(p?p+" ":"movieContainer")+(o?" "+o:"");a.oMC.appendChild(r);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}else{a.oMC.id=a.movieID;a.oMC.className="movieContainer "+o;f=o=null;if(!a.useFlashBlock)if(a.useHighPerformance)o={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"};else if(o={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},u)o.left=Math.abs(parseInt(o.left,10))+"px";At&&(a.oMC.style.zIndex=1e4);if(!a.debugFlash)for(p in o)o.hasOwnProperty(p)&&(a.oMC.style[p]=o[p]);try{Lt||a.oMC.appendChild(r);s.appendChild(a.oMC);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}catch(v){throw Error(Q("domError")+" \n"+v.toString())}}return w=!0};B=function(){if(a.html5Only)return R(),!1;if(f||!a.url)return!1;f=a.getMovie(a.id);f||(J?(Lt?a.oMC.innerHTML=K:a.oMC.appendChild(J),J=null,w=!0):R(a.id,a.url),f=a.getMovie(a.id));"function"==typeof a.oninitmovie&&setTimeout(a.oninitmovie,1);return!0};_=function(){setTimeout(D,1e3)};D=function(){var e,t=!1;if(!a.url||rt)return!1;rt=!0;bt.remove(h,"load",_);if(Ht&&!Pt)return!1;S||(e=a.getMoviePercent(),0<e&&100>e&&(t=!0));setTimeout(function(){e=a.getMoviePercent();if(t)return rt=!1,h.setTimeout(_,1),!1;!S&&Bt&&(null===e?a.useFlashBlock||0===a.flashLoadTimeout?a.useFlashBlock&&G():V(!0):0!==a.flashLoadTimeout&&V(!0))},a.flashLoadTimeout)};H=function(){if(Pt||!Ht)return bt.remove(h,"focus",H),!0;Pt=Bt=!0;rt=!1;_();bt.remove(h,"focus",H);return!0};Ct=function(){};N=function(e){if(S)return!1;if(a.html5Only)return S=!0,M(),!0;var t=!0,n;if(!a.useFlashBlock||!a.flashLoadTimeout||a.getMoviePercent())S=!0,x&&(n={type:!St&&ct?"NO_FLASH":"INIT_TIMEOUT"});if(x||e){a.useFlashBlock&&a.oMC&&(a.oMC.className=Y()+" "+(null===a.getMoviePercent()?"swf_timedout":"swf_error"));O({type:"ontimeout",error:n,ignoreInit:!0});U(n);t=!1}x||(a.waitForWindowLoad&&!T?bt.add(h,"load",M):M());return t};m=function(){var e,t=a.setupOptions;for(e in t)t.hasOwnProperty(e)&&("undefined"==typeof a[e]?a[e]=t[e]:a[e]!==t[e]&&(a.setupOptions[e]=a[e]))};g=function(){if(S)return!1;if(a.html5Only){S||(bt.remove(h,"load",a.beginDelayedInit),a.enabled=!0,N());return!0}B();try{f._externalInterfaceTest(!1),z(!0,a.flashPollingInterval||(a.useHighPerformance?10:50)),a.debugMode||f._disableDebug(),a.enabled=!0,a.html5Only||bt.add(h,"unload",v)}catch(e){return U({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),V(!0),N(),!1}N();bt.remove(h,"load",a.beginDelayedInit);return!0};j=function(){if(I)return!1;I=!0;m();W();!St&&a.hasHTML5&&a.setup({useHTML5Audio:!0,preferFlash:!1});yt();a.html5.usingFlash=ht();ct=a.html5.usingFlash;Ct();!St&&ct&&a.setup({flashLoadTimeout:1});d.removeEventListener&&d.removeEventListener("DOMContentLoaded",j,!1);B();return!0};gt=function(){"complete"===d.readyState&&(j(),d.detachEvent("onreadystatechange",gt));return!0};F=function(){T=!0;bt.remove(h,"load",F)};xt();bt.add(h,"focus",H);bt.add(h,"load",_);bt.add(h,"load",F);d.addEventListener?d.addEventListener("DOMContentLoaded",j,!1):d.attachEvent?d.attachEvent("onreadystatechange",gt):U({type:"NO_DOM2_EVENTS",fatal:!0})}var n=null;if("undefined"==typeof SM2_DEFER||!SM2_DEFER)n=new t;e.SoundManager=t;e.soundManager=n})(window);__slice=[].slice;typeof soundManager!="undefined"&&soundManager.setup({url:"swf/",flashVersion:9,useFlashBlock:!1,useHighPerformance:!0,wmode:"transparent",useFastPolling:!0,debugFlash:!1,debugMode:!1});var SoundCloudPlayer=function(e,t){var n={loop:!1,start_on:0,autoplay:!1,autoswitch:!0,volume:100,toggle_pause:!0,cache:!0,preload:!1,debug:!1},r="http://api.soundcloud.com/resolve?url=http://soundcloud.com",i=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi),s=this,o=jQuery(this);this.tracks=[];this.config=jQuery.extend(n,t);this.current_track_index=this.config.start_on;this.current_track=null;this.sound=null;this.inited=!1;this.play_when_ready=!1;this.cache={};this.init=function(){if(s.inited)return;s.change_track();s.trigger("scplayer.init");s.config.autoplay&&s.play();s.inited=!0};this.change_track=function(e){s.log("change_track");if(s.sound){s.sound.destruct();s.sound=null}var t=typeof e!="undefined"?e:s.current_track_index;if(e!=s.current_track_index||!e){var n=s.tracks[t];s.resolve_track(n,s.set_sound);s.trigger("scplayer.changing_track",t)}return s};this.play=function(){s.log("play");s.sound&&s.sound.readyState==3?s.sound.play():s.play_when_ready=!0;s.trigger("scplayer.play",s.current_track_index);return s};this.pause=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.pause();s.trigger("scplayer.pause",s.sound.paused)}return s};this.resume=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.resume();s.trigger("scplayer.pause",s.sound.paused)}return s};this.stop=function(){s.sound&&s.sound.stop();s.trigger("scplayer.stop");s.log("stop");return s};this.next=function(e){s.log("next");s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;s.log(s.play_when_ready);if(s.tracks[s.current_track_index+1]){s.current_track_index++;s.change_track();s.trigger("scplayer.playlist.next",s.current_track_index-1,s.current_track_index);s.log("has next")}else if(s.config.loop){s.current_track_index=0;s.change_track();s.trigger("scplayer.playlist.looped");s.log("looped")}else{s.current_track_index=s.tracks.length-1;s.trigger("scplayer.playlist.ended");s.log("no mas")}return s};this.prev=function(e){s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;if(s.tracks[s.current_track_index-1]){s.current_track_index--;s.change_track();s.trigger("scplayer.playlist.prev")}else if(s.config.loop){s.current_track_index=s.tracks.length-1;s.change_track();s.trigger("scplayer.playlist.looped")}else{s.current_track_index=0;s.trigger("scplayer.playlist.restarted"
)}return s};this.goto=function(e,t){s.log("goto");s.play_when_ready=typeof t!="undefined"?t:s.config.autoswitch;if(s.tracks[e]){s.current_track_index=e;s.trigger("scplayer.playlist.goto");s.change_track()}return s};this.restart_track=function(){s.position(0);return s};this.mute=function(){s.sound&&s.sound.toggleMute();s.trigger("scplayer.mute",s.sound.muted);return s};this.has_next=function(){s.log("has next");return s.tracks[s.current_track_index+1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.has_prev=function(){return s.tracks[s.current_track_index-1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.get_time=function(){var e=this.position(),t=e%1e3,n=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),i=Math.floor(e/36e5%24),o=r+":"+s.pad(n);i>0&&(o=i+":"+o);return o};this.position=function(e){if(s.sound){if(e||e===0){e=Math.min(s.sound.duration,e);e=Math.max(0,e);s.trigger("scplayer.position",e);return s.sound.setPosition(e)}s.trigger("scplayer.position",s.sound.position);return s.sound.position}return 0};this.volume=function(e){if(s.sound){if(e||e===0){e=Math.min(100,e);e=Math.max(0,e);s.trigger("scplayer.volume",e);s.config.volume=e;return s.sound.setVolume(e)}s.trigger("scplayer.volume",s.sound.volume);return s.sound.volume}return s.config.volume};this.seek=function(e){var t=s.current_track.duration*e;s.position(t);return s};this.loop=function(e){if(e){s.config.loop=e;s.trigger("scplayer.loop_changed",s.config.loop)}return s.config.loop};this.track_info=function(e){s.isNumeric(e)&&(e=s.tracks[e]);return s.resolve_track(e)};this.on=function(e,t){return o.on(e,t)};this.trigger=function(e){var t=arguments.length>1?__slice.call(arguments,1):[];return o.trigger(e,t)};this.destroy=function(){s.sound&&s.sound.destruct();s.tracks=[];o.off();o.remove();s.tracks=null;s.track=null;s=null;delete s.tracks;delete s.track;delete s;delete this};s.get_track=function(){return s.current_track};s.get_track_index=function(){return s.current_track_index};s.get_sound=function(){return s.sound};s.get_playlist=function(){return s.tracks};s.set_cache=function(e,t){s.config.cache===!0&&(s.cache[e]=t)};s.get_cache=function(e){return s.config.cache===!0?s.cache[e]||null:null};s.set_sound=function(e){s.log("set_sound");s.trigger("scplayer.track.info_loaded",e);s.current_track=e;var t=e.stream_url;t+=t.indexOf("secret_token")==-1?"?":"&";t+="consumer_key="+s.config.consumer_key;s.sound=soundManager.createSound({autoLoad:!0,id:"track_"+e.id,multiShot:!1,loops:1,url:t,volume:s.config.volume,whileloading:function(){var e=Math.round(this.bytesLoaded/this.bytesTotal*100);s.trigger("scplayer.track.whileloading",e)},whileplaying:function(){var t=Math.round(this.position/e.duration*100*10)/10;s.trigger("scplayer.track.whileplaying",t)},onplay:function(){s.log("track.onplay");s.trigger("scplayer.track.played")},onresume:function(){s.trigger("scplayer.track.resumed")},onstop:function(){s.trigger("scplayer.track.stopped")},onpause:function(){s.trigger("scplayer.track.paused")},onfinish:function(){s.trigger("scplayer.track.finished")},onload:function(){s.log("onload");s.trigger("scplayer.track.ready",s.current_track_index,s.current_track)}});s.trigger("scplayer.track.bindable",e,s.sound)};s.resolve_track=function(e,t){var n=new jQuery.Deferred;if(e.match(i)&&e.search(/soundcloud\.com/i)===-1){var o={stream_url:e,id:0,permalink_url:e,duration:0};n.resolve(o)}e=e.replace(/https?\:\/\/soundcloud\.com/gi,"");if(s.config.cache===!0){var u=s.get_cache(e);if(u&&t){n.done(function(){t(u)}).resolve();return n}}n.done(function(n){if(n.tracks&&n.tracks.length>0){var r=s.parse_tracks(e,n.tracks);n=r[0]}else s.config.cache===!0&&s.set_cache(e,n);t&&t(n)});jQuery.ajax({url:r+e+"&format=json"+"&consumer_key="+s.config.consumer_key+"&callback=?",dataType:"jsonp",error:function(e,t,r){n.reject(e,t,r)},success:function(e){n.resolve(e)}});return n};s.preload_sc_tracks=function(e){var t=[];for(var n=0,r=s.tracks.length;n<r;n++){var i=s.tracks[n],o=s.resolve_track(i);t.push(o)}jQuery.when.apply(jQuery,t).then(function(){s.trigger("scplayer.playlist.preloaded");e&&e()},function(){s.log("promises failed to preload tracks")})};s.parse_tracks=function(e,t){var n=[],r=[],i=s.tracks.indexOf(e);for(var o=0,u=t.length;o<u;o++){var a=t[o],f=a.permalink_url.substring(21);s.config.cache===!0&&s.set_cache(f,a);n.push(a);r.push(f)}var l=[i,1].concat(r);s.tracks.splice.apply(s.tracks,l);return n};s.add_tracks=function(e){typeof e=="string"&&(e=[e]);if(e!=null&&e.length>0){s.tracks=s.tracks.concat(e);s.config.preload==1?s.preload_sc_tracks.call(s,s.init):s.init.call(s)}};s.log=function(){s.config.debug&&window.console&&console.log.apply(console,arguments)};s.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};s.pad=function(e){return(e<10?"0":"")+e};s.on("scplayer.track.ready",function(e){s.log("track.onready!!!");if(s.play_when_ready==1){s.play();s.play_when_ready=!1}});s.on("scplayer.track.finished",function(e){s.log("track finished");if(s.config.autoswitch&&(s.config.loop||s.has_next())){s.log("finished and autoswitch");s.next().play()}});s.on("scplayer.playlist.ended",function(e){s.log("playlist ended");s.config.loop||s.stop()});soundManager.onready(function(){s.log("SOUNDMANAGER2 ready!!");s.add_tracks(e)});soundManager.ontimeout(function(){window.console&&console.log("SOUNDMANAGER2 TIMEDOUT!!")});return{play:this.play,pause:this.pause,resume:this.resume,stop:this.stop,next:this.next,prev:this.prev,mute:this.mute,get_time:this.get_time,volume:this.volume,restart_track:this.restart_track,"goto":this.goto,position:this.position,seek:this.seek,track_info:this.track_info,has_next:this.has_next,has_prev:this.has_prev,on:this.on,trigger:this.trigger,track:this.get_track,track_index:this.get_track_index,sound:this.get_sound,playlist:this.get_playlist,destroy:this.destroy,add_tracks:this.add_tracks}};(function(e){function t(t,n){function r(e){return a.preferFlash&&St&&!a.ignoreFlash&&"undefined"!=typeof a.flash[e]&&a.flash[e]}function i(e){return function(t){var n=this._t;return!n||!n._a?null:e.call(this,t)}}this.setupOptions={url:t||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=n||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20120916";this.altURL=this.movieURL=this.version=null;this.enabled=this.swfLoaded=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.didFlashBlock=this.muted=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={};var s;try{s="undefined"!=typeof Audio&&"undefined"!=typeof (Mt&&10>opera.version()?new Audio(null):new Audio).canPlayType}catch(o){s=!1}this.hasHTML5=s;this.html5={usingFlash:null};this.flash={};this.ignoreFlash=this.html5Only=!1;var u,a=this,f=null,l,c=navigator.userAgent,h=e,p=h.location.href.toString(),d=document,v,m,g,y,b=[],w=!1,E=!1,S=!1,x=!1,T=!1,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J=null,K=null,Q,G,Y,Z,et,tt,nt,rt=!1,it=!1,st,ot,ut,at=0,ft=null,lt,ct=null,ht,pt,dt,vt,mt,gt,yt,bt,wt=Array.prototype.slice,Et=!1,St,xt,Tt,Nt,Ct,kt=c.match(/(ipad|iphone|ipod)/i),Lt=c.match(/msie/i),At=c.match(/webkit/i),Ot=c.match(/safari/i)&&!c.match(/chrome/i),Mt=c.match(/opera/i),_t=c.match(/(mobile|pre\/|xoom)/i)||kt,Dt=!p.match(/usehtml5audio/i)&&!p.match(/sm2\-ignorebadua/i)&&Ot&&!c.match(/silk/i)&&c.match(/OS X 10_6_([3-7])/i),Pt="undefined"!=typeof d.hasFocus?d.hasFocus():null,Ht=Ot&&("undefined"==typeof d.hasFocus||!d.hasFocus()),Bt=!Ht,jt=/(mp3|mp4|mpa|m4a|m4b)/i,Ft=d.location?d.location.protocol.match(/http/i):null,It=Ft?"":"http://",qt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Rt="mpeg4,aac,flv,mov,mp4,m4v,f4v,m4a,m4b,mp4v,3gp,3g2".split(","),Ut=RegExp("\\.("+Rt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!Ft;this._global_a=null;_t&&(a.useHTML5Audio=!0,a.preferFlash=!1,kt)&&(Et=a.ignoreFlash=!0);this.setup=function(e){var t=!a.url;"undefined"!=typeof e&&S&&ct&&a.ok()&&("undefined"!=typeof e.flashVersion||"undefined"!=typeof e.url)&&tt(Q("setupLate"));k(e);t&&I&&"undefined"!=typeof e.url&&a.beginDelayedInit();!I&&"undefined"!=typeof e.url&&"complete"===d.readyState&&setTimeout(j,1);return a};this.supported=this.ok=function(){return ct?S&&!x:a.useHTML5Audio&&a.hasHTML5};this.getMovie=function(e){return l(e)||d[e]||h[e]};this.createSound=function(e,t){function n(){r=Z(r);a.sounds[s.id]=new u(s);a.soundIDs.push(s.id);return a.sounds[s.id]}var r=null,i=null,s=null;if(!S||!a.ok())return tt(void 0),!1;"undefined"!=typeof t&&(e={id:e,url:t});r=C(e);r.url=lt(r.url);s=r;if(nt(s.id,!0))return a.sounds[s.id];if(pt(s))i=n(),i._setup_html5(s);else{8<y&&null===s.isMovieStar&&(s.isMovieStar=!!s.serverURL||!!(s.type&&s.type.match(qt)||s.url.match(Ut)));s=et(s,void 0);i=n();if(8===y)f._createSound(s.id,s.loops||1,s.usePolicyFile);else if(f._createSound(s.id,s.url,s.usePeakData,s.useWaveformData,s.useEQData,s.isMovieStar,s.isMovieStar?s.bufferTime:!1,s.loops||1,s.serverURL,s.duration||null,s.autoPlay,!0,s.autoLoad,s.usePolicyFile),!s.serverURL)i.connected=!0,s.onconnect&&s.onconnect.apply(i);!s.serverURL&&(s.autoLoad||s.autoPlay)&&i.load(s)}!s.serverURL&&s.autoPlay&&i.play();return i};this.destroySound=function(e,t){if(!nt(e))return!1;var n=a.sounds[e],r;n._iO={};n.stop();n.unload();for(r=0;r<a.soundIDs.length;r++)if(a.soundIDs[r]===e){a.soundIDs.splice(r,1);break}t||n.destruct(!0);delete a.sounds[e];return!0};this.load=function(e,t){return nt(e)?a.sounds[e].load(t):!1};this.unload=function(e){return nt(e)?a.sounds[e].unload():!1};this.onposition=this.onPosition=function(e,t,n,r){return nt(e)?a.sounds[e].onposition(t,n,r):!1};this.clearOnPosition=function(e,t,n){return nt(e)?a.sounds[e].clearOnPosition(t,n):!1};this.start=this.play=function(e,t){var n=!1;if(!S||!a.ok())return tt("soundManager.play(): "+Q(S?"notOK":"notReady")),n;if(!nt(e)){t instanceof Object||(t={url:t});t&&t.url&&(t.id=e,n=a.createSound(t).play());return n}return a.sounds[e].play(t)};this.setPosition=function(e,t){return nt(e)?a.sounds[e].setPosition(t):!1};this.stop=function(e){return nt(e)?a.sounds[e].stop():!1};this.stopAll=function(){for(var e in a.sounds)a.sounds.hasOwnProperty(e)&&a.sounds[e].stop()};this.pause=function(e){return nt(e)?a.sounds[e].pause():!1};this.pauseAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].pause()};this.resume=function(e){return nt(e)?a.sounds[e].resume():!1};this.resumeAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].resume()};this.togglePause=function(e){return nt(e)?a.sounds[e].togglePause():!1};this.setPan=function(e,t){return nt(e)?a.sounds[e].setPan(t):!1};this.setVolume=function(e,t){return nt(e)?a.sounds[e].setVolume(t):!1};this.mute=function(e){var t=0;"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].mute():!1;for(t=a.soundIDs.length-1;0<=t;t--)a.sounds[a.soundIDs[t]].mute();return a.muted=!0};this.muteAll=function(){a.mute()};this.unmute=function(e){"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].unmute():!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].unmute();a.muted=!1;return!0};this.unmuteAll=function(){a.unmute()};this.toggleMute=function(e){return nt(e)?a.sounds[e].toggleMute():!1};this.getMemoryUse=function(){var e=0;f&&8!==y&&(e=parseInt(f._getMemoryUse(),10));return e};this.disable=function(e){var t;"undefined"==typeof e&&(e=!1);if(x)return!1;x=!0;for(t=a.soundIDs.length-1;0<=t;t--)X(a.sounds[a.soundIDs[t]]);N(e);bt.remove(h,"load",M);return!0};this.canPlayMIME=function(e){var t;a.hasHTML5&&(t=dt({type:e}));!t&&ct&&(t=e&&a.ok()?!!(8<y&&e.match(qt)||e.match(a.mimePattern)):null);return t};this.canPlayURL=function(e){var t;a.hasHTML5&&(t=dt({url:e}));!t&&ct&&(t=e&&a.ok()?!!e.match(a.filePattern):null);return t};this.canPlayLink=function(e){return"undefined"!=typeof e.type&&e.type&&a.canPlayMIME(e.type)?!0:a.canPlayURL(e.href)};this.getSoundById=function(e){if(!e)throw Error("soundManager.getSoundById(): sID is null/undefined");return a.sounds[e]};this.onready=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","onready");t||(t=h),A("onready",e,t),O();return!0};this.ontimeout=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","ontimeout");t||(t=h),A("ontimeout",e,t),O({type:"ontimeout"});return!0};this._wD=this._writeDebug=function(){return!0};this._debug=function(){};this.reboot=function(){var e,t;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].destruct();if(f)try{Lt&&(K=f.innerHTML);J=f.parentNode.removeChild(f)}catch(n){}K=J=ct=null;a.enabled=I=S=rt=it=w=E=x=a.swfLoaded=!1;a.soundIDs=[];a.sounds={};f=null;for(e in b)if(b.hasOwnProperty(e))for(t=b[e].length-1;0<=t;t--)b[e][t].fired=!1;h.setTimeout(a.beginDelayedInit,20)};this.getMoviePercent=function(){return f&&"undefined"!=typeof f.PercentLoaded?f.PercentLoaded():null};this.beginDelayedInit=function(){T=!0;j();setTimeout(function(){if(it)return!1;R();B();return it=!0},20);_()};this.destruct=function(){a.disable(!0)};u=function(e){var t,n,r=this,i,s,o,u,l,c,h=!1,p=[],d=0,v,m,g=null;t=null;n=null;this.sID=this.id=e.id;this.url=e.url;this._iO=this.instanceOptions=this.options=C(e);this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;this.id3={};this._debug=function(){};this.load=function(e){var t=null;if("undefined"!=typeof e)r._iO=C(e,r.options),r.instanceOptions=r._iO;else if(e=r.options,r._iO=e,r.instanceOptions=r._iO,g&&g!==r.url)r._iO.url=r.url,r.url=null;r._iO.url||(r._iO.url=r.url);r._iO.url=lt(r._iO.url);if(r._iO.url===r.url&&0!==r.readyState&&2!==r.readyState)return 3===r.readyState&&r._iO.onload&&r._iO.onload.apply(r,[!!r.duration]),r;e=r._iO;g=r.url&&r.url.toString?r.url.toString():null;r.loaded=!1;r.readyState=1;r.playState=0;r.id3={};if(pt(e)){if(t=r._setup_html5(e),!t._called_load){r._html5_canplay=!1;r._a.src!==e.url&&(r._a.src=e.url,r.setPosition(0));r._a.autobuffer="auto";r._a.preload="auto";t._called_load=!0;e.autoPlay&&r.play()}}else try{r.isHTML5=!1,r._iO=et(Z(e)),e=r._iO,8===y?f._load(r.id,e.url,e.stream,e.autoPlay,e.whileloading?1:0,e.loops||1,e.usePolicyFile):f._load(r.id,e.url,!!e.stream,!!e.autoPlay,e.loops||1,!!e.autoLoad,e.usePolicyFile)}catch(n){U({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}r.url=e.url;return r};this.unload=function(){if(0!==r.readyState){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a,"about:blank"),r.url="about:blank"}else 8===y?f._unload(r.id,"about:blank"):f._unload(r.id);i()}return r};this.destruct=function(e){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a),Et||o(),r._a._t=null,r._a=null}else r._iO.onfailure=null,f._destroySound(r.id);e||a.destroySound(r.id,!0)};this.start=this.play=function(e,t){var n,i;i=!0;i=null;t="undefined"==typeof t?!0:t;e||(e={});r.url&&(r._iO.url=r.url);r._iO=C(r._iO,r.options);r._iO=C(e,r._iO);r._iO.url=lt(r._iO.url);r.instanceOptions=r._iO;if(r._iO.serverURL&&!r.connected)return r.getAutoPlay()||r.setAutoPlay(!0),r;pt(r._iO)&&(r._setup_html5(r._iO),l());1===r.playState&&!r.paused&&((n=r._iO.multiShot)||(i=r));if(null!==i)return i;e.url&&e.url!==r.url&&r.load(r._iO);if(!r.loaded)if(0===r.readyState){r.isHTML5||(r._iO.autoPlay=!0);r.load(r._iO)}else 2===r.readyState&&(i=r);if(null!==i)return i;!r.isHTML5&&9===y&&0<r.position&&r.position===r.duration&&(e.position=0);if(r.paused&&0<=r.position&&(!r._iO.serverURL||0<r.position))r.resume();else{r._iO=C(e,r._iO);if(null!==r._iO.from&&null!==r._iO.to&&0===r.instanceCount&&0===r.playState&&!r._iO.serverURL){n=function(){r._iO=C(e,r._iO);r.play(r._iO)};r.isHTML5&&!r._html5_canplay?(r.load({_oncanplay:n}),i=!1):!r.isHTML5&&!r.loaded&&(!r.readyState||2!==r.readyState)&&(r.load({onload:n}),i=!1);if(null!==i)return i;r._iO=m()}(!r.instanceCount||r._iO.multiShotEvents||!r.isHTML5&&8<y&&!r.getAutoPlay())&&r.instanceCount++;r._iO.onposition&&0===r.playState&&c(r);r.playState=1;r.paused=!1;r.position="undefined"!=typeof r._iO.position&&!isNaN(r._iO.position)?r._iO.position:0;r.isHTML5||(r._iO=et(Z(r._iO)));r._iO.onplay&&t&&(r._iO.onplay.apply(r),h=!0);r.setVolume(r._iO.volume,!0);r.setPan(r._iO.pan,!0);r.isHTML5?(l(),i=r._setup_html5(),r.setPosition(r._iO.position),i.play()):(i=f._start(r.id,r._iO.loops||1,9===y?r._iO.position:r._iO.position/1e3,r._iO.multiShot),9===y&&!i&&r._iO.onplayerror&&r._iO.onplayerror.apply(r))}return r};this.stop=function(e){var t=r._iO;if(1===r.playState){r._onbufferchange(0);r._resetOnPosition(0);r.paused=!1;r.isHTML5||(r.playState=0);v();t.to&&r.clearOnPosition(t.to);r.isHTML5?r._a&&(e=r.position,r.setPosition(0),r.position=e,r._a.pause(),r.playState=0,r._onTimer(),u()):(f._stop(r.id,e),t.serverURL&&r.unload());r.instanceCount=0;r._iO={};t.onstop&&t.onstop.apply(r)}return r};this.setAutoPlay=function(e){r._iO.autoPlay=e;r.isHTML5||(f._setAutoPlay(r.id,e),e&&!r.instanceCount&&1===r.readyState&&r.instanceCount++)};this.getAutoPlay=function(){return r._iO.autoPlay};this.setPosition=function(e){"undefined"==typeof e&&(e=0);var t=r.isHTML5?Math.max(e,0):Math.min(r.duration||r._iO.duration,Math.max(e,0));r.position=t;e=r.position/1e3;r._resetOnPosition(r.position);r._iO.position=t;if(r.isHTML5){if(r._a&&r._html5_canplay&&r._a.currentTime!==e)try{r._a.currentTime=e,(0===r.playState||r.paused)&&r._a.pause()}catch(n){}}else e=9===y?r.position:e,r.readyState&&2!==r.readyState&&f._setPosition(r.id,e,r.paused||!r.playState,r._iO.multiShot);r.isHTML5&&r.paused&&r._onTimer(!0);return r};this.pause=function(e){if(r.paused||0===r.playState&&1!==r.readyState)return r;r.paused=!0;r.isHTML5?(r._setup_html5().pause(),u()):(e||"undefined"==typeof e)&&f._pause(r.id,r._iO.multiShot);r._iO.onpause&&r._iO.onpause.apply(r);return r};this.resume=function(){var e=r._iO;if(!r.paused)return r;r.paused=!1;r.playState=1;r.isHTML5?(r._setup_html5().play(),l()):(e.isMovieStar&&!e.serverURL&&r.setPosition(r.position),f._pause(r.id,e.multiShot));!h&&e.onplay?(e.onplay.apply(r),h=!0):e.onresume&&e.onresume.apply(r);return r};this.togglePause=function(){if(0===r.playState)return r.play({position:9===y&&!r.isHTML5?r.position:r.position/1e3}),r;r.paused?r.resume():r.pause();return r};this.setPan=function(e,t){"undefined"==typeof e&&(e=0);"undefined"==typeof t&&(t=!1);r.isHTML5||f._setPan(r.id,e);r._iO.pan=e;t||(r.pan=e,r.options.pan=e);return r};this.setVolume=function(e,t){"undefined"==typeof e&&(e=100);"undefined"==typeof t&&(t=!1);r.isHTML5?r._a&&(r._a.volume=Math.max(0,Math.min(1,e/100))):f._setVolume(r.id,a.muted&&!r.muted||r.muted?0:e);r._iO.volume=e;t||(r.volume=e,r.options.volume=e);return r};this.mute=function(){r.muted=!0;r.isHTML5?r._a&&(r._a.muted=!0):f._setVolume(r.id,0);return r};this.unmute=function(){r.muted=!1;var e="undefined"!=typeof r._iO.volume;r.isHTML5?r._a&&(r._a.muted=!1):f._setVolume(r.id,e?r._iO.volume:r.options.volume);return r};this.toggleMute=function(){return r.muted?r.unmute():r.mute()};this.onposition=this.onPosition=function(e,t,n){p.push({position:parseInt(e,10),method:t,scope:"undefined"!=typeof n?n:r,fired:!1});return r};this.clearOnPosition=function(e,t){var n,e=parseInt(e,10);if(isNaN(e))return!1;for(n=0;n<p.length;n++)e===p[n].position&&(!t||t===p[n].method)&&(p[n].fired&&d--,p.splice(n,1))};this._processOnPosition=function(){var e,t;e=p.length;if(!e||!r.playState||d>=e)return!1;for(e-=1;0<=e;e--)if(t=p[e],!t.fired&&r.position>=t.position)t.fired=!0,d++,t.method.apply(t.scope,[t.position]);return!0};this._resetOnPosition=function(e){var t,n;t=p.length;if(!t)return!1;for(t-=1;0<=t;t--)if(n=p[t],n.fired&&e<=n.position)n.fired=!1,d--;return!0};m=function(){var e=r._iO,t=e.from,n=e.to,i,s;s=function(){r.clearOnPosition(n,s);r.stop()};i=function(){null!==n&&!isNaN(n)&&r.onPosition(n,s)};null!==t&&!isNaN(t)&&(e.position=t,e.multiShot=!1,i());return e};c=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.onPosition(parseInt(e,10),t[e])};v=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.clearOnPosition(parseInt(e,10))};l=function(){r.isHTML5&&st(r)};u=function(){r.isHTML5&&ot(r)};i=function(e){e||(p=[],d=0);h=!1;r._hasTimer=null;r._a=null;r._html5_canplay=!1;r.bytesLoaded=null;r.bytesTotal=null;r.duration=r._iO&&r._iO.duration?r._iO.duration:null;r.durationEstimate=null;r.buffered=[];r.eqData=[];r.eqData.left=[];r.eqData.right=[];r.failures=0;r.isBuffering=!1;r.instanceOptions={};r.instanceCount=0;r.loaded=!1;r.metadata={};r.readyState=0;r.muted=!1;r.paused=!1;r.peakData={left:0,right:0};r.waveformData={left:[],right:[]};r.playState=0;r.position=null;r.id3={}};i();this._onTimer=function(e){var i,s=!1,o={};if(r._hasTimer||e){if(r._a&&(e||(0<r.playState||1===r.readyState)&&!r.paused)){i=r._get_html5_duration();i!==t&&(t=i,r.duration=i,s=!0);r.durationEstimate=r.duration;i=1e3*r._a.currentTime||0;i!==n&&(n=i,s=!0);(s||e)&&r._whileplaying(i,o,o,o,o)}return s}};this._get_html5_duration=function(){var e=r._iO;return(e=r._a&&r._a.duration?1e3*r._a.duration:e&&e.duration?e.duration:null)&&!isNaN(e)&&Infinity!==e?e:null};this._apply_loop=function(e,t){e.loop=1<t?"loop":""};this._setup_html5=function(e){var e=C(r._iO,e),t=decodeURI,n=Et?a._global_a:r._a,o=t(e.url),u=n&&n._t?n._t.instanceOptions:null,f;if(n){if(n._t){!Et&&o===t(g)?f=n:Et&&u.url===e.url&&(!g||g===u.url)&&(f=n);if(f)return r._apply_loop(n,e.loops),f}Et&&n._t&&n._t.playState&&e.url!==u.url&&n._t.stop();i(u&&u.url?e.url===u.url:g?g===e.url:!1);n.src=e.url;g=r.url=e.url;n._called_load=!1}else if(r._a=e.autoLoad||e.autoPlay?new Audio(e.url):Mt&&10>opera.version()?new Audio(null):new Audio,n=r._a,n._called_load=!1,Et)a._global_a=n;r.isHTML5=!0;r._a=n;n._t=r;s();r._apply_loop(n,e.loops);e.autoLoad||e.autoPlay?r.load():(n.autobuffer=!1,n.preload="auto");return n};s=function(){if(r._a._added_events)return!1;var e;r._a._added_events=!0;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.addEventListener(e,Nt[e],!1);return!0};o=function(){var e;r._a._added_events=!1;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.removeEventListener(e,Nt[e],!1)};this._onload=function(e){e=!!e||!r.isHTML5&&8===y&&r.duration;r.loaded=e;r.readyState=e?3:2;r._onbufferchange(0);r._iO.onload&&r._iO.onload.apply(r,[e]);return!0};this._onbufferchange=function(e){if(0===r.playState||e&&r.isBuffering||!e&&!r.isBuffering)return!1;r.isBuffering=1===e;r._iO.onbufferchange&&r._iO.onbufferchange.apply(r);return!0};this._onsuspend=function(){r._iO.onsuspend&&r._iO.onsuspend.apply(r);return!0};this._onfailure=function(e,t,n){r.failures++;r._iO.onfailure&&1===r.failures&&r._iO.onfailure(r,e,t,n)};this._onfinish=function(){var e=r._iO.onfinish;r._onbufferchange(0);r._resetOnPosition(0);if(r.instanceCount){r.instanceCount--;!r.instanceCount&&(v(),r.playState=0,r.paused=!1,r.instanceCount=0,r.instanceOptions={},r._iO={},u(),r.isHTML5)&&(r.position=0);(!r.instanceCount||r._iO.multiShotEvents)&&e&&e.apply(r)}};this._whileloading=function(e,t,n,i){var s=r._iO;r.bytesLoaded=e;r.bytesTotal=t;r.duration=Math.floor(n);r.bufferLength=i;r.durationEstimate=!r.isHTML5&&!s.isMovieStar?s.duration?r.duration>s.duration?r.duration:s.duration:parseInt(r.bytesTotal/r.bytesLoaded*r.duration,10):r.duration;r.isHTML5||(r.buffered=[{start:0,end:r.duration}]);(3!==r.readyState||r.isHTML5)&&s.whileloading&&s.whileloading.apply(r)};this._whileplaying=function(e,t,n,i,s){var o=r._iO;if(isNaN(e)||null===e)return!1;r.position=Math.max(0,e);r._processOnPosition();if(!r.isHTML5&&8<y){o.usePeakData&&"undefined"!=typeof t&&t&&(r.peakData={left:t.leftPeak,right:t.rightPeak});o.useWaveformData&&"undefined"!=typeof n&&n&&(r.waveformData={left:n.split(","),right:i.split(",")});o.useEQData&&"undefined"!=typeof s&&s&&s.leftEQ&&(e=s.leftEQ.split(","),r.eqData=e,r.eqData.left=e,"undefined"!=typeof s.rightEQ&&s.rightEQ)&&(r.eqData.right=s.rightEQ.split(","))}1===r.playState&&(!r.isHTML5&&8===y&&!r.position&&r.isBuffering&&r._onbufferchange(0),o.whileplaying&&o.whileplaying.apply(r));return!0};this._oncaptiondata=function(e){r.captiondata=e;r._iO.oncaptiondata&&r._iO.oncaptiondata.apply(r,[e])};this._onmetadata=function(e,t){var n={},i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.metadata=n;r._iO.onmetadata&&r._iO.onmetadata.apply(r)};this._onid3=function(e,t){var n=[],i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.id3=C(r.id3,n);r._iO.onid3&&r._iO.onid3.apply(r)};this._onconnect=function(e){e=1===e;if(r.connected=e)r.failures=0,nt(r.id)&&(r.getAutoPlay()?r.play(void 0,r.getAutoPlay()):r._iO.autoLoad&&r.load()),r._iO.onconnect&&r._iO.onconnect.apply(r,[e])};this._ondataerror=function(){0<r.playState&&r._iO.ondataerror&&r._iO.ondataerror.apply(r)}};q=function(){return d.body||d._docElement||d.getElementsByTagName("div")[0]};l=function(e){return d.getElementById(e)};C=function(e,t){var n=e||{},r,i;r="undefined"==typeof t?a.defaultOptions:t;for(i in r)r.hasOwnProperty(i)&&"undefined"==typeof n[i]&&(n[i]="object"!=typeof r[i]||null===r[i]?r[i]:C(n[i],r[i]));return n};L={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};k=function(e,t){var n,r=!0,i="undefined"!=typeof t,s=a.setupOptions;for(n in e)if(e.hasOwnProperty(n))if("object"!=typeof e[n]||null===e[n]||e[n]instanceof Array)i&&"undefined"!=typeof L[t]?a[t][n]=e[n]:"undefined"!=typeof s[n]?(a.setupOptions[n]=e[n],a[n]=e[n]):"undefined"==typeof L[n]?(tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1):a[n]instanceof Function?a[n].apply(a,e[n]instanceof Array?e[n]:[e[n]]):a[n]=e[n];else{if("undefined"!=typeof L[n])return k(e[n],n);tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1}return r};bt=function(){function e(e){var e=wt.call(e),t=e.length;n?(e[1]="on"+e[1],3<t&&e.pop()):3===t&&e.push(!1);return e}function t(e,t){var i=e.shift(),s=[r[t]];n?i[s](e[0],e[1]):i[s].apply(i,e)}var n=h.attachEvent,r={add:n?"attachEvent":"addEventListener",remove:n?"detachEvent":"removeEventListener"};return{add:function(){t(e(arguments),"add")},remove:function(){t(e(arguments),"remove")}}}();Nt={abort:i(function(){}),canplay:i(function(){var e=this._t,t;if(e._html5_canplay)return!0;e._html5_canplay=!0;e._onbufferchange(0);t="undefined"!=typeof e._iO.position&&!isNaN(e._iO.position)?e._iO.position/1e3:null;if(e.position&&this.currentTime!==t)try{this.currentTime=t}catch(n){}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:i(function(){var e=this._t;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),ended:i(function(){this._t._onfinish()}),error:i(function(){this._t._onload(!1)}),loadeddata:i(function(){var e=this._t;!e._loaded&&!Ot&&(e.duration=e._get_html5_duration())}),loadedmetadata:i(function(){}),loadstart:i(function(){this._t._onbufferchange(1)}),play:i(function(){this._t._onbufferchange(0)}),playing:i(function(){this._t._onbufferchange(0)}),progress:i(function(e){var t=this._t,n,r,i=0,i=e.target.buffered;n=e.loaded||0;var s=e.total||1;t.buffered=[];if(i&&i.length){for(n=0,r=i.length;n<r;n++)t.buffered.push({start:1e3*i.start(n),end:1e3*i.end(n)});i=1e3*(i.end(0)-i.start(0));n=i/(1e3*e.target.duration)}isNaN(n)||(t._onbufferchange(0),t._whileloading(n,s,t._get_html5_duration()),n&&s&&n===s&&Nt.canplaythrough.call(this,e))}),ratechange:i(function(){}),suspend:i(function(e){var t=this._t;Nt.progress.call(this,e);t._onsuspend()}),stalled:i(function(){}),timeupdate:i(function(){this._t._onTimer()}),waiting:i(function(){this._t._onbufferchange(1)})};pt=function(e){return e.serverURL||e.type&&r(e.type)?!1:e.type?dt({type:e.type}):dt({url:e.url})||a.html5Only};mt=function(e,t){e&&(e.src=t)};dt=function(e){if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t=e.url||null,e=e.type||null,n=a.audioFormats,i;if(e&&"undefined"!=typeof a.html5[e])return a.html5[e]&&!r(e);if(!vt){vt=[];for(i in n)n.hasOwnProperty(i)&&(vt.push(i),n[i].related&&(vt=vt.concat(n[i].related)));vt=RegExp("\\.("+vt.join("|")+")(\\?.*)?$","i")}i=t?t.toLowerCase().match(vt):null;!i||!i.length?e&&(t=e.indexOf(";"),i=(-1!==t?e.substr(0,t):e).substr(6)):i=i[1];i&&"undefined"!=typeof a.html5[i]?t=a.html5[i]&&!r(i):(e="audio/"+i,t=a.html5.canPlayType({type:e}),t=(a.html5[i]=t)&&a.html5[e]&&!r(e));return t};yt=function(){function e(e){var n,r,i=n=!1;if(!t||"function"!=typeof t.canPlayType)return n;if(e instanceof Array){for(n=0,r=e.length;n<r;n++)if(a.html5[e[n]]||t.canPlayType(e[n]).match(a.html5Test))i=!0,a.html5[e[n]]=!0,a.flash[e[n]]=!!e[n].match(jt);n=i}else e=t&&"function"==typeof t.canPlayType?t.canPlayType(e):!1,n=!!e&&!!e.match(a.html5Test);return n}if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t="undefined"!=typeof Audio?Mt&&10>opera.version()?new Audio(null):new Audio:null,n,r,i={},s;s=a.audioFormats;for(n in s)if(s.hasOwnProperty(n)&&(r="audio/"+n,i[n]=e(s[n].type),i[r]=i[n],n.match(jt)?(a.flash[n]=!0,a.flash[r]=!0):(a.flash[n]=!1,a.flash[r]=!1),s[n]&&s[n].related))for(r=s[n].related.length-1;0<=r;r--)i["audio/"+s[n].related[r]]=i[n],a.html5[s[n].related[r]]=i[n],a.flash[s[n].related[r]]=i[n];i.canPlayType=t?e:null;a.html5=C(a.html5,i);return!0};Q=function(){};Z=function(e){8===y&&1<e.loops&&e.stream&&(e.stream=!1);return e};et=function(e){e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(e.usePolicyFile=!0);return e};tt=function(){};v=function(){return!1};X=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=v)};V=function(e){"undefined"==typeof e&&(e=!1);(x||e)&&a.disable(e)};$=function(e){var t=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");e=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+a.movieURL;a.noSWFCache&&(e+="?ts="+(new Date).getTime());return e};P=function(){y=parseInt(a.flashVersion,10);8!==y&&9!==y&&(a.flashVersion=y=8);var e=a.debugMode||a.debugFlash?"_debug.swf":".swf";a.useHTML5Audio&&!a.html5Only&&a.audioFormats.mp4.required&&9>y&&(a.flashVersion=y=9);a.version=a.versionNumber+(a.html5Only?" (HTML5-only mode)":9===y?" (AS3/Flash 9)":" (AS2/Flash 8)");8<y?(a.defaultOptions=C(a.defaultOptions,a.flash9Options),a.features.buffering=!0,a.defaultOptions=C(a.defaultOptions,a.movieStarOptions),a.filePatterns.flash9=RegExp("\\.(mp3|"+Rt.join("|")+")(\\?.*)?$","i"),a.features.movieStar=!0):a.features.movieStar=!1;a.filePattern=a.filePatterns[8!==y?"flash9":"flash8"];a.movieURL=(8===y?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e);a.features.peakData=a.features.waveformData=a.features.eqData=8<y};z=function(e,t){if(!f)return!1;f._setPolling(e,t)};W=function(){a.debugURLParam.test(p)&&(a.debugMode=!0)};nt=this.getSoundById;Y=function(){var e=[];a.debugMode&&e.push("sm2_debug");a.debugFlash&&e.push("flash_debug");a.useHighPerformance&&e.push("high_performance");return e.join(" ")};G=function(){Q("fbHandler");var e=a.getMoviePercent(),t={type:"FLASHBLOCK"};if(a.html5Only)return!1;if(a.ok())a.oMC&&(a.oMC.className=[Y(),"movieContainer","swf_loaded"+(a.didFlashBlock?" swf_unblocked":"")].join(" "));else{ct&&(a.oMC.className=Y()+" movieContainer "+(null===e?"swf_timedout":"swf_error"));a.didFlashBlock=!0;O({type:"ontimeout",ignoreInit:!0,error:t});U(t)}};A=function(e,t,n){"undefined"==typeof b[e]&&(b[e]=[]);b[e].push({method:t,scope:n||null,fired:!1})};O=function(e){e||(e={type:a.ok()?"onready":"ontimeout"});if(!S&&e&&!e.ignoreInit||"ontimeout"===e.type&&(a.ok()||x&&!e.ignoreInit))return!1;var t={success:e&&e.ignoreInit?a.ok():!
x},n=e&&e.type?b[e.type]||[]:[],r=[],i,t=[t],s=ct&&a.useFlashBlock&&!a.ok();e.error&&(t[0].error=e.error);for(e=0,i=n.length;e<i;e++)!0!==n[e].fired&&r.push(n[e]);if(r.length)for(e=0,i=r.length;e<i;e++)if(r[e].scope?r[e].method.apply(r[e].scope,t):r[e].method.apply(this,t),!s)r[e].fired=!0;return!0};M=function(){h.setTimeout(function(){a.useFlashBlock&&G();O();"function"==typeof a.onload&&a.onload.apply(h);a.waitForWindowLoad&&bt.add(h,"load",M)},1)};xt=function(){if("undefined"!=typeof St)return St;var e=!1,t=navigator,n=t.plugins,r,i=h.ActiveXObject;if(n&&n.length)(t=t.mimeTypes)&&t["application/x-shockwave-flash"]&&t["application/x-shockwave-flash"].enabledPlugin&&t["application/x-shockwave-flash"].enabledPlugin.description&&(e=!0);else if("undefined"!=typeof i){try{r=new i("ShockwaveFlash.ShockwaveFlash")}catch(s){}e=!!r}return St=e};ht=function(){var e,t,n=a.audioFormats;if(kt&&c.match(/os (1|2|3_0|3_1)/i)){if(a.hasHTML5=!1,a.html5Only=!0,a.oMC)a.oMC.style.display="none"}else a.useHTML5Audio&&(!a.html5||!a.html5.canPlayType)&&(a.hasHTML5=!1);if(a.useHTML5Audio&&a.hasHTML5)for(t in n)n.hasOwnProperty(t)&&(n[t].required&&!a.html5.canPlayType(n[t].type)||a.preferFlash&&(a.flash[t]||a.flash[n[t].type]))&&(e=!0);a.ignoreFlash&&(e=!1);a.html5Only=a.hasHTML5&&a.useHTML5Audio&&!e;return!a.html5Only};lt=function(e){var t,n,r=0;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(a.canPlayMIME(e[t].type)){r=t;break}}else if(a.canPlayURL(e[t])){r=t;break}e[r].url&&(e[r]=e[r].url);e=e[r]}return e};st=function(e){e._hasTimer||(e._hasTimer=!0,!_t&&a.html5PollingInterval&&(null===ft&&0===at&&(ft=h.setInterval(ut,a.html5PollingInterval)),at++))};ot=function(e){e._hasTimer&&(e._hasTimer=!1,!_t&&a.html5PollingInterval&&at--)};ut=function(){var e;if(null!==ft&&!at)return h.clearInterval(ft),ft=null,!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].isHTML5&&a.sounds[a.soundIDs[e]]._hasTimer&&a.sounds[a.soundIDs[e]]._onTimer()};U=function(e){e="undefined"!=typeof e?e:{};"function"==typeof a.onerror&&a.onerror.apply(h,[{type:"undefined"!=typeof e.type?e.type:null}]);"undefined"!=typeof e.fatal&&e.fatal&&a.disable()};Tt=function(){if(!Dt||!xt())return!1;var e=a.audioFormats,t,n;for(n in e)if(e.hasOwnProperty(n)&&("mp3"===n||"mp4"===n))if(a.html5[n]=!1,e[n]&&e[n].related)for(t=e[n].related.length-1;0<=t;t--)a.html5[e[n].related[t]]=!1};this._setSandboxType=function(){};this._externalInterfaceOK=function(){if(a.swfLoaded)return!1;(new Date).getTime();a.swfLoaded=!0;Ht=!1;Dt&&Tt();setTimeout(g,Lt?100:1)};R=function(e,t){function n(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(w&&E)return!1;if(a.html5Only)return P(),a.oMC=l(a.movieID),g(),E=w=!0,!1;var r=t||a.url,i=a.altURL||r,s=q(),o=Y(),u=null,u=d.getElementsByTagName("html")[0],f,h,p,u=u&&u.dir&&u.dir.match(/rtl/i),e="undefined"==typeof e?a.id:e;P();a.url=$(Ft?r:i);t=a.url;a.wmode=!a.wmode&&a.useHighPerformance?"transparent":a.wmode;null!==a.wmode&&(c.match(/msie 8/i)||!Lt&&!a.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(a.wmode=null);s={name:e,id:e,src:t,quality:"high",allowScriptAccess:a.allowScriptAccess,bgcolor:a.bgColor,pluginspage:It+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:a.wmode,hasPriority:"true"};a.debugFlash&&(s.FlashVars="debug=1");a.wmode||delete s.wmode;if(Lt)r=d.createElement("div"),h=['<object id="'+e+'" data="'+t+'" type="'+s.type+'" title="'+s.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+It+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',n("movie",t),n("AllowScriptAccess",a.allowScriptAccess),n("quality",s.quality),a.wmode?n("wmode",a.wmode):"",n("bgcolor",a.bgColor),n("hasPriority","true"),a.debugFlash?n("FlashVars",s.FlashVars):"","</object>"].join("");else for(f in r=d.createElement("embed"),s)s.hasOwnProperty(f)&&r.setAttribute(f,s[f]);W();o=Y();if(s=q())if(a.oMC=l(a.movieID)||d.createElement("div"),a.oMC.id){p=a.oMC.className;a.oMC.className=(p?p+" ":"movieContainer")+(o?" "+o:"");a.oMC.appendChild(r);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}else{a.oMC.id=a.movieID;a.oMC.className="movieContainer "+o;f=o=null;if(!a.useFlashBlock)if(a.useHighPerformance)o={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"};else if(o={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},u)o.left=Math.abs(parseInt(o.left,10))+"px";At&&(a.oMC.style.zIndex=1e4);if(!a.debugFlash)for(p in o)o.hasOwnProperty(p)&&(a.oMC.style[p]=o[p]);try{Lt||a.oMC.appendChild(r);s.appendChild(a.oMC);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}catch(v){throw Error(Q("domError")+" \n"+v.toString())}}return w=!0};B=function(){if(a.html5Only)return R(),!1;if(f||!a.url)return!1;f=a.getMovie(a.id);f||(J?(Lt?a.oMC.innerHTML=K:a.oMC.appendChild(J),J=null,w=!0):R(a.id,a.url),f=a.getMovie(a.id));"function"==typeof a.oninitmovie&&setTimeout(a.oninitmovie,1);return!0};_=function(){setTimeout(D,1e3)};D=function(){var e,t=!1;if(!a.url||rt)return!1;rt=!0;bt.remove(h,"load",_);if(Ht&&!Pt)return!1;S||(e=a.getMoviePercent(),0<e&&100>e&&(t=!0));setTimeout(function(){e=a.getMoviePercent();if(t)return rt=!1,h.setTimeout(_,1),!1;!S&&Bt&&(null===e?a.useFlashBlock||0===a.flashLoadTimeout?a.useFlashBlock&&G():V(!0):0!==a.flashLoadTimeout&&V(!0))},a.flashLoadTimeout)};H=function(){if(Pt||!Ht)return bt.remove(h,"focus",H),!0;Pt=Bt=!0;rt=!1;_();bt.remove(h,"focus",H);return!0};Ct=function(){};N=function(e){if(S)return!1;if(a.html5Only)return S=!0,M(),!0;var t=!0,n;if(!a.useFlashBlock||!a.flashLoadTimeout||a.getMoviePercent())S=!0,x&&(n={type:!St&&ct?"NO_FLASH":"INIT_TIMEOUT"});if(x||e){a.useFlashBlock&&a.oMC&&(a.oMC.className=Y()+" "+(null===a.getMoviePercent()?"swf_timedout":"swf_error"));O({type:"ontimeout",error:n,ignoreInit:!0});U(n);t=!1}x||(a.waitForWindowLoad&&!T?bt.add(h,"load",M):M());return t};m=function(){var e,t=a.setupOptions;for(e in t)t.hasOwnProperty(e)&&("undefined"==typeof a[e]?a[e]=t[e]:a[e]!==t[e]&&(a.setupOptions[e]=a[e]))};g=function(){if(S)return!1;if(a.html5Only){S||(bt.remove(h,"load",a.beginDelayedInit),a.enabled=!0,N());return!0}B();try{f._externalInterfaceTest(!1),z(!0,a.flashPollingInterval||(a.useHighPerformance?10:50)),a.debugMode||f._disableDebug(),a.enabled=!0,a.html5Only||bt.add(h,"unload",v)}catch(e){return U({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),V(!0),N(),!1}N();bt.remove(h,"load",a.beginDelayedInit);return!0};j=function(){if(I)return!1;I=!0;m();W();!St&&a.hasHTML5&&a.setup({useHTML5Audio:!0,preferFlash:!1});yt();a.html5.usingFlash=ht();ct=a.html5.usingFlash;Ct();!St&&ct&&a.setup({flashLoadTimeout:1});d.removeEventListener&&d.removeEventListener("DOMContentLoaded",j,!1);B();return!0};gt=function(){"complete"===d.readyState&&(j(),d.detachEvent("onreadystatechange",gt));return!0};F=function(){T=!0;bt.remove(h,"load",F)};xt();bt.add(h,"focus",H);bt.add(h,"load",_);bt.add(h,"load",F);d.addEventListener?d.addEventListener("DOMContentLoaded",j,!1):d.attachEvent?d.attachEvent("onreadystatechange",gt):U({type:"NO_DOM2_EVENTS",fatal:!0})}var n=null;if("undefined"==typeof SM2_DEFER||!SM2_DEFER)n=new t;e.SoundManager=t;e.soundManager=n})(window);__slice=[].slice;typeof soundManager!="undefined"&&soundManager.setup({url:"swf/",flashVersion:9,useFlashBlock:!1,useHighPerformance:!0,wmode:"transparent",useFastPolling:!0,debugFlash:!1,debugMode:!1});var SoundCloudPlayer=function(e,t){var n={loop:!1,start_on:0,autoplay:!1,autoswitch:!0,volume:100,toggle_pause:!0,cache:!0,preload:!1,debug:!1},r="http://api.soundcloud.com/resolve?url=http://soundcloud.com",i=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi),s=this,o=jQuery(this);this.tracks=[];this.config=jQuery.extend(n,t);this.current_track_index=this.config.start_on;this.current_track=null;this.sound=null;this.inited=!1;this.play_when_ready=!1;this.cache={};this.init=function(){if(s.inited)return;s.change_track();s.trigger("scplayer.init");s.config.autoplay&&s.play();s.inited=!0};this.change_track=function(e){s.log("change_track");if(s.sound){s.sound.destruct();s.sound=null}var t=typeof e!="undefined"?e:s.current_track_index;if(e!=s.current_track_index||!e){var n=s.tracks[t];s.resolve_track(n,s.set_sound);s.trigger("scplayer.changing_track",t)}return s};this.play=function(){s.log("play");s.sound&&s.sound.readyState==3?s.sound.play():s.play_when_ready=!0;s.trigger("scplayer.play",s.current_track_index);return s};this.pause=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.pause();s.trigger("scplayer.pause",s.sound.paused)}return s};this.resume=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.resume();s.trigger("scplayer.pause",s.sound.paused)}return s};this.stop=function(){s.sound&&s.sound.stop();s.trigger("scplayer.stop");s.log("stop");return s};this.next=function(e){s.log("next");s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;s.log(s.play_when_ready);if(s.tracks[s.current_track_index+1]){s.current_track_index++;s.change_track();s.trigger("scplayer.playlist.next",s.current_track_index-1,s.current_track_index);s.log("has next")}else if(s.config.loop){s.current_track_index=0;s.change_track();s.trigger("scplayer.playlist.looped");s.log("looped")}else{s.current_track_index=s.tracks.length-1;s.trigger("scplayer.playlist.ended");s.log("no mas")}return s};this.prev=function(e){s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;if(s.tracks[s.current_track_index-1]){s.current_track_index--;s.change_track();s.trigger("scplayer.playlist.prev")}else if(s.config.loop){s.current_track_index=s.tracks.length-1;s.change_track();s.trigger("scplayer.playlist.looped")}else{s.current_track_index=0;s.trigger("scplayer.playlist.restarted")}return s};this.goto=function(e,t){s.log("goto");s.play_when_ready=typeof t!="undefined"?t:s.config.autoswitch;if(s.tracks[e]){s.current_track_index=e;s.trigger("scplayer.playlist.goto");s.change_track()}return s};this.restart_track=function(){s.position(0);return s};this.mute=function(){s.sound&&s.sound.toggleMute();s.trigger("scplayer.mute",s.sound.muted);return s};this.has_next=function(){s.log("has next");return s.tracks[s.current_track_index+1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.has_prev=function(){return s.tracks[s.current_track_index-1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.get_time=function(){var e=this.position(),t=e%1e3,n=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),i=Math.floor(e/36e5%24),o=r+":"+s.pad(n);i>0&&(o=i+":"+o);return o};this.position=function(e){if(s.sound){if(e||e===0){e=Math.min(s.sound.duration,e);e=Math.max(0,e);s.trigger("scplayer.position",e);return s.sound.setPosition(e)}s.trigger("scplayer.position",s.sound.position);return s.sound.position}return 0};this.volume=function(e){if(s.sound){if(e||e===0){e=Math.min(100,e);e=Math.max(0,e);s.trigger("scplayer.volume",e);s.config.volume=e;return s.sound.setVolume(e)}s.trigger("scplayer.volume",s.sound.volume);return s.sound.volume}return s.config.volume};this.seek=function(e){var t=s.current_track.duration*e;s.position(t);return s};this.loop=function(e){if(e){s.config.loop=e;s.trigger("scplayer.loop_changed",s.config.loop)}return s.config.loop};this.track_info=function(e){s.isNumeric(e)&&(e=s.tracks[e]);return s.resolve_track(e)};this.on=function(e,t){return o.on(e,t)};this.trigger=function(e){var t=arguments.length>1?__slice.call(arguments,1):[];return o.trigger(e,t)};this.destroy=function(){s.sound&&s.sound.destruct();s.tracks=[];o.off();o.remove();s.tracks=null;s.track=null;s=null;delete s.tracks;delete s.track;delete s;delete this};s.get_track=function(){return s.current_track};s.get_track_index=function(){return s.current_track_index};s.get_sound=function(){return s.sound};s.get_playlist=function(){return s.tracks};s.set_cache=function(e,t){s.config.cache===!0&&(s.cache[e]=t)};s.get_cache=function(e){return s.config.cache===!0?s.cache[e]||null:null};s.set_sound=function(e){s.log("set_sound");s.trigger("scplayer.track.info_loaded",e);s.current_track=e;var t=e.stream_url;t+=t.indexOf("secret_token")==-1?"?":"&";t+="consumer_key="+s.config.consumer_key;s.sound=soundManager.createSound({autoLoad:!0,id:"track_"+e.id,multiShot:!1,loops:1,url:t,volume:s.config.volume,whileloading:function(){var e=Math.round(this.bytesLoaded/this.bytesTotal*100);s.trigger("scplayer.track.whileloading",e)},whileplaying:function(){var t=Math.round(this.position/e.duration*100*10)/10;s.trigger("scplayer.track.whileplaying",t)},onplay:function(){s.log("track.onplay");s.trigger("scplayer.track.played")},onresume:function(){s.trigger("scplayer.track.resumed")},onstop:function(){s.trigger("scplayer.track.stopped")},onpause:function(){s.trigger("scplayer.track.paused")},onfinish:function(){s.trigger("scplayer.track.finished")},onload:function(){s.log("onload");s.trigger("scplayer.track.ready",s.current_track_index,s.current_track)}});s.trigger("scplayer.track.bindable",e,s.sound)};s.resolve_track=function(e,t){var n=new jQuery.Deferred;if(e.match(i)&&e.search(/soundcloud\.com/i)===-1){var o={stream_url:e,id:0,permalink_url:e,duration:0};n.resolve(o)}e=e.replace(/https?\:\/\/soundcloud\.com/gi,"");if(s.config.cache===!0){var u=s.get_cache(e);if(u&&t){n.done(function(){t(u)}).resolve();return n}}n.done(function(n){if(n.tracks&&n.tracks.length>0){var r=s.parse_tracks(e,n.tracks);n=r[0]}else s.config.cache===!0&&s.set_cache(e,n);t&&t(n)});jQuery.ajax({url:r+e+"&format=json"+"&consumer_key="+s.config.consumer_key+"&callback=?",dataType:"jsonp",error:function(e,t,r){n.reject(e,t,r)},success:function(e){n.resolve(e)}});return n};s.preload_sc_tracks=function(e){var t=[];for(var n=0,r=s.tracks.length;n<r;n++){var i=s.tracks[n],o=s.resolve_track(i);t.push(o)}jQuery.when.apply(jQuery,t).then(function(){s.trigger("scplayer.playlist.preloaded");e&&e()},function(){s.log("promises failed to preload tracks")})};s.parse_tracks=function(e,t){var n=[],r=[],i=s.tracks.indexOf(e);for(var o=0,u=t.length;o<u;o++){var a=t[o],f=a.permalink_url.substring(21);s.config.cache===!0&&s.set_cache(f,a);n.push(a);r.push(f)}var l=[i,1].concat(r);s.tracks.splice.apply(s.tracks,l);return n};s.add_tracks=function(e){typeof e=="string"&&(e=[e]);if(e!=null&&e.length>0){s.tracks=s.tracks.concat(e);s.config.preload==1?s.preload_sc_tracks.call(s,s.init):s.init.call(s)}};s.log=function(){s.config.debug&&window.console&&console.log.apply(console,arguments)};s.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};s.pad=function(e){return(e<10?"0":"")+e};s.on("scplayer.track.ready",function(e){s.log("track.onready!!!");if(s.play_when_ready==1){s.play();s.play_when_ready=!1}});s.on("scplayer.track.finished",function(e){s.log("track finished");if(s.config.autoswitch&&(s.config.loop||s.has_next())){s.log("finished and autoswitch");s.next().play()}});s.on("scplayer.playlist.ended",function(e){s.log("playlist ended");s.config.loop||s.stop()});soundManager.onready(function(){s.log("SOUNDMANAGER2 ready!!");s.add_tracks(e)});soundManager.ontimeout(function(){window.console&&console.log("SOUNDMANAGER2 TIMEDOUT!!")});return{play:this.play,pause:this.pause,resume:this.resume,stop:this.stop,next:this.next,prev:this.prev,mute:this.mute,get_time:this.get_time,volume:this.volume,restart_track:this.restart_track,"goto":this.goto,position:this.position,seek:this.seek,track_info:this.track_info,has_next:this.has_next,has_prev:this.has_prev,on:this.on,trigger:this.trigger,track:this.get_track,track_index:this.get_track_index,sound:this.get_sound,playlist:this.get_playlist,destroy:this.destroy,add_tracks:this.add_tracks}};(function(e){function t(t,n){function r(e){return a.preferFlash&&St&&!a.ignoreFlash&&"undefined"!=typeof a.flash[e]&&a.flash[e]}function i(e){return function(t){var n=this._t;return!n||!n._a?null:e.call(this,t)}}this.setupOptions={url:t||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=n||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20120916";this.altURL=this.movieURL=this.version=null;this.enabled=this.swfLoaded=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.didFlashBlock=this.muted=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={};var s;try{s="undefined"!=typeof Audio&&"undefined"!=typeof (Mt&&10>opera.version()?new Audio(null):new Audio).canPlayType}catch(o){s=!1}this.hasHTML5=s;this.html5={usingFlash:null};this.flash={};this.ignoreFlash=this.html5Only=!1;var u,a=this,f=null,l,c=navigator.userAgent,h=e,p=h.location.href.toString(),d=document,v,m,g,y,b=[],w=!1,E=!1,S=!1,x=!1,T=!1,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J=null,K=null,Q,G,Y,Z,et,tt,nt,rt=!1,it=!1,st,ot,ut,at=0,ft=null,lt,ct=null,ht,pt,dt,vt,mt,gt,yt,bt,wt=Array.prototype.slice,Et=!1,St,xt,Tt,Nt,Ct,kt=c.match(/(ipad|iphone|ipod)/i),Lt=c.match(/msie/i),At=c.match(/webkit/i),Ot=c.match(/safari/i)&&!c.match(/chrome/i),Mt=c.match(/opera/i),_t=c.match(/(mobile|pre\/|xoom)/i)||kt,Dt=!p.match(/usehtml5audio/i)&&!p.match(/sm2\-ignorebadua/i)&&Ot&&!c.match(/silk/i)&&c.match(/OS X 10_6_([3-7])/i),Pt="undefined"!=typeof d.hasFocus?d.hasFocus():null,Ht=Ot&&("undefined"==typeof d.hasFocus||!d.hasFocus()),Bt=!Ht,jt=/(mp3|mp4|mpa|m4a|m4b)/i,Ft=d.location?d.location.protocol.match(/http/i):null,It=Ft?"":"http://",qt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Rt="mpeg4,aac,flv,mov,mp4,m4v,f4v,m4a,m4b,mp4v,3gp,3g2".split(","),Ut=RegExp("\\.("+Rt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!Ft;this._global_a=null;_t&&(a.useHTML5Audio=!0,a.preferFlash=!1,kt)&&(Et=a.ignoreFlash=!0);this.setup=function(e){var t=!a.url;"undefined"!=typeof e&&S&&ct&&a.ok()&&("undefined"!=typeof e.flashVersion||"undefined"!=typeof e.url)&&tt(Q("setupLate"));k(e);t&&I&&"undefined"!=typeof e.url&&a.beginDelayedInit();!I&&"undefined"!=typeof e.url&&"complete"===d.readyState&&setTimeout(j,1);return a};this.supported=this.ok=function(){return ct?S&&!x:a.useHTML5Audio&&a.hasHTML5};this.getMovie=function(e){return l(e)||d[e]||h[e]};this.createSound=function(e,t){function n(){r=Z(r);a.sounds[s.id]=new u(s);a.soundIDs.push(s.id);return a.sounds[s.id]}var r=null,i=null,s=null;if(!S||!a.ok())return tt(void 0),!1;"undefined"!=typeof t&&(e={id:e,url:t});r=C(e);r.url=lt(r.url);s=r;if(nt(s.id,!0))return a.sounds[s.id];if(pt(s))i=n(),i._setup_html5(s);else{8<y&&null===s.isMovieStar&&(s.isMovieStar=!!s.serverURL||!!(s.type&&s.type.match(qt)||s.url.match(Ut)));s=et(s,void 0);i=n();if(8===y)f._createSound(s.id,s.loops||1,s.usePolicyFile);else if(f._createSound(s.id,s.url,s.usePeakData,s.useWaveformData,s.useEQData,s.isMovieStar,s.isMovieStar?s.bufferTime:!1,s.loops||1,s.serverURL,s.duration||null,s.autoPlay,!0,s.autoLoad,s.usePolicyFile),!s.serverURL)i.connected=!0,s.onconnect&&s.onconnect.apply(i);!s.serverURL&&(s.autoLoad||s.autoPlay)&&i.load(s)}!s.serverURL&&s.autoPlay&&i.play();return i};this.destroySound=function(e,t){if(!nt(e))return!1;var n=a.sounds[e],r;n._iO={};n.stop();n.unload();for(r=0;r<a.soundIDs.length;r++)if(a.soundIDs[r]===e){a.soundIDs.splice(r,1);break}t||n.destruct(!0);delete a.sounds[e];return!0};this.load=function(e,t){return nt(e)?a.sounds[e].load(t):!1};this.unload=function(e){return nt(e)?a.sounds[e].unload():!1};this.onposition=this.onPosition=function(e,t,n,r){return nt(e)?a.sounds[e].onposition(t,n,r):!1};this.clearOnPosition=function(e,t,n){return nt(e)?a.sounds[e].clearOnPosition(t,n):!1};this.start=this.play=function(e,t){var n=!1;if(!S||!a.ok())return tt("soundManager.play(): "+Q(S?"notOK":"notReady")),n;if(!nt(e)){t instanceof Object||(t={url:t});t&&t.url&&(t.id=e,n=a.createSound(t).play());return n}return a.sounds[e].play(t)};this.setPosition=function(e,t){return nt(e)?a.sounds[e].setPosition(t):!1};this.stop=function(e){return nt(e)?a.sounds[e].stop():!1};this.stopAll=function(){for(var e in a.sounds)a.sounds.hasOwnProperty(e)&&a.sounds[e].stop()};this.pause=function(e){return nt(e)?a.sounds[e].pause():!1};this.pauseAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].pause()};this.resume=function(e){return nt(e)?a.sounds[e].resume():!1};this.resumeAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].resume()};this.togglePause=function(e){return nt(e)?a.sounds[e].togglePause():!1};this.setPan=function(e,t){return nt(e)?a.sounds[e].setPan(t):!1};this.setVolume=function(e,t){return nt(e)?a.sounds[e].setVolume(t):!1};this.mute=function(e){var t=0;"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].mute():!1;for(t=a.soundIDs.length-1;0<=t;t--)a.sounds[a.soundIDs[t]].mute();return a.muted=!0};this.muteAll=function(){a.mute()};this.unmute=function(e){"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].unmute():!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].unmute();a.muted=!1;return!0};this.unmuteAll=function(){a.unmute()};this.toggleMute=function(e){return nt(e)?a.sounds[e].toggleMute():!1};this.getMemoryUse=function(){var e=0;f&&8!==y&&(e=parseInt(f._getMemoryUse(),10));return e};this.disable=function(e){var t;"undefined"==typeof e&&(e=!1);if(x)return!1;x=!0;for(t=a.soundIDs.length-1;0<=t;t--)X(a.sounds[a.soundIDs[t]]);N(e);bt.remove(h,"load",M);return!0};this.canPlayMIME=function(e){var t;a.hasHTML5&&(t=dt({type:e}));!t&&ct&&(t=e&&a.ok()?!!(8<y&&e.match(qt)||e.match(a.mimePattern)):null);return t};this.canPlayURL=function(e){var t;a.hasHTML5&&(t=dt({url:e}));!t&&ct&&(t=e&&a.ok()?!!e.match(a.filePattern):null);return t};this.canPlayLink=function(e){return"undefined"!=typeof e.type&&e.type&&a.canPlayMIME(e.type)?!0:a.canPlayURL(e.href)};this.getSoundById=function(e){if(!e)throw Error("soundManager.getSoundById(): sID is null/undefined");return a.sounds[e]};this.onready=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","onready");t||(t=h),A("onready",e,t),O();return!0};this.ontimeout=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","ontimeout");t||(t=h),A("ontimeout",e,t),O({type:"ontimeout"});return!0};this._wD=this._writeDebug=function(){return!0};this._debug=function(){};this.reboot=function(){var e,t;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].destruct();if(f)try{Lt&&(K=f.innerHTML);J=f.parentNode.removeChild(f)}catch(n){}K=J=ct=null;a.enabled=I=S=rt=it=w=E=x=a.swfLoaded=!1;a.soundIDs=[];a.sounds={};f=null;for(e in b)if(b.hasOwnProperty(e))for(t=b[e].length-1;0<=t;t--)b[e][t].fired=!1;h.setTimeout(a.beginDelayedInit,20)};this.getMoviePercent=function(){return f&&"undefined"!=typeof f.PercentLoaded?f.PercentLoaded():null};this.beginDelayedInit=function(){T=!0;j();setTimeout(function(){if(it)return!1;R();B();return it=!0},20);_()};this.destruct=function(){a.disable(!0)};u=function(e){var t,n,r=this,i,s,o,u,l,c,h=!1,p=[],d=0,v,m,g=null;t=null;n=null;this.sID=this.id=e.id;this.url=e.url;this._iO=this.instanceOptions=this.options=C(e);this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;this.id3={};this._debug=function(){};this.load=function(e){var t=null;if("undefined"!=typeof e)r._iO=C(e,r.options),r.instanceOptions=r._iO;else if(e=r.options,r._iO=e,r.instanceOptions=r._iO,g&&g!==r.url)r._iO.url=r.url,r.url=null;r._iO.url||(r._iO.url=r.url);r._iO.url=lt(r._iO.url);if(r._iO.url===r.url&&0!==r.readyState&&2!==r.readyState)return 3===r.readyState&&r._iO.onload&&r._iO.onload.apply(r,[!!r.duration]),r;e=r._iO;g=r.url&&r.url.toString?r.url.toString():null;r.loaded=!1;r.readyState=1;r.playState=0;r.id3={};if(pt(e)){if(t=r._setup_html5(e),!t._called_load){r._html5_canplay=!1;r._a.src!==e.url&&(r._a.src=e.url,r.setPosition(0));r._a.autobuffer="auto";r._a.preload="auto";t._called_load=!0;e.autoPlay&&r.play()}}else try{r.isHTML5=!1,r._iO=et(Z(e)),e=r._iO,8===y?f._load(r.id,e.url,e.stream,e.autoPlay,e.whileloading?1:0,e.loops||1,e.usePolicyFile):f._load(r.id,e.url,!!e.stream,!!e.autoPlay,e.loops||1,!!e.autoLoad,e.usePolicyFile)}catch(n){U({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}r.url=e.url;return r};this.unload=function(){if(0!==r.readyState){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a,"about:blank"),r.url="about:blank"}else 8===y?f._unload(r.id,"about:blank"):f._unload(r.id);i()}return r};this.destruct=function(e){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a),Et||o(),r._a._t=null,r._a=null}else r._iO.onfailure=null,f._destroySound(r.id);e||a.destroySound(r.id,!0)};this.start=this.play=function(e,t){var n,i;i=!0;i=null;t="undefined"==typeof t?!0:t;e||(e={});r.url&&(r._iO.url=r.url);r._iO=C(r._iO,r.options);r._iO=C(e,r._iO);r._iO.url=lt(r._iO.url);r.instanceOptions=r._iO;if(r._iO.serverURL&&!r.connected)return r.getAutoPlay()||r.setAutoPlay(!0),r;pt(r._iO)&&(r._setup_html5(r._iO),l());1===r.playState&&!r.paused&&((n=r._iO.multiShot)||(i=r));if(null!==i)return i;e.url&&e.url!==r.url&&r.load(r._iO);if(!r.loaded)if(0===r.readyState){r.isHTML5||(r._iO.autoPlay=!0);r.load(r._iO)}else 2===r.readyState&&(i=r);if(null!==i)return i;!r.isHTML5&&9===y&&0<r.position&&r.position===r.duration&&(e.position=0);if(r.paused&&0<=r.position&&(!r._iO.serverURL||0<r.position))r.resume();else{r._iO=C(e,r._iO);if(null!==r._iO.from&&null!==r._iO.to&&0===r.instanceCount&&0===r.playState&&!r._iO.serverURL){n=function(){r._iO=C(e,r._iO);r.play(r._iO)};r.isHTML5&&!r._html5_canplay?(r.load({_oncanplay:n}),i=!1):!r.isHTML5&&!r.loaded&&(!r.readyState||2!==r.readyState)&&(r.load({onload:n}),i=!1);if(null!==i)return i;r._iO=m()}(!r.instanceCount||r._iO.multiShotEvents||!r.isHTML5&&8<y&&!r.getAutoPlay())&&r.instanceCount++;r._iO.onposition&&0===r.playState&&c(r);r.playState=1;r.paused=!1;r.position="undefined"!=typeof r._iO.position&&!isNaN(r._iO.position)?r._iO.position:0;r.isHTML5||(r._iO=et(Z(r._iO)));r._iO.onplay&&t&&(r._iO.onplay.apply(r),h=!0);r.setVolume(r._iO.volume,!0);r.setPan(r._iO.pan,!0);r.isHTML5?(l(),i=r._setup_html5(),r.setPosition(r._iO.position),i.play()):(i=f._start(r.id,r._iO.loops||1,9===y?r._iO.position:r._iO.position/1e3,r._iO.multiShot),9===y&&!i&&r._iO.onplayerror&&r._iO.onplayerror.apply(r))}return r};this.stop=function(e){var t=r._iO;if(1===r.playState){r._onbufferchange(0);r._resetOnPosition(0);r.paused=!1;r.isHTML5||(r.playState=0);v();t.to&&r.clearOnPosition(t.to);r.isHTML5?r._a&&(e=r.position,r.setPosition(0),r.position=e,r._a.pause(),r.playState=0,r._onTimer(),u()):(f._stop(r.id,e),t.serverURL&&r.unload());r.instanceCount=0;r._iO={};t.onstop&&t.onstop.apply(r)}return r};this.setAutoPlay=function(e){r._iO.autoPlay=e;r.isHTML5||(f._setAutoPlay(r.id,e),e&&!r.instanceCount&&1===r.readyState&&r.instanceCount++)};this.getAutoPlay=function(){return r._iO.autoPlay};this.setPosition=function(e){"undefined"==typeof e&&(e=0);var t=r.isHTML5?Math.max(e,0):Math.min(r.duration||r._iO.duration,Math.max(e,0));r.position=t;e=r.position/1e3;r._resetOnPosition(r.position);r._iO.position=t;if(r.isHTML5){if(r._a&&r._html5_canplay&&r._a.currentTime!==e)try{r._a.currentTime=e,(0===r.playState||r.paused)&&r._a.pause()}catch(n){}}else e=9===y?r.position:e,r.readyState&&2!==r.readyState&&f._setPosition(r.id,e,r.paused||!r.playState,r._iO.multiShot);r.isHTML5&&r.paused&&r._onTimer(!0);return r};this.pause=function(e){if(r.paused||0===r.playState&&1!==r.readyState)return r;r.paused=!0;r.isHTML5?(r._setup_html5().pause(),u()):(e||"undefined"==typeof e)&&f._pause(r.id,r._iO.multiShot);r._iO.onpause&&r._iO.onpause.apply(r);return r};this.resume=function(){var e=r._iO;if(!r.paused)return r;r.paused=!1;r.playState=1;r.isHTML5?(r._setup_html5().play(),l()):(e.isMovieStar&&!e.serverURL&&r.setPosition(r.position),f._pause(r.id,e.multiShot));!h&&e.onplay?(e.onplay.apply(r),h=!0):e.onresume&&e.onresume.apply(r);return r};this.togglePause=function(){if(0===r.playState)return r.play({position:9===y&&!r.isHTML5?r.position:r.position/1e3}),r;r.paused?r.resume():r.pause();return r};this.setPan=function(e,t){"undefined"==typeof e&&(e=0);"undefined"==typeof t&&(t=!1);r.isHTML5||f._setPan(r.id,e);r._iO.pan=e;t||(r.pan=e,r.options.pan=e);return r};this.setVolume=function(e,t){"undefined"==typeof e&&(e=100);"undefined"==typeof t&&(t=!1);r.isHTML5?r._a&&(r._a.volume=Math.max(0,Math.min(1,e/100))):f._setVolume(r.id,a.muted&&!r.muted||r.muted?0:e);r._iO.volume=e;t||(r.volume=e,r.options.volume=e);return r};this.mute=function(){r.muted=!0;r.isHTML5?r._a&&(r._a.muted=!0):f._setVolume(r.id,0);return r};this.unmute=function(){r.muted=!1;var e="undefined"!=typeof r._iO.volume;r.isHTML5?r._a&&(r._a.muted=!1):f._setVolume(r.id,e?r._iO.volume:r.options.volume);return r};this.toggleMute=function(){return r.muted?r.unmute():r.mute()};this.onposition=this.onPosition=function(e,t,n){p.push({position:parseInt(e,10),method:t,scope:"undefined"!=typeof n?n:r,fired:!1});return r};this.clearOnPosition=function(e,t){var n,e=parseInt(e,10);if(isNaN(e))return!1;for(n=0;n<p.length;n++)e===p[n].position&&(!t||t===p[n].method)&&(p[n].fired&&d--,p.splice(n,1))};this._processOnPosition=function(){var e,t;e=p.length;if(!e||!r.playState||d>=e)return!1;for(e-=1;0<=e;e--)if(t=p[e],!t.fired&&r.position>=t.position)t.fired=!0,d++,t.method.apply(t.scope,[t.position]);return!0};this._resetOnPosition=function(e){var t,n;t=p.length;if(!t)return!1;for(t-=1;0<=t;t--)if(n=p[t],n.fired&&e<=n.position)n.fired=!1,d--;return!0};m=function(){var e=r._iO,t=e.from,n=e.to,i,s;s=function(){r.clearOnPosition(n,s);r.stop()};i=function(){null!==n&&!isNaN(n)&&r.onPosition(n,s)};null!==t&&!isNaN(t)&&(e.position=t,e.multiShot=!1,i());return e};c=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.onPosition(parseInt(e,10),t[e])};v=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.clearOnPosition(parseInt(e,10))};l=function(){r.isHTML5&&st(r)};u=function(){r.isHTML5&&ot(r)};i=function(e){e||(p=[],d=0);h=!1;r._hasTimer=null;r._a=null;r._html5_canplay=!1;r.bytesLoaded=null;r.bytesTotal=null;r.duration=r._iO&&r._iO.duration?r._iO.duration:null;r.durationEstimate=null;r.buffered=[];r.eqData=[];r.eqData.left=[];r.eqData.right=[];r.failures=0;r.isBuffering=!1;r.instanceOptions={};r.instanceCount=0;r.loaded=!1;r.metadata={};r.readyState=0;r.muted=!1;r.paused=!1;r.peakData={left:0,right:0};r.waveformData={left:[],right:[]};r.playState=0;r.position=null;r.id3={}};i();this._onTimer=function(e){var i,s=!1,o={};if(r._hasTimer||e){if(r._a&&(e||(0<r.playState||1===r.readyState)&&!r.paused)){i=r._get_html5_duration();i!==t&&(t=i,r.duration=i,s=!0);r.durationEstimate=r.duration;i=1e3*r._a.currentTime||0;i!==n&&(n=i,s=!0);(s||e)&&r._whileplaying(i,o,o,o,o)}return s}};this._get_html5_duration=function(){var e=r._iO;return(e=r._a&&r._a.duration?1e3*r._a.duration:e&&e.duration?e.duration:null)&&!isNaN(e)&&Infinity!==e?e:null};this._apply_loop=function(e,t){e.loop=1<t?"loop":""};this._setup_html5=function(e){var e=C(r._iO,e),t=decodeURI,n=Et?a._global_a:r._a,o=t(e.url),u=n&&n._t?n._t.instanceOptions:null,f;if(n){if(n._t){!Et&&o===t(g)?f=n:Et&&u.url===e.url&&(!g||g===u.url)&&(f=n);if(f)return r._apply_loop(n,e.loops),f}Et&&n._t&&n._t.playState&&e.url!==u.url&&n._t.stop();i(u&&u.url?e.url===u.url:g?g===e.url:!1
);n.src=e.url;g=r.url=e.url;n._called_load=!1}else if(r._a=e.autoLoad||e.autoPlay?new Audio(e.url):Mt&&10>opera.version()?new Audio(null):new Audio,n=r._a,n._called_load=!1,Et)a._global_a=n;r.isHTML5=!0;r._a=n;n._t=r;s();r._apply_loop(n,e.loops);e.autoLoad||e.autoPlay?r.load():(n.autobuffer=!1,n.preload="auto");return n};s=function(){if(r._a._added_events)return!1;var e;r._a._added_events=!0;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.addEventListener(e,Nt[e],!1);return!0};o=function(){var e;r._a._added_events=!1;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.removeEventListener(e,Nt[e],!1)};this._onload=function(e){e=!!e||!r.isHTML5&&8===y&&r.duration;r.loaded=e;r.readyState=e?3:2;r._onbufferchange(0);r._iO.onload&&r._iO.onload.apply(r,[e]);return!0};this._onbufferchange=function(e){if(0===r.playState||e&&r.isBuffering||!e&&!r.isBuffering)return!1;r.isBuffering=1===e;r._iO.onbufferchange&&r._iO.onbufferchange.apply(r);return!0};this._onsuspend=function(){r._iO.onsuspend&&r._iO.onsuspend.apply(r);return!0};this._onfailure=function(e,t,n){r.failures++;r._iO.onfailure&&1===r.failures&&r._iO.onfailure(r,e,t,n)};this._onfinish=function(){var e=r._iO.onfinish;r._onbufferchange(0);r._resetOnPosition(0);if(r.instanceCount){r.instanceCount--;!r.instanceCount&&(v(),r.playState=0,r.paused=!1,r.instanceCount=0,r.instanceOptions={},r._iO={},u(),r.isHTML5)&&(r.position=0);(!r.instanceCount||r._iO.multiShotEvents)&&e&&e.apply(r)}};this._whileloading=function(e,t,n,i){var s=r._iO;r.bytesLoaded=e;r.bytesTotal=t;r.duration=Math.floor(n);r.bufferLength=i;r.durationEstimate=!r.isHTML5&&!s.isMovieStar?s.duration?r.duration>s.duration?r.duration:s.duration:parseInt(r.bytesTotal/r.bytesLoaded*r.duration,10):r.duration;r.isHTML5||(r.buffered=[{start:0,end:r.duration}]);(3!==r.readyState||r.isHTML5)&&s.whileloading&&s.whileloading.apply(r)};this._whileplaying=function(e,t,n,i,s){var o=r._iO;if(isNaN(e)||null===e)return!1;r.position=Math.max(0,e);r._processOnPosition();if(!r.isHTML5&&8<y){o.usePeakData&&"undefined"!=typeof t&&t&&(r.peakData={left:t.leftPeak,right:t.rightPeak});o.useWaveformData&&"undefined"!=typeof n&&n&&(r.waveformData={left:n.split(","),right:i.split(",")});o.useEQData&&"undefined"!=typeof s&&s&&s.leftEQ&&(e=s.leftEQ.split(","),r.eqData=e,r.eqData.left=e,"undefined"!=typeof s.rightEQ&&s.rightEQ)&&(r.eqData.right=s.rightEQ.split(","))}1===r.playState&&(!r.isHTML5&&8===y&&!r.position&&r.isBuffering&&r._onbufferchange(0),o.whileplaying&&o.whileplaying.apply(r));return!0};this._oncaptiondata=function(e){r.captiondata=e;r._iO.oncaptiondata&&r._iO.oncaptiondata.apply(r,[e])};this._onmetadata=function(e,t){var n={},i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.metadata=n;r._iO.onmetadata&&r._iO.onmetadata.apply(r)};this._onid3=function(e,t){var n=[],i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.id3=C(r.id3,n);r._iO.onid3&&r._iO.onid3.apply(r)};this._onconnect=function(e){e=1===e;if(r.connected=e)r.failures=0,nt(r.id)&&(r.getAutoPlay()?r.play(void 0,r.getAutoPlay()):r._iO.autoLoad&&r.load()),r._iO.onconnect&&r._iO.onconnect.apply(r,[e])};this._ondataerror=function(){0<r.playState&&r._iO.ondataerror&&r._iO.ondataerror.apply(r)}};q=function(){return d.body||d._docElement||d.getElementsByTagName("div")[0]};l=function(e){return d.getElementById(e)};C=function(e,t){var n=e||{},r,i;r="undefined"==typeof t?a.defaultOptions:t;for(i in r)r.hasOwnProperty(i)&&"undefined"==typeof n[i]&&(n[i]="object"!=typeof r[i]||null===r[i]?r[i]:C(n[i],r[i]));return n};L={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};k=function(e,t){var n,r=!0,i="undefined"!=typeof t,s=a.setupOptions;for(n in e)if(e.hasOwnProperty(n))if("object"!=typeof e[n]||null===e[n]||e[n]instanceof Array)i&&"undefined"!=typeof L[t]?a[t][n]=e[n]:"undefined"!=typeof s[n]?(a.setupOptions[n]=e[n],a[n]=e[n]):"undefined"==typeof L[n]?(tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1):a[n]instanceof Function?a[n].apply(a,e[n]instanceof Array?e[n]:[e[n]]):a[n]=e[n];else{if("undefined"!=typeof L[n])return k(e[n],n);tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1}return r};bt=function(){function e(e){var e=wt.call(e),t=e.length;n?(e[1]="on"+e[1],3<t&&e.pop()):3===t&&e.push(!1);return e}function t(e,t){var i=e.shift(),s=[r[t]];n?i[s](e[0],e[1]):i[s].apply(i,e)}var n=h.attachEvent,r={add:n?"attachEvent":"addEventListener",remove:n?"detachEvent":"removeEventListener"};return{add:function(){t(e(arguments),"add")},remove:function(){t(e(arguments),"remove")}}}();Nt={abort:i(function(){}),canplay:i(function(){var e=this._t,t;if(e._html5_canplay)return!0;e._html5_canplay=!0;e._onbufferchange(0);t="undefined"!=typeof e._iO.position&&!isNaN(e._iO.position)?e._iO.position/1e3:null;if(e.position&&this.currentTime!==t)try{this.currentTime=t}catch(n){}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:i(function(){var e=this._t;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),ended:i(function(){this._t._onfinish()}),error:i(function(){this._t._onload(!1)}),loadeddata:i(function(){var e=this._t;!e._loaded&&!Ot&&(e.duration=e._get_html5_duration())}),loadedmetadata:i(function(){}),loadstart:i(function(){this._t._onbufferchange(1)}),play:i(function(){this._t._onbufferchange(0)}),playing:i(function(){this._t._onbufferchange(0)}),progress:i(function(e){var t=this._t,n,r,i=0,i=e.target.buffered;n=e.loaded||0;var s=e.total||1;t.buffered=[];if(i&&i.length){for(n=0,r=i.length;n<r;n++)t.buffered.push({start:1e3*i.start(n),end:1e3*i.end(n)});i=1e3*(i.end(0)-i.start(0));n=i/(1e3*e.target.duration)}isNaN(n)||(t._onbufferchange(0),t._whileloading(n,s,t._get_html5_duration()),n&&s&&n===s&&Nt.canplaythrough.call(this,e))}),ratechange:i(function(){}),suspend:i(function(e){var t=this._t;Nt.progress.call(this,e);t._onsuspend()}),stalled:i(function(){}),timeupdate:i(function(){this._t._onTimer()}),waiting:i(function(){this._t._onbufferchange(1)})};pt=function(e){return e.serverURL||e.type&&r(e.type)?!1:e.type?dt({type:e.type}):dt({url:e.url})||a.html5Only};mt=function(e,t){e&&(e.src=t)};dt=function(e){if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t=e.url||null,e=e.type||null,n=a.audioFormats,i;if(e&&"undefined"!=typeof a.html5[e])return a.html5[e]&&!r(e);if(!vt){vt=[];for(i in n)n.hasOwnProperty(i)&&(vt.push(i),n[i].related&&(vt=vt.concat(n[i].related)));vt=RegExp("\\.("+vt.join("|")+")(\\?.*)?$","i")}i=t?t.toLowerCase().match(vt):null;!i||!i.length?e&&(t=e.indexOf(";"),i=(-1!==t?e.substr(0,t):e).substr(6)):i=i[1];i&&"undefined"!=typeof a.html5[i]?t=a.html5[i]&&!r(i):(e="audio/"+i,t=a.html5.canPlayType({type:e}),t=(a.html5[i]=t)&&a.html5[e]&&!r(e));return t};yt=function(){function e(e){var n,r,i=n=!1;if(!t||"function"!=typeof t.canPlayType)return n;if(e instanceof Array){for(n=0,r=e.length;n<r;n++)if(a.html5[e[n]]||t.canPlayType(e[n]).match(a.html5Test))i=!0,a.html5[e[n]]=!0,a.flash[e[n]]=!!e[n].match(jt);n=i}else e=t&&"function"==typeof t.canPlayType?t.canPlayType(e):!1,n=!!e&&!!e.match(a.html5Test);return n}if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t="undefined"!=typeof Audio?Mt&&10>opera.version()?new Audio(null):new Audio:null,n,r,i={},s;s=a.audioFormats;for(n in s)if(s.hasOwnProperty(n)&&(r="audio/"+n,i[n]=e(s[n].type),i[r]=i[n],n.match(jt)?(a.flash[n]=!0,a.flash[r]=!0):(a.flash[n]=!1,a.flash[r]=!1),s[n]&&s[n].related))for(r=s[n].related.length-1;0<=r;r--)i["audio/"+s[n].related[r]]=i[n],a.html5[s[n].related[r]]=i[n],a.flash[s[n].related[r]]=i[n];i.canPlayType=t?e:null;a.html5=C(a.html5,i);return!0};Q=function(){};Z=function(e){8===y&&1<e.loops&&e.stream&&(e.stream=!1);return e};et=function(e){e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(e.usePolicyFile=!0);return e};tt=function(){};v=function(){return!1};X=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=v)};V=function(e){"undefined"==typeof e&&(e=!1);(x||e)&&a.disable(e)};$=function(e){var t=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");e=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+a.movieURL;a.noSWFCache&&(e+="?ts="+(new Date).getTime());return e};P=function(){y=parseInt(a.flashVersion,10);8!==y&&9!==y&&(a.flashVersion=y=8);var e=a.debugMode||a.debugFlash?"_debug.swf":".swf";a.useHTML5Audio&&!a.html5Only&&a.audioFormats.mp4.required&&9>y&&(a.flashVersion=y=9);a.version=a.versionNumber+(a.html5Only?" (HTML5-only mode)":9===y?" (AS3/Flash 9)":" (AS2/Flash 8)");8<y?(a.defaultOptions=C(a.defaultOptions,a.flash9Options),a.features.buffering=!0,a.defaultOptions=C(a.defaultOptions,a.movieStarOptions),a.filePatterns.flash9=RegExp("\\.(mp3|"+Rt.join("|")+")(\\?.*)?$","i"),a.features.movieStar=!0):a.features.movieStar=!1;a.filePattern=a.filePatterns[8!==y?"flash9":"flash8"];a.movieURL=(8===y?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e);a.features.peakData=a.features.waveformData=a.features.eqData=8<y};z=function(e,t){if(!f)return!1;f._setPolling(e,t)};W=function(){a.debugURLParam.test(p)&&(a.debugMode=!0)};nt=this.getSoundById;Y=function(){var e=[];a.debugMode&&e.push("sm2_debug");a.debugFlash&&e.push("flash_debug");a.useHighPerformance&&e.push("high_performance");return e.join(" ")};G=function(){Q("fbHandler");var e=a.getMoviePercent(),t={type:"FLASHBLOCK"};if(a.html5Only)return!1;if(a.ok())a.oMC&&(a.oMC.className=[Y(),"movieContainer","swf_loaded"+(a.didFlashBlock?" swf_unblocked":"")].join(" "));else{ct&&(a.oMC.className=Y()+" movieContainer "+(null===e?"swf_timedout":"swf_error"));a.didFlashBlock=!0;O({type:"ontimeout",ignoreInit:!0,error:t});U(t)}};A=function(e,t,n){"undefined"==typeof b[e]&&(b[e]=[]);b[e].push({method:t,scope:n||null,fired:!1})};O=function(e){e||(e={type:a.ok()?"onready":"ontimeout"});if(!S&&e&&!e.ignoreInit||"ontimeout"===e.type&&(a.ok()||x&&!e.ignoreInit))return!1;var t={success:e&&e.ignoreInit?a.ok():!x},n=e&&e.type?b[e.type]||[]:[],r=[],i,t=[t],s=ct&&a.useFlashBlock&&!a.ok();e.error&&(t[0].error=e.error);for(e=0,i=n.length;e<i;e++)!0!==n[e].fired&&r.push(n[e]);if(r.length)for(e=0,i=r.length;e<i;e++)if(r[e].scope?r[e].method.apply(r[e].scope,t):r[e].method.apply(this,t),!s)r[e].fired=!0;return!0};M=function(){h.setTimeout(function(){a.useFlashBlock&&G();O();"function"==typeof a.onload&&a.onload.apply(h);a.waitForWindowLoad&&bt.add(h,"load",M)},1)};xt=function(){if("undefined"!=typeof St)return St;var e=!1,t=navigator,n=t.plugins,r,i=h.ActiveXObject;if(n&&n.length)(t=t.mimeTypes)&&t["application/x-shockwave-flash"]&&t["application/x-shockwave-flash"].enabledPlugin&&t["application/x-shockwave-flash"].enabledPlugin.description&&(e=!0);else if("undefined"!=typeof i){try{r=new i("ShockwaveFlash.ShockwaveFlash")}catch(s){}e=!!r}return St=e};ht=function(){var e,t,n=a.audioFormats;if(kt&&c.match(/os (1|2|3_0|3_1)/i)){if(a.hasHTML5=!1,a.html5Only=!0,a.oMC)a.oMC.style.display="none"}else a.useHTML5Audio&&(!a.html5||!a.html5.canPlayType)&&(a.hasHTML5=!1);if(a.useHTML5Audio&&a.hasHTML5)for(t in n)n.hasOwnProperty(t)&&(n[t].required&&!a.html5.canPlayType(n[t].type)||a.preferFlash&&(a.flash[t]||a.flash[n[t].type]))&&(e=!0);a.ignoreFlash&&(e=!1);a.html5Only=a.hasHTML5&&a.useHTML5Audio&&!e;return!a.html5Only};lt=function(e){var t,n,r=0;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(a.canPlayMIME(e[t].type)){r=t;break}}else if(a.canPlayURL(e[t])){r=t;break}e[r].url&&(e[r]=e[r].url);e=e[r]}return e};st=function(e){e._hasTimer||(e._hasTimer=!0,!_t&&a.html5PollingInterval&&(null===ft&&0===at&&(ft=h.setInterval(ut,a.html5PollingInterval)),at++))};ot=function(e){e._hasTimer&&(e._hasTimer=!1,!_t&&a.html5PollingInterval&&at--)};ut=function(){var e;if(null!==ft&&!at)return h.clearInterval(ft),ft=null,!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].isHTML5&&a.sounds[a.soundIDs[e]]._hasTimer&&a.sounds[a.soundIDs[e]]._onTimer()};U=function(e){e="undefined"!=typeof e?e:{};"function"==typeof a.onerror&&a.onerror.apply(h,[{type:"undefined"!=typeof e.type?e.type:null}]);"undefined"!=typeof e.fatal&&e.fatal&&a.disable()};Tt=function(){if(!Dt||!xt())return!1;var e=a.audioFormats,t,n;for(n in e)if(e.hasOwnProperty(n)&&("mp3"===n||"mp4"===n))if(a.html5[n]=!1,e[n]&&e[n].related)for(t=e[n].related.length-1;0<=t;t--)a.html5[e[n].related[t]]=!1};this._setSandboxType=function(){};this._externalInterfaceOK=function(){if(a.swfLoaded)return!1;(new Date).getTime();a.swfLoaded=!0;Ht=!1;Dt&&Tt();setTimeout(g,Lt?100:1)};R=function(e,t){function n(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(w&&E)return!1;if(a.html5Only)return P(),a.oMC=l(a.movieID),g(),E=w=!0,!1;var r=t||a.url,i=a.altURL||r,s=q(),o=Y(),u=null,u=d.getElementsByTagName("html")[0],f,h,p,u=u&&u.dir&&u.dir.match(/rtl/i),e="undefined"==typeof e?a.id:e;P();a.url=$(Ft?r:i);t=a.url;a.wmode=!a.wmode&&a.useHighPerformance?"transparent":a.wmode;null!==a.wmode&&(c.match(/msie 8/i)||!Lt&&!a.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(a.wmode=null);s={name:e,id:e,src:t,quality:"high",allowScriptAccess:a.allowScriptAccess,bgcolor:a.bgColor,pluginspage:It+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:a.wmode,hasPriority:"true"};a.debugFlash&&(s.FlashVars="debug=1");a.wmode||delete s.wmode;if(Lt)r=d.createElement("div"),h=['<object id="'+e+'" data="'+t+'" type="'+s.type+'" title="'+s.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+It+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',n("movie",t),n("AllowScriptAccess",a.allowScriptAccess),n("quality",s.quality),a.wmode?n("wmode",a.wmode):"",n("bgcolor",a.bgColor),n("hasPriority","true"),a.debugFlash?n("FlashVars",s.FlashVars):"","</object>"].join("");else for(f in r=d.createElement("embed"),s)s.hasOwnProperty(f)&&r.setAttribute(f,s[f]);W();o=Y();if(s=q())if(a.oMC=l(a.movieID)||d.createElement("div"),a.oMC.id){p=a.oMC.className;a.oMC.className=(p?p+" ":"movieContainer")+(o?" "+o:"");a.oMC.appendChild(r);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}else{a.oMC.id=a.movieID;a.oMC.className="movieContainer "+o;f=o=null;if(!a.useFlashBlock)if(a.useHighPerformance)o={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"};else if(o={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},u)o.left=Math.abs(parseInt(o.left,10))+"px";At&&(a.oMC.style.zIndex=1e4);if(!a.debugFlash)for(p in o)o.hasOwnProperty(p)&&(a.oMC.style[p]=o[p]);try{Lt||a.oMC.appendChild(r);s.appendChild(a.oMC);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}catch(v){throw Error(Q("domError")+" \n"+v.toString())}}return w=!0};B=function(){if(a.html5Only)return R(),!1;if(f||!a.url)return!1;f=a.getMovie(a.id);f||(J?(Lt?a.oMC.innerHTML=K:a.oMC.appendChild(J),J=null,w=!0):R(a.id,a.url),f=a.getMovie(a.id));"function"==typeof a.oninitmovie&&setTimeout(a.oninitmovie,1);return!0};_=function(){setTimeout(D,1e3)};D=function(){var e,t=!1;if(!a.url||rt)return!1;rt=!0;bt.remove(h,"load",_);if(Ht&&!Pt)return!1;S||(e=a.getMoviePercent(),0<e&&100>e&&(t=!0));setTimeout(function(){e=a.getMoviePercent();if(t)return rt=!1,h.setTimeout(_,1),!1;!S&&Bt&&(null===e?a.useFlashBlock||0===a.flashLoadTimeout?a.useFlashBlock&&G():V(!0):0!==a.flashLoadTimeout&&V(!0))},a.flashLoadTimeout)};H=function(){if(Pt||!Ht)return bt.remove(h,"focus",H),!0;Pt=Bt=!0;rt=!1;_();bt.remove(h,"focus",H);return!0};Ct=function(){};N=function(e){if(S)return!1;if(a.html5Only)return S=!0,M(),!0;var t=!0,n;if(!a.useFlashBlock||!a.flashLoadTimeout||a.getMoviePercent())S=!0,x&&(n={type:!St&&ct?"NO_FLASH":"INIT_TIMEOUT"});if(x||e){a.useFlashBlock&&a.oMC&&(a.oMC.className=Y()+" "+(null===a.getMoviePercent()?"swf_timedout":"swf_error"));O({type:"ontimeout",error:n,ignoreInit:!0});U(n);t=!1}x||(a.waitForWindowLoad&&!T?bt.add(h,"load",M):M());return t};m=function(){var e,t=a.setupOptions;for(e in t)t.hasOwnProperty(e)&&("undefined"==typeof a[e]?a[e]=t[e]:a[e]!==t[e]&&(a.setupOptions[e]=a[e]))};g=function(){if(S)return!1;if(a.html5Only){S||(bt.remove(h,"load",a.beginDelayedInit),a.enabled=!0,N());return!0}B();try{f._externalInterfaceTest(!1),z(!0,a.flashPollingInterval||(a.useHighPerformance?10:50)),a.debugMode||f._disableDebug(),a.enabled=!0,a.html5Only||bt.add(h,"unload",v)}catch(e){return U({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),V(!0),N(),!1}N();bt.remove(h,"load",a.beginDelayedInit);return!0};j=function(){if(I)return!1;I=!0;m();W();!St&&a.hasHTML5&&a.setup({useHTML5Audio:!0,preferFlash:!1});yt();a.html5.usingFlash=ht();ct=a.html5.usingFlash;Ct();!St&&ct&&a.setup({flashLoadTimeout:1});d.removeEventListener&&d.removeEventListener("DOMContentLoaded",j,!1);B();return!0};gt=function(){"complete"===d.readyState&&(j(),d.detachEvent("onreadystatechange",gt));return!0};F=function(){T=!0;bt.remove(h,"load",F)};xt();bt.add(h,"focus",H);bt.add(h,"load",_);bt.add(h,"load",F);d.addEventListener?d.addEventListener("DOMContentLoaded",j,!1):d.attachEvent?d.attachEvent("onreadystatechange",gt):U({type:"NO_DOM2_EVENTS",fatal:!0})}var n=null;if("undefined"==typeof SM2_DEFER||!SM2_DEFER)n=new t;e.SoundManager=t;e.soundManager=n})(window);__slice=[].slice;typeof soundManager!="undefined"&&soundManager.setup({url:"swf/",flashVersion:9,useFlashBlock:!1,useHighPerformance:!0,wmode:"transparent",useFastPolling:!0,debugFlash:!1,debugMode:!1});var SoundCloudPlayer=function(e,t){var n={loop:!1,start_on:0,autoplay:!1,autoswitch:!0,volume:100,toggle_pause:!0,cache:!0,preload:!1,debug:!1},r="http://api.soundcloud.com/resolve?url=http://soundcloud.com",i=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi),s=this,o=jQuery(this);this.tracks=[];this.config=jQuery.extend(n,t);this.current_track_index=this.config.start_on;this.current_track=null;this.sound=null;this.inited=!1;this.play_when_ready=!1;this.cache={};this.init=function(){if(s.inited)return;s.change_track();s.trigger("scplayer.init");s.config.autoplay&&s.play();s.inited=!0};this.change_track=function(e){s.log("change_track");if(s.sound){s.sound.destruct();s.sound=null}var t=typeof e!="undefined"?e:s.current_track_index;if(e!=s.current_track_index||!e){var n=s.tracks[t];s.resolve_track(n,s.set_sound);s.trigger("scplayer.changing_track",t)}return s};this.play=function(){s.log("play");s.sound&&s.sound.readyState==3?s.sound.play():s.play_when_ready=!0;s.trigger("scplayer.play",s.current_track_index);return s};this.pause=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.pause();s.trigger("scplayer.pause",s.sound.paused)}return s};this.resume=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.resume();s.trigger("scplayer.pause",s.sound.paused)}return s};this.stop=function(){s.sound&&s.sound.stop();s.trigger("scplayer.stop");s.log("stop");return s};this.next=function(e){s.log("next");s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;s.log(s.play_when_ready);if(s.tracks[s.current_track_index+1]){s.current_track_index++;s.change_track();s.trigger("scplayer.playlist.next",s.current_track_index-1,s.current_track_index);s.log("has next")}else if(s.config.loop){s.current_track_index=0;s.change_track();s.trigger("scplayer.playlist.looped");s.log("looped")}else{s.current_track_index=s.tracks.length-1;s.trigger("scplayer.playlist.ended");s.log("no mas")}return s};this.prev=function(e){s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;if(s.tracks[s.current_track_index-1]){s.current_track_index--;s.change_track();s.trigger("scplayer.playlist.prev")}else if(s.config.loop){s.current_track_index=s.tracks.length-1;s.change_track();s.trigger("scplayer.playlist.looped")}else{s.current_track_index=0;s.trigger("scplayer.playlist.restarted")}return s};this.goto=function(e,t){s.log("goto");s.play_when_ready=typeof t!="undefined"?t:s.config.autoswitch;if(s.tracks[e]){s.current_track_index=e;s.trigger("scplayer.playlist.goto");s.change_track()}return s};this.restart_track=function(){s.position(0);return s};this.mute=function(){s.sound&&s.sound.toggleMute();s.trigger("scplayer.mute",s.sound.muted);return s};this.has_next=function(){s.log("has next");return s.tracks[s.current_track_index+1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.has_prev=function(){return s.tracks[s.current_track_index-1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.get_time=function(){var e=this.position(),t=e%1e3,n=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),i=Math.floor(e/36e5%24),o=r+":"+s.pad(n);i>0&&(o=i+":"+o);return o};this.position=function(e){if(s.sound){if(e||e===0){e=Math.min(s.sound.duration,e);e=Math.max(0,e);s.trigger("scplayer.position",e);return s.sound.setPosition(e)}s.trigger("scplayer.position",s.sound.position);return s.sound.position}return 0};this.volume=function(e){if(s.sound){if(e||e===0){e=Math.min(100,e);e=Math.max(0,e);s.trigger("scplayer.volume",e);s.config.volume=e;return s.sound.setVolume(e)}s.trigger("scplayer.volume",s.sound.volume);return s.sound.volume}return s.config.volume};this.seek=function(e){var t=s.current_track.duration*e;s.position(t);return s};this.loop=function(e){if(e){s.config.loop=e;s.trigger("scplayer.loop_changed",s.config.loop)}return s.config.loop};this.track_info=function(e){s.isNumeric(e)&&(e=s.tracks[e]);return s.resolve_track(e)};this.on=function(e,t){return o.on(e,t)};this.trigger=function(e){var t=arguments.length>1?__slice.call(arguments,1):[];return o.trigger(e,t)};this.destroy=function(){s.sound&&s.sound.destruct();s.tracks=[];o.off();o.remove();s.tracks=null;s.track=null;s=null;delete s.tracks;delete s.track;delete s;delete this};s.get_track=function(){return s.current_track};s.get_track_index=function(){return s.current_track_index};s.get_sound=function(){return s.sound};s.get_playlist=function(){return s.tracks};s.set_cache=function(e,t){s.config.cache===!0&&(s.cache[e]=t)};s.get_cache=function(e){return s.config.cache===!0?s.cache[e]||null:null};s.set_sound=function(e){s.log("set_sound");s.trigger("scplayer.track.info_loaded",e);s.current_track=e;var t=e.stream_url;t+=t.indexOf("secret_token")==-1?"?":"&";t+="consumer_key="+s.config.consumer_key;s.sound=soundManager.createSound({autoLoad:!0,id:"track_"+e.id,multiShot:!1,loops:1,url:t,volume:s.config.volume,whileloading:function(){var e=Math.round(this.bytesLoaded/this.bytesTotal*100);s.trigger("scplayer.track.whileloading",e)},whileplaying:function(){var t=Math.round(this.position/e.duration*100*10)/10;s.trigger("scplayer.track.whileplaying",t)},onplay:function(){s.log("track.onplay");s.trigger("scplayer.track.played")},onresume:function(){s.trigger("scplayer.track.resumed")},onstop:function(){s.trigger("scplayer.track.stopped")},onpause:function(){s.trigger("scplayer.track.paused")},onfinish:function(){s.trigger("scplayer.track.finished")},onload:function(){s.log("onload");s.trigger("scplayer.track.ready",s.current_track_index,s.current_track)}});s.trigger("scplayer.track.bindable",e,s.sound)};s.resolve_track=function(e,t){var n=new jQuery.Deferred;if(e.match(i)&&e.search(/soundcloud\.com/i)===-1){var o={stream_url:e,id:0,permalink_url:e,duration:0};n.resolve(o)}e=e.replace(/https?\:\/\/soundcloud\.com/gi,"");if(s.config.cache===!0){var u=s.get_cache(e);if(u&&t){n.done(function(){t(u)}).resolve();return n}}n.done(function(n){if(n.tracks&&n.tracks.length>0){var r=s.parse_tracks(e,n.tracks);n=r[0]}else s.config.cache===!0&&s.set_cache(e,n);t&&t(n)});jQuery.ajax({url:r+e+"&format=json"+"&consumer_key="+s.config.consumer_key+"&callback=?",dataType:"jsonp",error:function(e,t,r){n.reject(e,t,r)},success:function(e){n.resolve(e)}});return n};s.preload_sc_tracks=function(e){var t=[];for(var n=0,r=s.tracks.length;n<r;n++){var i=s.tracks[n],o=s.resolve_track(i);t.push(o)}jQuery.when.apply(jQuery,t).then(function(){s.trigger("scplayer.playlist.preloaded");e&&e()},function(){s.log("promises failed to preload tracks")})};s.parse_tracks=function(e,t){var n=[],r=[],i=s.tracks.indexOf(e);for(var o=0,u=t.length;o<u;o++){var a=t[o],f=a.permalink_url.substring(21);s.config.cache===!0&&s.set_cache(f,a);n.push(a);r.push(f)}var l=[i,1].concat(r);s.tracks.splice.apply(s.tracks,l);return n};s.add_tracks=function(e){typeof e=="string"&&(e=[e]);if(e!=null&&e.length>0){s.tracks=s.tracks.concat(e);s.config.preload==1?s.preload_sc_tracks.call(s,s.init):s.init.call(s)}};s.log=function(){s.config.debug&&window.console&&console.log.apply(console,arguments)};s.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};s.pad=function(e){return(e<10?"0":"")+e};s.on("scplayer.track.ready",function(e){s.log("track.onready!!!");if(s.play_when_ready==1){s.play();s.play_when_ready=!1}});s.on("scplayer.track.finished",function(e){s.log("track finished");if(s.config.autoswitch&&(s.config.loop||s.has_next())){s.log("finished and autoswitch");s.next().play()}});s.on("scplayer.playlist.ended",function(e){s.log("playlist ended");s.config.loop||s.stop()});soundManager.onready(function(){s.log("SOUNDMANAGER2 ready!!");s.add_tracks(e)});soundManager.ontimeout(function(){window.console&&console.log("SOUNDMANAGER2 TIMEDOUT!!")});return{play:this.play,pause:this.pause,resume:this.resume,stop:this.stop,next:this.next,prev:this.prev,mute:this.mute,get_time:this.get_time,volume:this.volume,restart_track:this.restart_track,"goto":this.goto,position:this.position,seek:this.seek,track_info:this.track_info,has_next:this.has_next,has_prev:this.has_prev,on:this.on,trigger:this.trigger,track:this.get_track,track_index:this.get_track_index,sound:this.get_sound,playlist:this.get_playlist,destroy:this.destroy,add_tracks:this.add_tracks}};(function(e){function t(t,n){function r(e){return a.preferFlash&&St&&!a.ignoreFlash&&"undefined"!=typeof a.flash[e]&&a.flash[e]}function i(e){return function(t){var n=this._t;return!n||!n._a?null:e.call(this,t)}}this.setupOptions={url:t||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=n||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20120916";this.altURL=this.movieURL=this.version=null;this.enabled=this.swfLoaded=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.didFlashBlock=this.muted=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={};var s;try{s="undefined"!=typeof Audio&&"undefined"!=typeof (Mt&&10>opera.version()?new Audio(null):new Audio).canPlayType}catch(o){s=!1}this.hasHTML5=s;this.html5={usingFlash:null};this.flash={};this.ignoreFlash=this.html5Only=!1;var u,a=this,f=null,l,c=navigator.userAgent,h=e,p=h.location.href.toString(),d=document,v,m,g,y,b=[],w=!1,E=!1,S=!1,x=!1,T=!1,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J=null,K=null,Q,G,Y,Z,et,tt,nt,rt=!1,it=!1,st,ot,ut,at=0,ft=null,lt,ct=null,ht,pt,dt,vt,mt,gt,yt,bt,wt=Array.prototype.slice,Et=!1,St,xt,Tt,Nt,Ct,kt=c.match(/(ipad|iphone|ipod)/i),Lt=c.match(/msie/i),At=c.match(/webkit/i),Ot=c.match(/safari/i)&&!c.match(/chrome/i),Mt=c.match(/opera/i),_t=c.match(/(mobile|pre\/|xoom)/i)||kt,Dt=!p.match(/usehtml5audio/i)&&!p.match(/sm2\-ignorebadua/i)&&Ot&&!c.match(/silk/i)&&c.match(/OS X 10_6_([3-7])/i),Pt="undefined"!=typeof d.hasFocus?d.hasFocus():null,Ht=Ot&&("undefined"==typeof d.hasFocus||!d.hasFocus()),Bt=!Ht,jt=/(mp3|mp4|mpa|m4a|m4b)/i,Ft=d.location?d.location.protocol.match(/http/i):null,It=Ft?"":"http://",qt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Rt="mpeg4,aac,flv,mov,mp4,m4v,f4v,m4a,m4b,mp4v,3gp,3g2".split(","),Ut=RegExp("\\.("+Rt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!Ft;this._global_a=null;_t&&(a.useHTML5Audio=!0,a.preferFlash=!1,kt)&&(Et=a.ignoreFlash=!0);this.setup=function(e){var t=!a.url;"undefined"!=typeof e&&S&&ct&&a.ok()&&("undefined"!=typeof e.flashVersion||"undefined"!=typeof e.url)&&tt(Q("setupLate"));k(e);t&&I&&"undefined"!=typeof e.url&&a.beginDelayedInit();!I&&"undefined"!=typeof e.url&&"complete"===d.readyState&&setTimeout(j,1);return a};this.supported=this.ok=function(){return ct?S&&!x:a.useHTML5Audio&&a.hasHTML5};this.getMovie=function(e){return l(e)||d[e]||h[e]};this.createSound=function(e,t){function n(){r=Z(r);a.sounds[s.id]=new u(s);a.soundIDs.push(s.id);return a.sounds[s.id]}var r=null,i=null,s=null;if(!S||!a.ok())return tt(void 0),!1;"undefined"!=typeof t&&(e={id:e,url:t});r=C(e);r.url=lt(r.url);s=r;if(nt(s.id,!0))return a.sounds[s.id];if(pt(s))i=n(),i._setup_html5(s);else{8<y&&null===s.isMovieStar&&(s.isMovieStar=!!s.serverURL||!!(s.type&&s.type.match(qt)||s.url.match(Ut)));s=et(s,void 0);i=n();if(8===y)f._createSound(s.id,s.loops||1,s.usePolicyFile);else if(f._createSound(s.id,s.url,s.usePeakData,s.useWaveformData,s.useEQData,s.isMovieStar,s.isMovieStar?s.bufferTime:!1,s.loops||1,s.serverURL,s.duration||null,s.autoPlay,!0,s.autoLoad,s.usePolicyFile),!s.serverURL)i.connected=!0,s.onconnect&&s.onconnect.apply(i);!s.serverURL&&(s.autoLoad||s.autoPlay)&&i.load(s)}!s.serverURL&&s.autoPlay&&i.play();return i};this.destroySound=function(e,t){if(!nt(e))return!1;var n=a.sounds[e],r;n._iO={};n.stop();n.unload();for(r=0;r<a.soundIDs.length;r++)if(a.soundIDs[r]===e){a.soundIDs.splice(r,1);break}t||n.destruct(!0);delete a.sounds[e];return!0};this.load=function(e,t){return nt(e)?a.sounds[e].load(t):!1};this.unload=function(e){return nt(e)?a.sounds[e].unload():!1};this.onposition=this.onPosition=function(e,t,n,r){return nt(e)?a.sounds[e].onposition(t,n,r):!1};this.clearOnPosition=function(e,t,n){return nt(e)?a.sounds[e].clearOnPosition(t,n):!1};this.start=this.play=function(e,t){var n=!1;if(!S||!a.ok())return tt("soundManager.play(): "+Q(S?"notOK":"notReady")),n;if(!nt(e)){t instanceof Object||(t={url:t});t&&t.url&&(t.id=e,n=a.createSound(t).play());return n}return a.sounds[e].play(t)};this.setPosition=function(e,t){return nt(e)?a.sounds[e].setPosition(t):!1};this.stop=function(e){return nt(e)?a.sounds[e].stop():!1};this.stopAll=function(){for(var e in a.sounds)a.sounds.hasOwnProperty(e)&&a.sounds[e].stop()};this.pause=function(e){return nt(e)?a.sounds[e].pause():!1};this.pauseAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].pause()};this.resume=function(e){return nt(e)?a.sounds[e].resume():!1};this.resumeAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].resume()};this.togglePause=function(e){return nt(e)?a.sounds[e].togglePause():!1};this.setPan=function(e,t){return nt(e)?a.sounds[e].setPan(t):!1};this.setVolume=function(e,t){return nt(e)?a.sounds[e].setVolume(t):!1};this.mute=function(e){var t=0;"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].mute():!1;for(t=a.soundIDs.length-1;0<=t;t--)a.sounds[a.soundIDs[t]].mute();return a.muted=!0};this.muteAll=function(){a.mute()};this.unmute=function(e){"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].unmute():!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].unmute();a.muted=!1;return!0};this.unmuteAll=function(){a.unmute()};this.toggleMute=function(e){return nt(e)?a.sounds[e].toggleMute():!1};this.getMemoryUse=function(){var e=0;f&&8!==y&&(e=parseInt(f._getMemoryUse(),10));return e};this.disable=function(e){
var t;"undefined"==typeof e&&(e=!1);if(x)return!1;x=!0;for(t=a.soundIDs.length-1;0<=t;t--)X(a.sounds[a.soundIDs[t]]);N(e);bt.remove(h,"load",M);return!0};this.canPlayMIME=function(e){var t;a.hasHTML5&&(t=dt({type:e}));!t&&ct&&(t=e&&a.ok()?!!(8<y&&e.match(qt)||e.match(a.mimePattern)):null);return t};this.canPlayURL=function(e){var t;a.hasHTML5&&(t=dt({url:e}));!t&&ct&&(t=e&&a.ok()?!!e.match(a.filePattern):null);return t};this.canPlayLink=function(e){return"undefined"!=typeof e.type&&e.type&&a.canPlayMIME(e.type)?!0:a.canPlayURL(e.href)};this.getSoundById=function(e){if(!e)throw Error("soundManager.getSoundById(): sID is null/undefined");return a.sounds[e]};this.onready=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","onready");t||(t=h),A("onready",e,t),O();return!0};this.ontimeout=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","ontimeout");t||(t=h),A("ontimeout",e,t),O({type:"ontimeout"});return!0};this._wD=this._writeDebug=function(){return!0};this._debug=function(){};this.reboot=function(){var e,t;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].destruct();if(f)try{Lt&&(K=f.innerHTML);J=f.parentNode.removeChild(f)}catch(n){}K=J=ct=null;a.enabled=I=S=rt=it=w=E=x=a.swfLoaded=!1;a.soundIDs=[];a.sounds={};f=null;for(e in b)if(b.hasOwnProperty(e))for(t=b[e].length-1;0<=t;t--)b[e][t].fired=!1;h.setTimeout(a.beginDelayedInit,20)};this.getMoviePercent=function(){return f&&"undefined"!=typeof f.PercentLoaded?f.PercentLoaded():null};this.beginDelayedInit=function(){T=!0;j();setTimeout(function(){if(it)return!1;R();B();return it=!0},20);_()};this.destruct=function(){a.disable(!0)};u=function(e){var t,n,r=this,i,s,o,u,l,c,h=!1,p=[],d=0,v,m,g=null;t=null;n=null;this.sID=this.id=e.id;this.url=e.url;this._iO=this.instanceOptions=this.options=C(e);this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;this.id3={};this._debug=function(){};this.load=function(e){var t=null;if("undefined"!=typeof e)r._iO=C(e,r.options),r.instanceOptions=r._iO;else if(e=r.options,r._iO=e,r.instanceOptions=r._iO,g&&g!==r.url)r._iO.url=r.url,r.url=null;r._iO.url||(r._iO.url=r.url);r._iO.url=lt(r._iO.url);if(r._iO.url===r.url&&0!==r.readyState&&2!==r.readyState)return 3===r.readyState&&r._iO.onload&&r._iO.onload.apply(r,[!!r.duration]),r;e=r._iO;g=r.url&&r.url.toString?r.url.toString():null;r.loaded=!1;r.readyState=1;r.playState=0;r.id3={};if(pt(e)){if(t=r._setup_html5(e),!t._called_load){r._html5_canplay=!1;r._a.src!==e.url&&(r._a.src=e.url,r.setPosition(0));r._a.autobuffer="auto";r._a.preload="auto";t._called_load=!0;e.autoPlay&&r.play()}}else try{r.isHTML5=!1,r._iO=et(Z(e)),e=r._iO,8===y?f._load(r.id,e.url,e.stream,e.autoPlay,e.whileloading?1:0,e.loops||1,e.usePolicyFile):f._load(r.id,e.url,!!e.stream,!!e.autoPlay,e.loops||1,!!e.autoLoad,e.usePolicyFile)}catch(n){U({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}r.url=e.url;return r};this.unload=function(){if(0!==r.readyState){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a,"about:blank"),r.url="about:blank"}else 8===y?f._unload(r.id,"about:blank"):f._unload(r.id);i()}return r};this.destruct=function(e){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a),Et||o(),r._a._t=null,r._a=null}else r._iO.onfailure=null,f._destroySound(r.id);e||a.destroySound(r.id,!0)};this.start=this.play=function(e,t){var n,i;i=!0;i=null;t="undefined"==typeof t?!0:t;e||(e={});r.url&&(r._iO.url=r.url);r._iO=C(r._iO,r.options);r._iO=C(e,r._iO);r._iO.url=lt(r._iO.url);r.instanceOptions=r._iO;if(r._iO.serverURL&&!r.connected)return r.getAutoPlay()||r.setAutoPlay(!0),r;pt(r._iO)&&(r._setup_html5(r._iO),l());1===r.playState&&!r.paused&&((n=r._iO.multiShot)||(i=r));if(null!==i)return i;e.url&&e.url!==r.url&&r.load(r._iO);if(!r.loaded)if(0===r.readyState){r.isHTML5||(r._iO.autoPlay=!0);r.load(r._iO)}else 2===r.readyState&&(i=r);if(null!==i)return i;!r.isHTML5&&9===y&&0<r.position&&r.position===r.duration&&(e.position=0);if(r.paused&&0<=r.position&&(!r._iO.serverURL||0<r.position))r.resume();else{r._iO=C(e,r._iO);if(null!==r._iO.from&&null!==r._iO.to&&0===r.instanceCount&&0===r.playState&&!r._iO.serverURL){n=function(){r._iO=C(e,r._iO);r.play(r._iO)};r.isHTML5&&!r._html5_canplay?(r.load({_oncanplay:n}),i=!1):!r.isHTML5&&!r.loaded&&(!r.readyState||2!==r.readyState)&&(r.load({onload:n}),i=!1);if(null!==i)return i;r._iO=m()}(!r.instanceCount||r._iO.multiShotEvents||!r.isHTML5&&8<y&&!r.getAutoPlay())&&r.instanceCount++;r._iO.onposition&&0===r.playState&&c(r);r.playState=1;r.paused=!1;r.position="undefined"!=typeof r._iO.position&&!isNaN(r._iO.position)?r._iO.position:0;r.isHTML5||(r._iO=et(Z(r._iO)));r._iO.onplay&&t&&(r._iO.onplay.apply(r),h=!0);r.setVolume(r._iO.volume,!0);r.setPan(r._iO.pan,!0);r.isHTML5?(l(),i=r._setup_html5(),r.setPosition(r._iO.position),i.play()):(i=f._start(r.id,r._iO.loops||1,9===y?r._iO.position:r._iO.position/1e3,r._iO.multiShot),9===y&&!i&&r._iO.onplayerror&&r._iO.onplayerror.apply(r))}return r};this.stop=function(e){var t=r._iO;if(1===r.playState){r._onbufferchange(0);r._resetOnPosition(0);r.paused=!1;r.isHTML5||(r.playState=0);v();t.to&&r.clearOnPosition(t.to);r.isHTML5?r._a&&(e=r.position,r.setPosition(0),r.position=e,r._a.pause(),r.playState=0,r._onTimer(),u()):(f._stop(r.id,e),t.serverURL&&r.unload());r.instanceCount=0;r._iO={};t.onstop&&t.onstop.apply(r)}return r};this.setAutoPlay=function(e){r._iO.autoPlay=e;r.isHTML5||(f._setAutoPlay(r.id,e),e&&!r.instanceCount&&1===r.readyState&&r.instanceCount++)};this.getAutoPlay=function(){return r._iO.autoPlay};this.setPosition=function(e){"undefined"==typeof e&&(e=0);var t=r.isHTML5?Math.max(e,0):Math.min(r.duration||r._iO.duration,Math.max(e,0));r.position=t;e=r.position/1e3;r._resetOnPosition(r.position);r._iO.position=t;if(r.isHTML5){if(r._a&&r._html5_canplay&&r._a.currentTime!==e)try{r._a.currentTime=e,(0===r.playState||r.paused)&&r._a.pause()}catch(n){}}else e=9===y?r.position:e,r.readyState&&2!==r.readyState&&f._setPosition(r.id,e,r.paused||!r.playState,r._iO.multiShot);r.isHTML5&&r.paused&&r._onTimer(!0);return r};this.pause=function(e){if(r.paused||0===r.playState&&1!==r.readyState)return r;r.paused=!0;r.isHTML5?(r._setup_html5().pause(),u()):(e||"undefined"==typeof e)&&f._pause(r.id,r._iO.multiShot);r._iO.onpause&&r._iO.onpause.apply(r);return r};this.resume=function(){var e=r._iO;if(!r.paused)return r;r.paused=!1;r.playState=1;r.isHTML5?(r._setup_html5().play(),l()):(e.isMovieStar&&!e.serverURL&&r.setPosition(r.position),f._pause(r.id,e.multiShot));!h&&e.onplay?(e.onplay.apply(r),h=!0):e.onresume&&e.onresume.apply(r);return r};this.togglePause=function(){if(0===r.playState)return r.play({position:9===y&&!r.isHTML5?r.position:r.position/1e3}),r;r.paused?r.resume():r.pause();return r};this.setPan=function(e,t){"undefined"==typeof e&&(e=0);"undefined"==typeof t&&(t=!1);r.isHTML5||f._setPan(r.id,e);r._iO.pan=e;t||(r.pan=e,r.options.pan=e);return r};this.setVolume=function(e,t){"undefined"==typeof e&&(e=100);"undefined"==typeof t&&(t=!1);r.isHTML5?r._a&&(r._a.volume=Math.max(0,Math.min(1,e/100))):f._setVolume(r.id,a.muted&&!r.muted||r.muted?0:e);r._iO.volume=e;t||(r.volume=e,r.options.volume=e);return r};this.mute=function(){r.muted=!0;r.isHTML5?r._a&&(r._a.muted=!0):f._setVolume(r.id,0);return r};this.unmute=function(){r.muted=!1;var e="undefined"!=typeof r._iO.volume;r.isHTML5?r._a&&(r._a.muted=!1):f._setVolume(r.id,e?r._iO.volume:r.options.volume);return r};this.toggleMute=function(){return r.muted?r.unmute():r.mute()};this.onposition=this.onPosition=function(e,t,n){p.push({position:parseInt(e,10),method:t,scope:"undefined"!=typeof n?n:r,fired:!1});return r};this.clearOnPosition=function(e,t){var n,e=parseInt(e,10);if(isNaN(e))return!1;for(n=0;n<p.length;n++)e===p[n].position&&(!t||t===p[n].method)&&(p[n].fired&&d--,p.splice(n,1))};this._processOnPosition=function(){var e,t;e=p.length;if(!e||!r.playState||d>=e)return!1;for(e-=1;0<=e;e--)if(t=p[e],!t.fired&&r.position>=t.position)t.fired=!0,d++,t.method.apply(t.scope,[t.position]);return!0};this._resetOnPosition=function(e){var t,n;t=p.length;if(!t)return!1;for(t-=1;0<=t;t--)if(n=p[t],n.fired&&e<=n.position)n.fired=!1,d--;return!0};m=function(){var e=r._iO,t=e.from,n=e.to,i,s;s=function(){r.clearOnPosition(n,s);r.stop()};i=function(){null!==n&&!isNaN(n)&&r.onPosition(n,s)};null!==t&&!isNaN(t)&&(e.position=t,e.multiShot=!1,i());return e};c=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.onPosition(parseInt(e,10),t[e])};v=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.clearOnPosition(parseInt(e,10))};l=function(){r.isHTML5&&st(r)};u=function(){r.isHTML5&&ot(r)};i=function(e){e||(p=[],d=0);h=!1;r._hasTimer=null;r._a=null;r._html5_canplay=!1;r.bytesLoaded=null;r.bytesTotal=null;r.duration=r._iO&&r._iO.duration?r._iO.duration:null;r.durationEstimate=null;r.buffered=[];r.eqData=[];r.eqData.left=[];r.eqData.right=[];r.failures=0;r.isBuffering=!1;r.instanceOptions={};r.instanceCount=0;r.loaded=!1;r.metadata={};r.readyState=0;r.muted=!1;r.paused=!1;r.peakData={left:0,right:0};r.waveformData={left:[],right:[]};r.playState=0;r.position=null;r.id3={}};i();this._onTimer=function(e){var i,s=!1,o={};if(r._hasTimer||e){if(r._a&&(e||(0<r.playState||1===r.readyState)&&!r.paused)){i=r._get_html5_duration();i!==t&&(t=i,r.duration=i,s=!0);r.durationEstimate=r.duration;i=1e3*r._a.currentTime||0;i!==n&&(n=i,s=!0);(s||e)&&r._whileplaying(i,o,o,o,o)}return s}};this._get_html5_duration=function(){var e=r._iO;return(e=r._a&&r._a.duration?1e3*r._a.duration:e&&e.duration?e.duration:null)&&!isNaN(e)&&Infinity!==e?e:null};this._apply_loop=function(e,t){e.loop=1<t?"loop":""};this._setup_html5=function(e){var e=C(r._iO,e),t=decodeURI,n=Et?a._global_a:r._a,o=t(e.url),u=n&&n._t?n._t.instanceOptions:null,f;if(n){if(n._t){!Et&&o===t(g)?f=n:Et&&u.url===e.url&&(!g||g===u.url)&&(f=n);if(f)return r._apply_loop(n,e.loops),f}Et&&n._t&&n._t.playState&&e.url!==u.url&&n._t.stop();i(u&&u.url?e.url===u.url:g?g===e.url:!1);n.src=e.url;g=r.url=e.url;n._called_load=!1}else if(r._a=e.autoLoad||e.autoPlay?new Audio(e.url):Mt&&10>opera.version()?new Audio(null):new Audio,n=r._a,n._called_load=!1,Et)a._global_a=n;r.isHTML5=!0;r._a=n;n._t=r;s();r._apply_loop(n,e.loops);e.autoLoad||e.autoPlay?r.load():(n.autobuffer=!1,n.preload="auto");return n};s=function(){if(r._a._added_events)return!1;var e;r._a._added_events=!0;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.addEventListener(e,Nt[e],!1);return!0};o=function(){var e;r._a._added_events=!1;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.removeEventListener(e,Nt[e],!1)};this._onload=function(e){e=!!e||!r.isHTML5&&8===y&&r.duration;r.loaded=e;r.readyState=e?3:2;r._onbufferchange(0);r._iO.onload&&r._iO.onload.apply(r,[e]);return!0};this._onbufferchange=function(e){if(0===r.playState||e&&r.isBuffering||!e&&!r.isBuffering)return!1;r.isBuffering=1===e;r._iO.onbufferchange&&r._iO.onbufferchange.apply(r);return!0};this._onsuspend=function(){r._iO.onsuspend&&r._iO.onsuspend.apply(r);return!0};this._onfailure=function(e,t,n){r.failures++;r._iO.onfailure&&1===r.failures&&r._iO.onfailure(r,e,t,n)};this._onfinish=function(){var e=r._iO.onfinish;r._onbufferchange(0);r._resetOnPosition(0);if(r.instanceCount){r.instanceCount--;!r.instanceCount&&(v(),r.playState=0,r.paused=!1,r.instanceCount=0,r.instanceOptions={},r._iO={},u(),r.isHTML5)&&(r.position=0);(!r.instanceCount||r._iO.multiShotEvents)&&e&&e.apply(r)}};this._whileloading=function(e,t,n,i){var s=r._iO;r.bytesLoaded=e;r.bytesTotal=t;r.duration=Math.floor(n);r.bufferLength=i;r.durationEstimate=!r.isHTML5&&!s.isMovieStar?s.duration?r.duration>s.duration?r.duration:s.duration:parseInt(r.bytesTotal/r.bytesLoaded*r.duration,10):r.duration;r.isHTML5||(r.buffered=[{start:0,end:r.duration}]);(3!==r.readyState||r.isHTML5)&&s.whileloading&&s.whileloading.apply(r)};this._whileplaying=function(e,t,n,i,s){var o=r._iO;if(isNaN(e)||null===e)return!1;r.position=Math.max(0,e);r._processOnPosition();if(!r.isHTML5&&8<y){o.usePeakData&&"undefined"!=typeof t&&t&&(r.peakData={left:t.leftPeak,right:t.rightPeak});o.useWaveformData&&"undefined"!=typeof n&&n&&(r.waveformData={left:n.split(","),right:i.split(",")});o.useEQData&&"undefined"!=typeof s&&s&&s.leftEQ&&(e=s.leftEQ.split(","),r.eqData=e,r.eqData.left=e,"undefined"!=typeof s.rightEQ&&s.rightEQ)&&(r.eqData.right=s.rightEQ.split(","))}1===r.playState&&(!r.isHTML5&&8===y&&!r.position&&r.isBuffering&&r._onbufferchange(0),o.whileplaying&&o.whileplaying.apply(r));return!0};this._oncaptiondata=function(e){r.captiondata=e;r._iO.oncaptiondata&&r._iO.oncaptiondata.apply(r,[e])};this._onmetadata=function(e,t){var n={},i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.metadata=n;r._iO.onmetadata&&r._iO.onmetadata.apply(r)};this._onid3=function(e,t){var n=[],i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.id3=C(r.id3,n);r._iO.onid3&&r._iO.onid3.apply(r)};this._onconnect=function(e){e=1===e;if(r.connected=e)r.failures=0,nt(r.id)&&(r.getAutoPlay()?r.play(void 0,r.getAutoPlay()):r._iO.autoLoad&&r.load()),r._iO.onconnect&&r._iO.onconnect.apply(r,[e])};this._ondataerror=function(){0<r.playState&&r._iO.ondataerror&&r._iO.ondataerror.apply(r)}};q=function(){return d.body||d._docElement||d.getElementsByTagName("div")[0]};l=function(e){return d.getElementById(e)};C=function(e,t){var n=e||{},r,i;r="undefined"==typeof t?a.defaultOptions:t;for(i in r)r.hasOwnProperty(i)&&"undefined"==typeof n[i]&&(n[i]="object"!=typeof r[i]||null===r[i]?r[i]:C(n[i],r[i]));return n};L={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};k=function(e,t){var n,r=!0,i="undefined"!=typeof t,s=a.setupOptions;for(n in e)if(e.hasOwnProperty(n))if("object"!=typeof e[n]||null===e[n]||e[n]instanceof Array)i&&"undefined"!=typeof L[t]?a[t][n]=e[n]:"undefined"!=typeof s[n]?(a.setupOptions[n]=e[n],a[n]=e[n]):"undefined"==typeof L[n]?(tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1):a[n]instanceof Function?a[n].apply(a,e[n]instanceof Array?e[n]:[e[n]]):a[n]=e[n];else{if("undefined"!=typeof L[n])return k(e[n],n);tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1}return r};bt=function(){function e(e){var e=wt.call(e),t=e.length;n?(e[1]="on"+e[1],3<t&&e.pop()):3===t&&e.push(!1);return e}function t(e,t){var i=e.shift(),s=[r[t]];n?i[s](e[0],e[1]):i[s].apply(i,e)}var n=h.attachEvent,r={add:n?"attachEvent":"addEventListener",remove:n?"detachEvent":"removeEventListener"};return{add:function(){t(e(arguments),"add")},remove:function(){t(e(arguments),"remove")}}}();Nt={abort:i(function(){}),canplay:i(function(){var e=this._t,t;if(e._html5_canplay)return!0;e._html5_canplay=!0;e._onbufferchange(0);t="undefined"!=typeof e._iO.position&&!isNaN(e._iO.position)?e._iO.position/1e3:null;if(e.position&&this.currentTime!==t)try{this.currentTime=t}catch(n){}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:i(function(){var e=this._t;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),ended:i(function(){this._t._onfinish()}),error:i(function(){this._t._onload(!1)}),loadeddata:i(function(){var e=this._t;!e._loaded&&!Ot&&(e.duration=e._get_html5_duration())}),loadedmetadata:i(function(){}),loadstart:i(function(){this._t._onbufferchange(1)}),play:i(function(){this._t._onbufferchange(0)}),playing:i(function(){this._t._onbufferchange(0)}),progress:i(function(e){var t=this._t,n,r,i=0,i=e.target.buffered;n=e.loaded||0;var s=e.total||1;t.buffered=[];if(i&&i.length){for(n=0,r=i.length;n<r;n++)t.buffered.push({start:1e3*i.start(n),end:1e3*i.end(n)});i=1e3*(i.end(0)-i.start(0));n=i/(1e3*e.target.duration)}isNaN(n)||(t._onbufferchange(0),t._whileloading(n,s,t._get_html5_duration()),n&&s&&n===s&&Nt.canplaythrough.call(this,e))}),ratechange:i(function(){}),suspend:i(function(e){var t=this._t;Nt.progress.call(this,e);t._onsuspend()}),stalled:i(function(){}),timeupdate:i(function(){this._t._onTimer()}),waiting:i(function(){this._t._onbufferchange(1)})};pt=function(e){return e.serverURL||e.type&&r(e.type)?!1:e.type?dt({type:e.type}):dt({url:e.url})||a.html5Only};mt=function(e,t){e&&(e.src=t)};dt=function(e){if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t=e.url||null,e=e.type||null,n=a.audioFormats,i;if(e&&"undefined"!=typeof a.html5[e])return a.html5[e]&&!r(e);if(!vt){vt=[];for(i in n)n.hasOwnProperty(i)&&(vt.push(i),n[i].related&&(vt=vt.concat(n[i].related)));vt=RegExp("\\.("+vt.join("|")+")(\\?.*)?$","i")}i=t?t.toLowerCase().match(vt):null;!i||!i.length?e&&(t=e.indexOf(";"),i=(-1!==t?e.substr(0,t):e).substr(6)):i=i[1];i&&"undefined"!=typeof a.html5[i]?t=a.html5[i]&&!r(i):(e="audio/"+i,t=a.html5.canPlayType({type:e}),t=(a.html5[i]=t)&&a.html5[e]&&!r(e));return t};yt=function(){function e(e){var n,r,i=n=!1;if(!t||"function"!=typeof t.canPlayType)return n;if(e instanceof Array){for(n=0,r=e.length;n<r;n++)if(a.html5[e[n]]||t.canPlayType(e[n]).match(a.html5Test))i=!0,a.html5[e[n]]=!0,a.flash[e[n]]=!!e[n].match(jt);n=i}else e=t&&"function"==typeof t.canPlayType?t.canPlayType(e):!1,n=!!e&&!!e.match(a.html5Test);return n}if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t="undefined"!=typeof Audio?Mt&&10>opera.version()?new Audio(null):new Audio:null,n,r,i={},s;s=a.audioFormats;for(n in s)if(s.hasOwnProperty(n)&&(r="audio/"+n,i[n]=e(s[n].type),i[r]=i[n],n.match(jt)?(a.flash[n]=!0,a.flash[r]=!0):(a.flash[n]=!1,a.flash[r]=!1),s[n]&&s[n].related))for(r=s[n].related.length-1;0<=r;r--)i["audio/"+s[n].related[r]]=i[n],a.html5[s[n].related[r]]=i[n],a.flash[s[n].related[r]]=i[n];i.canPlayType=t?e:null;a.html5=C(a.html5,i);return!0};Q=function(){};Z=function(e){8===y&&1<e.loops&&e.stream&&(e.stream=!1);return e};et=function(e){e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(e.usePolicyFile=!0);return e};tt=function(){};v=function(){return!1};X=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=v)};V=function(e){"undefined"==typeof e&&(e=!1);(x||e)&&a.disable(e)};$=function(e){var t=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");e=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+a.movieURL;a.noSWFCache&&(e+="?ts="+(new Date).getTime());return e};P=function(){y=parseInt(a.flashVersion,10);8!==y&&9!==y&&(a.flashVersion=y=8);var e=a.debugMode||a.debugFlash?"_debug.swf":".swf";a.useHTML5Audio&&!a.html5Only&&a.audioFormats.mp4.required&&9>y&&(a.flashVersion=y=9);a.version=a.versionNumber+(a.html5Only?" (HTML5-only mode)":9===y?" (AS3/Flash 9)":" (AS2/Flash 8)");8<y?(a.defaultOptions=C(a.defaultOptions,a.flash9Options),a.features.buffering=!0,a.defaultOptions=C(a.defaultOptions,a.movieStarOptions),a.filePatterns.flash9=RegExp("\\.(mp3|"+Rt.join("|")+")(\\?.*)?$","i"),a.features.movieStar=!0):a.features.movieStar=!1;a.filePattern=a.filePatterns[8!==y?"flash9":"flash8"];a.movieURL=(8===y?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e);a.features.peakData=a.features.waveformData=a.features.eqData=8<y};z=function(e,t){if(!f)return!1;f._setPolling(e,t)};W=function(){a.debugURLParam.test(p)&&(a.debugMode=!0)};nt=this.getSoundById;Y=function(){var e=[];a.debugMode&&e.push("sm2_debug");a.debugFlash&&e.push("flash_debug");a.useHighPerformance&&e.push("high_performance");return e.join(" ")};G=function(){Q("fbHandler");var e=a.getMoviePercent(),t={type:"FLASHBLOCK"};if(a.html5Only)return!1;if(a.ok())a.oMC&&(a.oMC.className=[Y(),"movieContainer","swf_loaded"+(a.didFlashBlock?" swf_unblocked":"")].join(" "));else{ct&&(a.oMC.className=Y()+" movieContainer "+(null===e?"swf_timedout":"swf_error"));a.didFlashBlock=!0;O({type:"ontimeout",ignoreInit:!0,error:t});U(t)}};A=function(e,t,n){"undefined"==typeof b[e]&&(b[e]=[]);b[e].push({method:t,scope:n||null,fired:!1})};O=function(e){e||(e={type:a.ok()?"onready":"ontimeout"});if(!S&&e&&!e.ignoreInit||"ontimeout"===e.type&&(a.ok()||x&&!e.ignoreInit))return!1;var t={success:e&&e.ignoreInit?a.ok():!x},n=e&&e.type?b[e.type]||[]:[],r=[],i,t=[t],s=ct&&a.useFlashBlock&&!a.ok();e.error&&(t[0].error=e.error);for(e=0,i=n.length;e<i;e++)!0!==n[e].fired&&r.push(n[e]);if(r.length)for(e=0,i=r.length;e<i;e++)if(r[e].scope?r[e].method.apply(r[e].scope,t):r[e].method.apply(this,t),!s)r[e].fired=!0;return!0};M=function(){h.setTimeout(function(){a.useFlashBlock&&G();O();"function"==typeof a.onload&&a.onload.apply(h);a.waitForWindowLoad&&bt.add(h,"load",M)},1)};xt=function(){if("undefined"!=typeof St)return St;var e=!1,t=navigator,n=t.plugins,r,i=h.ActiveXObject;if(n&&n.length)(t=t.mimeTypes)&&t["application/x-shockwave-flash"]&&t["application/x-shockwave-flash"].enabledPlugin&&t["application/x-shockwave-flash"].enabledPlugin.description&&(e=!0);else if("undefined"!=typeof i){try{r=new i("ShockwaveFlash.ShockwaveFlash")}catch(s){}e=!!r}return St=e};ht=function(){var e,t,n=a.audioFormats;if(kt&&c.match(/os (1|2|3_0|3_1)/i)){if(a.hasHTML5=!1,a.html5Only=!0,a.oMC)a.oMC.style.display="none"}else a.useHTML5Audio&&(!a.html5||!a.html5.canPlayType)&&(a.hasHTML5=!1);if(a.useHTML5Audio&&a.hasHTML5)for(t in n)n.hasOwnProperty(t)&&(n[t].required&&!a.html5.canPlayType(n[t].type)||a.preferFlash&&(a.flash[t]||a.flash[n[t].type]))&&(e=!0);a.ignoreFlash&&(e=!1);a.html5Only=a.hasHTML5&&a.useHTML5Audio&&!e;return!a.html5Only};lt=function(e){var t,n,r=0;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(a.canPlayMIME(e[t].type)){r=t;break}}else if(a.canPlayURL(e[t])){r=t;break}e[r].url&&(e[r]=e[r].url);e=e[r]}return e};st=function(e){e._hasTimer||(e._hasTimer=!0,!_t&&a.html5PollingInterval&&(null===ft&&0===at&&(ft=h.setInterval(ut,a.html5PollingInterval)),at++))};ot=function(e){e._hasTimer&&(e._hasTimer=!1,!_t&&a.html5PollingInterval&&at--)};ut=function(){var e;if(null!==ft&&!at)return h.clearInterval(ft),ft=null,!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].isHTML5&&a.sounds[a.soundIDs[e]]._hasTimer&&a.sounds[a.soundIDs[e]]._onTimer()};U=function(e){e="undefined"!=typeof e?e:{};"function"==typeof a.onerror&&a.onerror.apply(h,[{type:"undefined"!=typeof e.type?e.type:null}]);"undefined"!=typeof e.fatal&&e.fatal&&a.disable()};Tt=function(){if(!Dt||!xt())return!1;var e=a.audioFormats,t,n;for(n in e)if(e.hasOwnProperty(n)&&("mp3"===n||"mp4"===n))if(a.html5[n]=!1,e[n]&&e[n].related)for(t=e[n].related.length-1;0<=t;t--)a.html5[e[n].related[t]]=!1};this._setSandboxType=function(){};this._externalInterfaceOK=function(){if(a.swfLoaded)return!1;(new Date).getTime();a.swfLoaded=!0;Ht=!1;Dt&&Tt();setTimeout(g,Lt?100:1)};R=function(e,t){function n(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(w&&E)return!1;if(a.html5Only)return P(),a.oMC=l(a.movieID),g(),E=w=!0,!1;var r=t||a.url,i=a.altURL||r,s=q(),o=Y(),u=null,u=d.getElementsByTagName("html")[0],f,h,p,u=u&&u.dir&&u.dir.match(/rtl/i),e="undefined"==typeof e?a.id:e;P();a.url=$(Ft?r:i);t=a.url;a.wmode=!a.wmode&&a.useHighPerformance?"transparent":a.wmode;null!==a.wmode&&(c.match(/msie 8/i)||!Lt&&!a.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(a.wmode=null);s={name:e,id:e,src:t,quality:"high",allowScriptAccess:a.allowScriptAccess,bgcolor:a.bgColor,pluginspage:It+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:a.wmode,hasPriority:"true"};a.debugFlash&&(s.FlashVars="debug=1");a.wmode||delete s.wmode;if(Lt)r=d.createElement("div"),h=['<object id="'+e+'" data="'+t+'" type="'+s.type+'" title="'+s.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+It+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',n("movie",t),n("AllowScriptAccess",a.allowScriptAccess),n("quality",s.quality),a.wmode?n("wmode",a.wmode):"",n("bgcolor",a.bgColor),n("hasPriority","true"),a.debugFlash?n("FlashVars",s.FlashVars):"","</object>"].join("");else for(f in r=d.createElement("embed"),s)s.hasOwnProperty(f)&&r.setAttribute(f,s[f]);W();o=Y();if(s=q())if(a.oMC=l(a.movieID)||d.createElement("div"),a.oMC.id){p=a.oMC.className;a.oMC.className=(p?p+" ":"movieContainer")+(o?" "+o:"");a.oMC.appendChild(r);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}else{a.oMC.id=a.movieID;a.oMC.className="movieContainer "+o;f=o=null;if(!a.useFlashBlock)if(a.useHighPerformance)o={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"};else if(o={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},u)o.left=Math.abs(parseInt(o.left,10))+"px";At&&(a.oMC.style.zIndex=1e4);if(!a.debugFlash)for(p in o)o.hasOwnProperty(p)&&(a.oMC.style[p]=o[p]);try{Lt||a.oMC.appendChild(r);s.appendChild(a.oMC);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}catch(v){throw Error(Q("domError")+" \n"+v.toString())}}return w=!0};B=function(){if(a.html5Only)return R(),!1;if(f||!a.url)return!1;f=a.getMovie(a.id);f||(J?(Lt?a.oMC.innerHTML=K:a.oMC.appendChild(J),J=null,w=!0):R(a.id,a.url),f=a.getMovie(a.id));"function"==typeof a.oninitmovie&&setTimeout(a.oninitmovie,1);return!0};_=function(){setTimeout(D,1e3)};D=function(){var e,t=!1;if(!a.url||rt)return!1;rt=!0;bt.remove(h,"load",_);if(Ht&&!Pt)return!1;S||(e=a.getMoviePercent(),0<e&&100>e&&(t=!0));setTimeout(function(){e=a.getMoviePercent();if(t)return rt=!1,h.setTimeout(_,1),!1;!S&&Bt&&(null===e?a.useFlashBlock||0===a.flashLoadTimeout?a.useFlashBlock&&G():V(!0):0!==a.flashLoadTimeout&&V(!0))},a.flashLoadTimeout)};H=function(){if(Pt||!Ht)return bt.remove(h,"focus",H),!0;Pt=Bt=!0;rt=!1;_();bt.remove(h,"focus",H);return!0};Ct=function(){};N=function(e){if(S)return!1;if(a.html5Only)return S=!0,M(),!0;var t=!0,n;if(!a.useFlashBlock||!a.flashLoadTimeout||a.getMoviePercent())S=!0,x&&(n={type:!St&&ct?"NO_FLASH":"INIT_TIMEOUT"});if(x||e){a.useFlashBlock&&a.oMC&&(a.oMC.className=Y()+" "+(null===a.getMoviePercent()?"swf_timedout":"swf_error"));O({type:"ontimeout",error:n,ignoreInit:!0});U(n);t=!1}x||(a.waitForWindowLoad&&!T?bt.add(h,"load",M):M());return t};m=function(){var e,t=a.setupOptions;for(e in t)t.hasOwnProperty(e)&&("undefined"==typeof a[e]?a[e]=t[e]:a[e]!==t[e]&&(a.setupOptions[e]=a[e]))};g=function(){if(S)return!1;if(a.html5Only){S||(bt.remove(h,"load",a.beginDelayedInit),a.enabled=!0,N());return!0}B();try{f._externalInterfaceTest(!1),z(!0,a.flashPollingInterval||(a.useHighPerformance?10:50)),a.debugMode||f._disableDebug(),a.enabled=!0,a.html5Only||bt.add(h,"unload",v)}catch(e){return U({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),V(!0),N(),!1}N();bt.remove(h,"load",a.beginDelayedInit);return!0};j=function(){if(I)return!1;I=!0;m();W();!St&&a.hasHTML5&&a.setup({useHTML5Audio:!0,preferFlash:!1});yt();a.html5.usingFlash=ht();ct=a.html5.usingFlash;Ct();!St&&ct&&a.setup({flashLoadTimeout:1});d.removeEventListener&&d.removeEventListener("DOMContentLoaded",j,!1);B();return!0};gt=function(){"complete"===d.readyState&&(j(),d.detachEvent("onreadystatechange",gt));return!0};F=function(){T=!0;bt.remove(h,"load",F)};xt();bt.add(h,"focus",H);bt.add(h,"load",_);bt.add(h,"load",F);d.addEventListener?d.addEventListener("DOMContentLoaded",j,!1):d.attachEvent?d.attachEvent("onreadystatechange",gt):U({type:"NO_DOM2_EVENTS",fatal:!0})}var n=null;if("undefined"==typeof SM2_DEFER||!SM2_DEFER)n=new t;e.SoundManager=t;e.soundManager=n})(window);__slice=[].slice;typeof soundManager!="undefined"&&soundManager.setup({url:"swf/",flashVersion:9,useFlashBlock:!1,useHighPerformance:!0,wmode:"transparent",useFastPolling:!0,debugFlash:!1,debugMode:!1});var SoundCloudPlayer=function(e,t){var n={loop:!1,start_on:0,autoplay:!1,autoswitch:!0,volume:100,toggle_pause:!0,cache:!0,preload:!1,debug:!1},r="http://api.soundcloud.com/resolve?url=http://soundcloud.com",i=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi),s=this,o=jQuery(this);this.tracks=[];this.config=jQuery.extend(n,t);this.current_track_index=this.config.start_on;this.current_track=null;this.sound=null;this.inited=!1;this.play_when_ready=!1;this.cache={};this.init=function(){if(s.inited)return;s.change_track();s.trigger("scplayer.init");s.config.autoplay&&s.play();s.inited=!0};this.change_track=function(e){s.log("change_track");if(s.sound){s.sound.destruct();s.sound=null}var t=typeof e!="undefined"?e:s.current_track_index;if(e!=s.current_track_index||!e){var n=s.tracks[t];s.resolve_track(n,s.set_sound);s.trigger("scplayer.changing_track",t)}return s};this.play=function(){s.log("play");s.sound&&s.sound.readyState==3?s.sound.play():s.play_when_ready=!0;s.trigger("scplayer.play",s.current_track_index);return s};this.pause=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.pause();s.trigger("scplayer.pause",s.sound.paused)}return s};this.resume=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.resume();s.trigger("scplayer.pause",s.sound.paused)}return s};this.stop=function(){s.sound&&s.sound.stop();s.trigger("scplayer.stop");s.log("stop");return s};this.next=function(e){s.log("next");s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;s.log(s.play_when_ready);if(s.tracks[s.current_track_index+1]){s.current_track_index++;s.change_track();s.trigger("scplayer.playlist.next",s.current_track_index-1,s.current_track_index);s.log("has next")}else if(s.config.loop){s.current_track_index=0;s.change_track();s.trigger("scplayer.playlist.looped");s.log("looped")}else{s.current_track_index=s.tracks.length-1;s.trigger("scplayer.playlist.ended");s.log("no mas")}return s};this.prev=function(e){s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;if(s.tracks[s.current_track_index-1]){s.current_track_index--;s.change_track();s.trigger("scplayer.playlist.prev")}else if(s.config.loop){s.current_track_index=s.tracks.length-1;s.change_track();s.trigger("scplayer.playlist.looped")}else{s.current_track_index=0;s.trigger("scplayer.playlist.restarted")}return s};this.goto=function(e,t){s.log("goto");s.play_when_ready=typeof t!="undefined"?t:s.config.autoswitch;if(s.tracks[e]){s.current_track_index=e;s.trigger("scplayer.playlist.goto");s.change_track()}return s};this.restart_track=function(){s.position(0);return s};this.mute=function(){s.sound&&s.sound.toggleMute();s.trigger("scplayer.mute",s.sound.muted);return s};this.has_next=function(){s.log("has next");return s.tracks[s.current_track_index+1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.has_prev=function(){return s.tracks[s.current_track_index-1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.get_time=function(){var e=this.position(),t=e%1e3,n=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),i=Math.floor(e/36e5%24),o=r+":"+s.pad(n);i>0&&(o=i+":"+o);return o};this.position=function(e){if(s.sound){if(e||e===0){e=Math.min(s.sound.duration,e);e=Math.max(0,e);s.trigger("scplayer.position",e);return s.sound.setPosition(e)}s.trigger("scplayer.position",s.sound.position);return s.sound.position}return 0};this.volume=function(e){if(s.sound){if(e||e===0){e=Math.min(100,e);e=Math.max(0,e);s.trigger("scplayer.volume",e);s.config.volume=e;return s.sound.setVolume(e)}s.trigger("scplayer.volume",s.sound.volume);return s.sound.volume}return s.config.volume};this.seek=function(e){var t=s.current_track.duration*e;s.position(t);return s};this.loop=function(e){if(e){s.config.loop=e;s.trigger("scplayer.loop_changed",s.config.loop)}return s.config.loop};this.track_info=function(e){s.isNumeric(e)&&(e=s.tracks[e]);return s.resolve_track(e)};this.on=function(e,t){return o.on(e,t)};this.trigger=function(e){var t=arguments.length>1?__slice.call(arguments,1):[];return o.trigger(e,t)};this.destroy=function(){s.sound&&s.sound.destruct();s.tracks=[];o.off();o.remove();s.tracks=null;s.track=null;s=null;delete s.tracks;delete s.track;delete s;delete this};s.get_track=function(){return s.current_track};s.get_track_index=function(){return s.current_track_index};s.get_sound=function(){return s.sound};s.get_playlist=function(){return s.tracks};s.set_cache=function(e,t){s.config.cache===!0&&(s.cache[e]=t)};s.get_cache=function(e){return s.config.cache===!0?s.cache[e]||null:null};s.set_sound=function(e){s.log("set_sound");s.trigger("scplayer.track.info_loaded",e);s.current_track=e;var t=e.stream_url;t+=t.indexOf("secret_token")==-1?"?":"&";t+="consumer_key="+s.config.consumer_key;s.sound=soundManager.createSound({autoLoad:!0,id:"track_"+e.id,multiShot:!1,loops:1,url:t,volume:s.config.volume,whileloading:function(){var e=Math.round(this.bytesLoaded/this.bytesTotal*100);s.trigger("scplayer.track.whileloading",e)},whileplaying:function(){var t=Math.round(this.position/e.duration*100*10)/10;s.trigger("scplayer.track.whileplaying",t)},onplay:function(
){s.log("track.onplay");s.trigger("scplayer.track.played")},onresume:function(){s.trigger("scplayer.track.resumed")},onstop:function(){s.trigger("scplayer.track.stopped")},onpause:function(){s.trigger("scplayer.track.paused")},onfinish:function(){s.trigger("scplayer.track.finished")},onload:function(){s.log("onload");s.trigger("scplayer.track.ready",s.current_track_index,s.current_track)}});s.trigger("scplayer.track.bindable",e,s.sound)};s.resolve_track=function(e,t){var n=new jQuery.Deferred;if(e.match(i)&&e.search(/soundcloud\.com/i)===-1){var o={stream_url:e,id:0,permalink_url:e,duration:0};n.resolve(o)}e=e.replace(/https?\:\/\/soundcloud\.com/gi,"");if(s.config.cache===!0){var u=s.get_cache(e);if(u&&t){n.done(function(){t(u)}).resolve();return n}}n.done(function(n){if(n.tracks&&n.tracks.length>0){var r=s.parse_tracks(e,n.tracks);n=r[0]}else s.config.cache===!0&&s.set_cache(e,n);t&&t(n)});jQuery.ajax({url:r+e+"&format=json"+"&consumer_key="+s.config.consumer_key+"&callback=?",dataType:"jsonp",error:function(e,t,r){n.reject(e,t,r)},success:function(e){n.resolve(e)}});return n};s.preload_sc_tracks=function(e){var t=[];for(var n=0,r=s.tracks.length;n<r;n++){var i=s.tracks[n],o=s.resolve_track(i);t.push(o)}jQuery.when.apply(jQuery,t).then(function(){s.trigger("scplayer.playlist.preloaded");e&&e()},function(){s.log("promises failed to preload tracks")})};s.parse_tracks=function(e,t){var n=[],r=[],i=s.tracks.indexOf(e);for(var o=0,u=t.length;o<u;o++){var a=t[o],f=a.permalink_url.substring(21);s.config.cache===!0&&s.set_cache(f,a);n.push(a);r.push(f)}var l=[i,1].concat(r);s.tracks.splice.apply(s.tracks,l);return n};s.add_tracks=function(e){typeof e=="string"&&(e=[e]);if(e!=null&&e.length>0){s.tracks=s.tracks.concat(e);s.config.preload==1?s.preload_sc_tracks.call(s,s.init):s.init.call(s)}};s.log=function(){s.config.debug&&window.console&&console.log.apply(console,arguments)};s.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};s.pad=function(e){return(e<10?"0":"")+e};s.on("scplayer.track.ready",function(e){s.log("track.onready!!!");if(s.play_when_ready==1){s.play();s.play_when_ready=!1}});s.on("scplayer.track.finished",function(e){s.log("track finished");if(s.config.autoswitch&&(s.config.loop||s.has_next())){s.log("finished and autoswitch");s.next().play()}});s.on("scplayer.playlist.ended",function(e){s.log("playlist ended");s.config.loop||s.stop()});soundManager.onready(function(){s.log("SOUNDMANAGER2 ready!!");s.add_tracks(e)});soundManager.ontimeout(function(){window.console&&console.log("SOUNDMANAGER2 TIMEDOUT!!")});return{play:this.play,pause:this.pause,resume:this.resume,stop:this.stop,next:this.next,prev:this.prev,mute:this.mute,get_time:this.get_time,volume:this.volume,restart_track:this.restart_track,"goto":this.goto,position:this.position,seek:this.seek,track_info:this.track_info,has_next:this.has_next,has_prev:this.has_prev,on:this.on,trigger:this.trigger,track:this.get_track,track_index:this.get_track_index,sound:this.get_sound,playlist:this.get_playlist,destroy:this.destroy,add_tracks:this.add_tracks}};(function(e){function t(t,n){function r(e){return a.preferFlash&&St&&!a.ignoreFlash&&"undefined"!=typeof a.flash[e]&&a.flash[e]}function i(e){return function(t){var n=this._t;return!n||!n._a?null:e.call(this,t)}}this.setupOptions={url:t||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=n||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20120916";this.altURL=this.movieURL=this.version=null;this.enabled=this.swfLoaded=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.didFlashBlock=this.muted=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={};var s;try{s="undefined"!=typeof Audio&&"undefined"!=typeof (Mt&&10>opera.version()?new Audio(null):new Audio).canPlayType}catch(o){s=!1}this.hasHTML5=s;this.html5={usingFlash:null};this.flash={};this.ignoreFlash=this.html5Only=!1;var u,a=this,f=null,l,c=navigator.userAgent,h=e,p=h.location.href.toString(),d=document,v,m,g,y,b=[],w=!1,E=!1,S=!1,x=!1,T=!1,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J=null,K=null,Q,G,Y,Z,et,tt,nt,rt=!1,it=!1,st,ot,ut,at=0,ft=null,lt,ct=null,ht,pt,dt,vt,mt,gt,yt,bt,wt=Array.prototype.slice,Et=!1,St,xt,Tt,Nt,Ct,kt=c.match(/(ipad|iphone|ipod)/i),Lt=c.match(/msie/i),At=c.match(/webkit/i),Ot=c.match(/safari/i)&&!c.match(/chrome/i),Mt=c.match(/opera/i),_t=c.match(/(mobile|pre\/|xoom)/i)||kt,Dt=!p.match(/usehtml5audio/i)&&!p.match(/sm2\-ignorebadua/i)&&Ot&&!c.match(/silk/i)&&c.match(/OS X 10_6_([3-7])/i),Pt="undefined"!=typeof d.hasFocus?d.hasFocus():null,Ht=Ot&&("undefined"==typeof d.hasFocus||!d.hasFocus()),Bt=!Ht,jt=/(mp3|mp4|mpa|m4a|m4b)/i,Ft=d.location?d.location.protocol.match(/http/i):null,It=Ft?"":"http://",qt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Rt="mpeg4,aac,flv,mov,mp4,m4v,f4v,m4a,m4b,mp4v,3gp,3g2".split(","),Ut=RegExp("\\.("+Rt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!Ft;this._global_a=null;_t&&(a.useHTML5Audio=!0,a.preferFlash=!1,kt)&&(Et=a.ignoreFlash=!0);this.setup=function(e){var t=!a.url;"undefined"!=typeof e&&S&&ct&&a.ok()&&("undefined"!=typeof e.flashVersion||"undefined"!=typeof e.url)&&tt(Q("setupLate"));k(e);t&&I&&"undefined"!=typeof e.url&&a.beginDelayedInit();!I&&"undefined"!=typeof e.url&&"complete"===d.readyState&&setTimeout(j,1);return a};this.supported=this.ok=function(){return ct?S&&!x:a.useHTML5Audio&&a.hasHTML5};this.getMovie=function(e){return l(e)||d[e]||h[e]};this.createSound=function(e,t){function n(){r=Z(r);a.sounds[s.id]=new u(s);a.soundIDs.push(s.id);return a.sounds[s.id]}var r=null,i=null,s=null;if(!S||!a.ok())return tt(void 0),!1;"undefined"!=typeof t&&(e={id:e,url:t});r=C(e);r.url=lt(r.url);s=r;if(nt(s.id,!0))return a.sounds[s.id];if(pt(s))i=n(),i._setup_html5(s);else{8<y&&null===s.isMovieStar&&(s.isMovieStar=!!s.serverURL||!!(s.type&&s.type.match(qt)||s.url.match(Ut)));s=et(s,void 0);i=n();if(8===y)f._createSound(s.id,s.loops||1,s.usePolicyFile);else if(f._createSound(s.id,s.url,s.usePeakData,s.useWaveformData,s.useEQData,s.isMovieStar,s.isMovieStar?s.bufferTime:!1,s.loops||1,s.serverURL,s.duration||null,s.autoPlay,!0,s.autoLoad,s.usePolicyFile),!s.serverURL)i.connected=!0,s.onconnect&&s.onconnect.apply(i);!s.serverURL&&(s.autoLoad||s.autoPlay)&&i.load(s)}!s.serverURL&&s.autoPlay&&i.play();return i};this.destroySound=function(e,t){if(!nt(e))return!1;var n=a.sounds[e],r;n._iO={};n.stop();n.unload();for(r=0;r<a.soundIDs.length;r++)if(a.soundIDs[r]===e){a.soundIDs.splice(r,1);break}t||n.destruct(!0);delete a.sounds[e];return!0};this.load=function(e,t){return nt(e)?a.sounds[e].load(t):!1};this.unload=function(e){return nt(e)?a.sounds[e].unload():!1};this.onposition=this.onPosition=function(e,t,n,r){return nt(e)?a.sounds[e].onposition(t,n,r):!1};this.clearOnPosition=function(e,t,n){return nt(e)?a.sounds[e].clearOnPosition(t,n):!1};this.start=this.play=function(e,t){var n=!1;if(!S||!a.ok())return tt("soundManager.play(): "+Q(S?"notOK":"notReady")),n;if(!nt(e)){t instanceof Object||(t={url:t});t&&t.url&&(t.id=e,n=a.createSound(t).play());return n}return a.sounds[e].play(t)};this.setPosition=function(e,t){return nt(e)?a.sounds[e].setPosition(t):!1};this.stop=function(e){return nt(e)?a.sounds[e].stop():!1};this.stopAll=function(){for(var e in a.sounds)a.sounds.hasOwnProperty(e)&&a.sounds[e].stop()};this.pause=function(e){return nt(e)?a.sounds[e].pause():!1};this.pauseAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].pause()};this.resume=function(e){return nt(e)?a.sounds[e].resume():!1};this.resumeAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].resume()};this.togglePause=function(e){return nt(e)?a.sounds[e].togglePause():!1};this.setPan=function(e,t){return nt(e)?a.sounds[e].setPan(t):!1};this.setVolume=function(e,t){return nt(e)?a.sounds[e].setVolume(t):!1};this.mute=function(e){var t=0;"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].mute():!1;for(t=a.soundIDs.length-1;0<=t;t--)a.sounds[a.soundIDs[t]].mute();return a.muted=!0};this.muteAll=function(){a.mute()};this.unmute=function(e){"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].unmute():!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].unmute();a.muted=!1;return!0};this.unmuteAll=function(){a.unmute()};this.toggleMute=function(e){return nt(e)?a.sounds[e].toggleMute():!1};this.getMemoryUse=function(){var e=0;f&&8!==y&&(e=parseInt(f._getMemoryUse(),10));return e};this.disable=function(e){var t;"undefined"==typeof e&&(e=!1);if(x)return!1;x=!0;for(t=a.soundIDs.length-1;0<=t;t--)X(a.sounds[a.soundIDs[t]]);N(e);bt.remove(h,"load",M);return!0};this.canPlayMIME=function(e){var t;a.hasHTML5&&(t=dt({type:e}));!t&&ct&&(t=e&&a.ok()?!!(8<y&&e.match(qt)||e.match(a.mimePattern)):null);return t};this.canPlayURL=function(e){var t;a.hasHTML5&&(t=dt({url:e}));!t&&ct&&(t=e&&a.ok()?!!e.match(a.filePattern):null);return t};this.canPlayLink=function(e){return"undefined"!=typeof e.type&&e.type&&a.canPlayMIME(e.type)?!0:a.canPlayURL(e.href)};this.getSoundById=function(e){if(!e)throw Error("soundManager.getSoundById(): sID is null/undefined");return a.sounds[e]};this.onready=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","onready");t||(t=h),A("onready",e,t),O();return!0};this.ontimeout=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","ontimeout");t||(t=h),A("ontimeout",e,t),O({type:"ontimeout"});return!0};this._wD=this._writeDebug=function(){return!0};this._debug=function(){};this.reboot=function(){var e,t;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].destruct();if(f)try{Lt&&(K=f.innerHTML);J=f.parentNode.removeChild(f)}catch(n){}K=J=ct=null;a.enabled=I=S=rt=it=w=E=x=a.swfLoaded=!1;a.soundIDs=[];a.sounds={};f=null;for(e in b)if(b.hasOwnProperty(e))for(t=b[e].length-1;0<=t;t--)b[e][t].fired=!1;h.setTimeout(a.beginDelayedInit,20)};this.getMoviePercent=function(){return f&&"undefined"!=typeof f.PercentLoaded?f.PercentLoaded():null};this.beginDelayedInit=function(){T=!0;j();setTimeout(function(){if(it)return!1;R();B();return it=!0},20);_()};this.destruct=function(){a.disable(!0)};u=function(e){var t,n,r=this,i,s,o,u,l,c,h=!1,p=[],d=0,v,m,g=null;t=null;n=null;this.sID=this.id=e.id;this.url=e.url;this._iO=this.instanceOptions=this.options=C(e);this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;this.id3={};this._debug=function(){};this.load=function(e){var t=null;if("undefined"!=typeof e)r._iO=C(e,r.options),r.instanceOptions=r._iO;else if(e=r.options,r._iO=e,r.instanceOptions=r._iO,g&&g!==r.url)r._iO.url=r.url,r.url=null;r._iO.url||(r._iO.url=r.url);r._iO.url=lt(r._iO.url);if(r._iO.url===r.url&&0!==r.readyState&&2!==r.readyState)return 3===r.readyState&&r._iO.onload&&r._iO.onload.apply(r,[!!r.duration]),r;e=r._iO;g=r.url&&r.url.toString?r.url.toString():null;r.loaded=!1;r.readyState=1;r.playState=0;r.id3={};if(pt(e)){if(t=r._setup_html5(e),!t._called_load){r._html5_canplay=!1;r._a.src!==e.url&&(r._a.src=e.url,r.setPosition(0));r._a.autobuffer="auto";r._a.preload="auto";t._called_load=!0;e.autoPlay&&r.play()}}else try{r.isHTML5=!1,r._iO=et(Z(e)),e=r._iO,8===y?f._load(r.id,e.url,e.stream,e.autoPlay,e.whileloading?1:0,e.loops||1,e.usePolicyFile):f._load(r.id,e.url,!!e.stream,!!e.autoPlay,e.loops||1,!!e.autoLoad,e.usePolicyFile)}catch(n){U({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}r.url=e.url;return r};this.unload=function(){if(0!==r.readyState){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a,"about:blank"),r.url="about:blank"}else 8===y?f._unload(r.id,"about:blank"):f._unload(r.id);i()}return r};this.destruct=function(e){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a),Et||o(),r._a._t=null,r._a=null}else r._iO.onfailure=null,f._destroySound(r.id);e||a.destroySound(r.id,!0)};this.start=this.play=function(e,t){var n,i;i=!0;i=null;t="undefined"==typeof t?!0:t;e||(e={});r.url&&(r._iO.url=r.url);r._iO=C(r._iO,r.options);r._iO=C(e,r._iO);r._iO.url=lt(r._iO.url);r.instanceOptions=r._iO;if(r._iO.serverURL&&!r.connected)return r.getAutoPlay()||r.setAutoPlay(!0),r;pt(r._iO)&&(r._setup_html5(r._iO),l());1===r.playState&&!r.paused&&((n=r._iO.multiShot)||(i=r));if(null!==i)return i;e.url&&e.url!==r.url&&r.load(r._iO);if(!r.loaded)if(0===r.readyState){r.isHTML5||(r._iO.autoPlay=!0);r.load(r._iO)}else 2===r.readyState&&(i=r);if(null!==i)return i;!r.isHTML5&&9===y&&0<r.position&&r.position===r.duration&&(e.position=0);if(r.paused&&0<=r.position&&(!r._iO.serverURL||0<r.position))r.resume();else{r._iO=C(e,r._iO);if(null!==r._iO.from&&null!==r._iO.to&&0===r.instanceCount&&0===r.playState&&!r._iO.serverURL){n=function(){r._iO=C(e,r._iO);r.play(r._iO)};r.isHTML5&&!r._html5_canplay?(r.load({_oncanplay:n}),i=!1):!r.isHTML5&&!r.loaded&&(!r.readyState||2!==r.readyState)&&(r.load({onload:n}),i=!1);if(null!==i)return i;r._iO=m()}(!r.instanceCount||r._iO.multiShotEvents||!r.isHTML5&&8<y&&!r.getAutoPlay())&&r.instanceCount++;r._iO.onposition&&0===r.playState&&c(r);r.playState=1;r.paused=!1;r.position="undefined"!=typeof r._iO.position&&!isNaN(r._iO.position)?r._iO.position:0;r.isHTML5||(r._iO=et(Z(r._iO)));r._iO.onplay&&t&&(r._iO.onplay.apply(r),h=!0);r.setVolume(r._iO.volume,!0);r.setPan(r._iO.pan,!0);r.isHTML5?(l(),i=r._setup_html5(),r.setPosition(r._iO.position),i.play()):(i=f._start(r.id,r._iO.loops||1,9===y?r._iO.position:r._iO.position/1e3,r._iO.multiShot),9===y&&!i&&r._iO.onplayerror&&r._iO.onplayerror.apply(r))}return r};this.stop=function(e){var t=r._iO;if(1===r.playState){r._onbufferchange(0);r._resetOnPosition(0);r.paused=!1;r.isHTML5||(r.playState=0);v();t.to&&r.clearOnPosition(t.to);r.isHTML5?r._a&&(e=r.position,r.setPosition(0),r.position=e,r._a.pause(),r.playState=0,r._onTimer(),u()):(f._stop(r.id,e),t.serverURL&&r.unload());r.instanceCount=0;r._iO={};t.onstop&&t.onstop.apply(r)}return r};this.setAutoPlay=function(e){r._iO.autoPlay=e;r.isHTML5||(f._setAutoPlay(r.id,e),e&&!r.instanceCount&&1===r.readyState&&r.instanceCount++)};this.getAutoPlay=function(){return r._iO.autoPlay};this.setPosition=function(e){"undefined"==typeof e&&(e=0);var t=r.isHTML5?Math.max(e,0):Math.min(r.duration||r._iO.duration,Math.max(e,0));r.position=t;e=r.position/1e3;r._resetOnPosition(r.position);r._iO.position=t;if(r.isHTML5){if(r._a&&r._html5_canplay&&r._a.currentTime!==e)try{r._a.currentTime=e,(0===r.playState||r.paused)&&r._a.pause()}catch(n){}}else e=9===y?r.position:e,r.readyState&&2!==r.readyState&&f._setPosition(r.id,e,r.paused||!r.playState,r._iO.multiShot);r.isHTML5&&r.paused&&r._onTimer(!0);return r};this.pause=function(e){if(r.paused||0===r.playState&&1!==r.readyState)return r;r.paused=!0;r.isHTML5?(r._setup_html5().pause(),u()):(e||"undefined"==typeof e)&&f._pause(r.id,r._iO.multiShot);r._iO.onpause&&r._iO.onpause.apply(r);return r};this.resume=function(){var e=r._iO;if(!r.paused)return r;r.paused=!1;r.playState=1;r.isHTML5?(r._setup_html5().play(),l()):(e.isMovieStar&&!e.serverURL&&r.setPosition(r.position),f._pause(r.id,e.multiShot));!h&&e.onplay?(e.onplay.apply(r),h=!0):e.onresume&&e.onresume.apply(r);return r};this.togglePause=function(){if(0===r.playState)return r.play({position:9===y&&!r.isHTML5?r.position:r.position/1e3}),r;r.paused?r.resume():r.pause();return r};this.setPan=function(e,t){"undefined"==typeof e&&(e=0);"undefined"==typeof t&&(t=!1);r.isHTML5||f._setPan(r.id,e);r._iO.pan=e;t||(r.pan=e,r.options.pan=e);return r};this.setVolume=function(e,t){"undefined"==typeof e&&(e=100);"undefined"==typeof t&&(t=!1);r.isHTML5?r._a&&(r._a.volume=Math.max(0,Math.min(1,e/100))):f._setVolume(r.id,a.muted&&!r.muted||r.muted?0:e);r._iO.volume=e;t||(r.volume=e,r.options.volume=e);return r};this.mute=function(){r.muted=!0;r.isHTML5?r._a&&(r._a.muted=!0):f._setVolume(r.id,0);return r};this.unmute=function(){r.muted=!1;var e="undefined"!=typeof r._iO.volume;r.isHTML5?r._a&&(r._a.muted=!1):f._setVolume(r.id,e?r._iO.volume:r.options.volume);return r};this.toggleMute=function(){return r.muted?r.unmute():r.mute()};this.onposition=this.onPosition=function(e,t,n){p.push({position:parseInt(e,10),method:t,scope:"undefined"!=typeof n?n:r,fired:!1});return r};this.clearOnPosition=function(e,t){var n,e=parseInt(e,10);if(isNaN(e))return!1;for(n=0;n<p.length;n++)e===p[n].position&&(!t||t===p[n].method)&&(p[n].fired&&d--,p.splice(n,1))};this._processOnPosition=function(){var e,t;e=p.length;if(!e||!r.playState||d>=e)return!1;for(e-=1;0<=e;e--)if(t=p[e],!t.fired&&r.position>=t.position)t.fired=!0,d++,t.method.apply(t.scope,[t.position]);return!0};this._resetOnPosition=function(e){var t,n;t=p.length;if(!t)return!1;for(t-=1;0<=t;t--)if(n=p[t],n.fired&&e<=n.position)n.fired=!1,d--;return!0};m=function(){var e=r._iO,t=e.from,n=e.to,i,s;s=function(){r.clearOnPosition(n,s);r.stop()};i=function(){null!==n&&!isNaN(n)&&r.onPosition(n,s)};null!==t&&!isNaN(t)&&(e.position=t,e.multiShot=!1,i());return e};c=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.onPosition(parseInt(e,10),t[e])};v=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.clearOnPosition(parseInt(e,10))};l=function(){r.isHTML5&&st(r)};u=function(){r.isHTML5&&ot(r)};i=function(e){e||(p=[],d=0);h=!1;r._hasTimer=null;r._a=null;r._html5_canplay=!1;r.bytesLoaded=null;r.bytesTotal=null;r.duration=r._iO&&r._iO.duration?r._iO.duration:null;r.durationEstimate=null;r.buffered=[];r.eqData=[];r.eqData.left=[];r.eqData.right=[];r.failures=0;r.isBuffering=!1;r.instanceOptions={};r.instanceCount=0;r.loaded=!1;r.metadata={};r.readyState=0;r.muted=!1;r.paused=!1;r.peakData={left:0,right:0};r.waveformData={left:[],right:[]};r.playState=0;r.position=null;r.id3={}};i();this._onTimer=function(e){var i,s=!1,o={};if(r._hasTimer||e){if(r._a&&(e||(0<r.playState||1===r.readyState)&&!r.paused)){i=r._get_html5_duration();i!==t&&(t=i,r.duration=i,s=!0);r.durationEstimate=r.duration;i=1e3*r._a.currentTime||0;i!==n&&(n=i,s=!0);(s||e)&&r._whileplaying(i,o,o,o,o)}return s}};this._get_html5_duration=function(){var e=r._iO;return(e=r._a&&r._a.duration?1e3*r._a.duration:e&&e.duration?e.duration:null)&&!isNaN(e)&&Infinity!==e?e:null};this._apply_loop=function(e,t){e.loop=1<t?"loop":""};this._setup_html5=function(e){var e=C(r._iO,e),t=decodeURI,n=Et?a._global_a:r._a,o=t(e.url),u=n&&n._t?n._t.instanceOptions:null,f;if(n){if(n._t){!Et&&o===t(g)?f=n:Et&&u.url===e.url&&(!g||g===u.url)&&(f=n);if(f)return r._apply_loop(n,e.loops),f}Et&&n._t&&n._t.playState&&e.url!==u.url&&n._t.stop();i(u&&u.url?e.url===u.url:g?g===e.url:!1);n.src=e.url;g=r.url=e.url;n._called_load=!1}else if(r._a=e.autoLoad||e.autoPlay?new Audio(e.url):Mt&&10>opera.version()?new Audio(null):new Audio,n=r._a,n._called_load=!1,Et)a._global_a=n;r.isHTML5=!0;r._a=n;n._t=r;s();r._apply_loop(n,e.loops);e.autoLoad||e.autoPlay?r.load():(n.autobuffer=!1,n.preload="auto");return n};s=function(){if(r._a._added_events)return!1;var e;r._a._added_events=!0;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.addEventListener(e,Nt[e],!1);return!0};o=function(){var e;r._a._added_events=!1;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.removeEventListener(e,Nt[e],!1)};this._onload=function(e){e=!!e||!r.isHTML5&&8===y&&r.duration;r.loaded=e;r.readyState=e?3:2;r._onbufferchange(0);r._iO.onload&&r._iO.onload.apply(r,[e]);return!0};this._onbufferchange=function(e){if(0===r.playState||e&&r.isBuffering||!e&&!r.isBuffering)return!1;r.isBuffering=1===e;r._iO.onbufferchange&&r._iO.onbufferchange.apply(r);return!0};this._onsuspend=function(){r._iO.onsuspend&&r._iO.onsuspend.apply(r);return!0};this._onfailure=function(e,t,n){r.failures++;r._iO.onfailure&&1===r.failures&&r._iO.onfailure(r,e,t,n)};this._onfinish=function(){var e=r._iO.onfinish;r._onbufferchange(0);r._resetOnPosition(0);if(r.instanceCount){r.instanceCount--;!r.instanceCount&&(v(),r.playState=0,r.paused=!1,r.instanceCount=0,r.instanceOptions={},r._iO={},u(),r.isHTML5)&&(r.position=0);(!r.instanceCount||r._iO.multiShotEvents)&&e&&e.apply(r)}};this._whileloading=function(e,t,n,i){var s=r._iO;r.bytesLoaded=e;r.bytesTotal=t;r.duration=Math.floor(n);r.bufferLength=i;r.durationEstimate=!r.isHTML5&&!s.isMovieStar?s.duration?r.duration>s.duration?r.duration:s.duration:parseInt(r.bytesTotal/r.bytesLoaded*r.duration,10):r.duration;r.isHTML5||(r.buffered=[{start:0,end:r.duration}]);(3!==r.readyState||r.isHTML5)&&s.whileloading&&s.whileloading.apply(r)};this._whileplaying=function(e,t,n,i,s){var o=r._iO;if(isNaN(e)||null===e)return!1;r.position=Math.max(0,e);r._processOnPosition();if(!r.isHTML5&&8<y){o.usePeakData&&"undefined"!=typeof t&&t&&(r.peakData={left:t.leftPeak,right:t.rightPeak});o.useWaveformData&&"undefined"!=typeof n&&n&&(r.waveformData={left:n.split(","),right:i.split(",")});o.useEQData&&"undefined"!=typeof s&&s&&s.leftEQ&&(e=s.leftEQ.split(","),r.eqData=e,r.eqData.left=e,"undefined"!=typeof s.rightEQ&&s.rightEQ)&&(r.eqData.right=s.rightEQ.split(","))}1===r.playState&&(!r.isHTML5&&8===y&&!r.position&&r.isBuffering&&r._onbufferchange(0),o.whileplaying&&o.whileplaying.apply(r));return!0};this._oncaptiondata=function(e){r.captiondata=e;r._iO.oncaptiondata&&r._iO.oncaptiondata.apply(r,[e])};this._onmetadata=function(e,t){var n={},i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.metadata=n;r._iO.onmetadata&&r._iO.onmetadata.apply(r)};this._onid3=function(e,t){var n=[],i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.id3=C(r.id3,n);r._iO.onid3&&r._iO.onid3.apply(r)};this._onconnect=function(e){e=1===e;if(r.connected=e)r.failures=0,nt(r.id)&&(r.getAutoPlay()?r.play(void 0,r.getAutoPlay()):r._iO.autoLoad&&r.load()),r._iO.onconnect&&r._iO.onconnect.apply(r,[e])};this._ondataerror=function(){0<r.playState&&r._iO.ondataerror&&r._iO.ondataerror.apply(r)}};q=function(){return d.body||d._docElement||d.getElementsByTagName("div")[0]};l=function(e){return d.getElementById(e)};C=function(e,t){var n=e||{},r,i;r="undefined"==typeof t?a.defaultOptions:t;for(i in r)r.hasOwnProperty(i)&&"undefined"==typeof n[i]&&(n[i]="object"!=typeof r[i]||null===r[i]?r[i]:C(n[i],r[i]));return n};L={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};k=function(e,t){var n,r=!0,i="undefined"!=typeof t,s=a.setupOptions;for(n in e)if(e.hasOwnProperty(n))if("object"!=typeof e[n]||null===e[n]||e[n]instanceof Array)i&&"undefined"!=typeof L[t]?a[t][n]=e[n]:"undefined"!=typeof s[n]?(a.setupOptions[n]=e[n],a[n]=e[n]):"undefined"==typeof L[n]?(tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1):a[n]instanceof Function?a[n].apply(a,e[n]instanceof Array?e[n]:[e[n]]):a[n]=e[n];else{if("undefined"!=typeof L[n])return k(e[n],n);tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1}return r};bt=function(){function e(e){var e=wt.call(e),t=e.length;n?(e[1]="on"+e[1],3<t&&e.pop()):3===t&&e.push(!1);return e}function t(e,t){var i=e.shift(),s=[r[t]];n?i[s](e[0],e[1]):i[s].apply(i,e)}var n=h.attachEvent,r={add:n?"attachEvent":"addEventListener",remove:n?"detachEvent":"removeEventListener"};return{add:function(){t(e(arguments),"add")},remove:function(){t(e(arguments),"remove")}}}();Nt={abort:i(function(){}),canplay:i(function(){var e=this._t,t;if(e._html5_canplay)return!0;e._html5_canplay=!0;e._onbufferchange(0);t="undefined"!=typeof e._iO.position&&!isNaN(e._iO.position)?e._iO.position/1e3:null;if(e.position&&this.currentTime!==t)try{this.currentTime=t}catch(n){}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:i(function(){var e=this._t;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),ended:i(function(){this._t._onfinish()}),error:i(function(){this._t._onload(!1)}),loadeddata:i(function(){var e=this._t;!e._loaded&&!Ot&&(e.duration=e._get_html5_duration())}),loadedmetadata:i(function(){}),loadstart:i(function(){this._t._onbufferchange(1)}),play:i(function(){this._t._onbufferchange(0)}),playing:i(function(){this._t._onbufferchange(0)}),progress:i(function(e){var t=this._t,n,r,i=0,i=e.target.buffered;n=e.loaded||0;var s=e.total||1;t.buffered=[];if(i&&i.length){for(n=0,r=i.length;n<r;n++)t.buffered.push({start:1e3*i.start(n),end:1e3*i.end(n)});i=1e3*(i.end(0)-i.start(0));n=i/(1e3*e.target.duration)}isNaN(n)||(t._onbufferchange(0),t._whileloading(n,s,t._get_html5_duration()),n&&s&&n===s&&Nt.canplaythrough.call(this,e))}),ratechange:i(function(){}),suspend:i(function(e){var t=this._t;Nt.progress.call(this,e);t._onsuspend()}),stalled:i(function(){}),timeupdate:i(function(){this._t._onTimer()}),waiting:i(function(){this._t._onbufferchange(1)})};pt=function(e){return e.serverURL||e.type&&r(e.type)?!1:e.type?dt({type:e.type}):dt({url:e.url})||a.html5Only};mt=function(e,t){e&&(e.src=t)};dt=function(e){if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t=e.url||null,e=e.type||null,n=a.audioFormats,i;if(e&&"undefined"!=typeof a.html5[e])return a.html5[e]&&!r(e);if(!vt){vt=[];for(i in n)n.hasOwnProperty(i)&&(vt.push(i),n[i].related&&(vt=vt.concat(n[i].related)));vt=RegExp("\\.("+vt.join("|")+")(\\?.*)?$","i")}i=t?t.toLowerCase().match(vt):null;!i||!i.length?e&&(t=e.indexOf(";"),i=(-1!==t?e.substr(0,t):e).substr(6)):i=i[1];i&&"undefined"!=typeof a.html5[i]?t=a.html5[i]&&!r(i):(e="audio/"+i,t=a.html5.canPlayType({type:e}),t=(a.html5[i]=t)&&a.html5[e]&&!r(e));return t};yt=function(){function e(e){var n,r,i=n=!1;if(!t||"function"!=typeof t.canPlayType)return n;if(e instanceof Array){for(n=0,r=e.length;n<r;n++)if(a.html5[e[n]]||t.canPlayType(e[n]).match(a.html5Test))i=!0,a.html5[e[n]]=!0,a.flash[e[n]]=!!e[n].match(jt);n=i}else e=t&&"function"==typeof t.canPlayType?t.canPlayType(e):!1,n=!!e&&!!e.match(a.html5Test);return n}if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t="undefined"!=typeof Audio?Mt&&10>opera.version()?new Audio(null):new Audio:null,n,r,i={},s;s=a.audioFormats;for(n in s)if(s.hasOwnProperty(n)&&(r="audio/"+n,i[n]=e(s[n].type),i[r]=i[n],n.match(jt)?(a.flash[n]=!0,a.flash[r]=!0):(a.flash[n]=!1,a.flash[r]=!1),s[n]&&s[n].related))for(r=s[n].related.length-1;0<=r;r--)i["audio/"+s[n].related[r]]=i[n],a.html5[s[n].related[r]]=i[n],a.flash[s[n].related[r]]=i[n];i.canPlayType=t?e:null;a.html5=C(a.html5,i);return!0};Q=function(){};Z=function(e){8===y&&1<e.loops&&e.stream&&(e.stream=!1);return e};et=function(e){e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(e.usePolicyFile=!0);return e};tt=function(){};v=function(){return!1};X=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=v)};V=function(e){"undefined"==typeof e&&(e=!1);(x||e)&&a.disable(e)};$=function(e){var t=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");e=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+a.movieURL;a.noSWFCache&&(e+="?ts="+(new Date).getTime());return e};P=function(){y=parseInt(a.flashVersion,10);8!==y&&9!==y&&(a.flashVersion=y=8);var e=a.debugMode||a.debugFlash?"_debug.swf":".swf";a.useHTML5Audio&&!a.html5Only&&a.audioFormats.mp4.required&&9>y&&(a.flashVersion=y=9);a.version=a.versionNumber+(a.html5Only?" (HTML5-only mode)":9===y?" (AS3/Flash 9)":" (AS2/Flash 8)");8<y?(a.defaultOptions=C(a.defaultOptions,a.flash9Options),a.features.buffering=!0,a.defaultOptions=C(a.defaultOptions,a.movieStarOptions),a.filePatterns.flash9=RegExp("\\.(mp3|"+Rt.join("|")+")(\\?.*)?$","i"),a.features.movieStar=!0):a.features.movieStar=!1;a.filePattern=a.filePatterns[8!==y?"flash9":"flash8"];a.movieURL=(8===y?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e);a.features.peakData=a.features.waveformData=a.features.eqData=8<y};z=function(e,t){if(!f)return!1;f._setPolling(e,t)};W=function(){a.debugURLParam.test(p)&&(a.debugMode=!0)};nt=this.getSoundById;Y=function(){var e=[];a.debugMode&&e.push("sm2_debug");a.debugFlash&&e.push("flash_debug");a.useHighPerformance&&e.push("high_performance");return e.join(" ")};G=function(){Q("fbHandler");var e=a.getMoviePercent(),t={type:"FLASHBLOCK"};if(a.html5Only)return!1;if(a.ok())a.oMC&&(a.oMC.className=[Y(),"movieContainer","swf_loaded"+(a.didFlashBlock?" swf_unblocked":"")].join(" "));else{ct&&(a.oMC.className=Y()+" movieContainer "+(null===e?"swf_timedout":"swf_error"));a.didFlashBlock=!0;O({type:"ontimeout",ignoreInit:!0,error:t});U(t)}};A=function(e,t,n){"undefined"==typeof b[e]&&(b[e]=[]);b[e].push({method:t,scope:n||null,fired:!1})};O=function(e){e||(e={type:a.ok()?"onready":"ontimeout"});if(!S&&e&&!e.ignoreInit||"ontimeout"===e.type&&(a.ok()||x&&!e.ignoreInit))return!1;var t={success:e&&e.ignoreInit?a.ok():!x},n=e&&e.type?b[e.type]||[]:[],r=[],i,t=[t],s=ct&&a.useFlashBlock&&!a.ok();e.error&&(t[0].error=e.error);for(e=0,i=n.length;e<i;e++)!0!==n[e].fired&&r.push(n[e]);if(r.length)for(e=0,i=r.length;e<i;e++)if(r[e].scope?r[e].method.apply(r[e].scope,t):r[e].method.apply(this,t),!s)r[e].fired=!0;return!0};M=function(){h.setTimeout(function(){a.useFlashBlock&&G();O();"function"==typeof a.onload&&a.onload.apply(h);a.waitForWindowLoad&&bt.add(h,"load",M)},1)};xt=function(){if("undefined"!=typeof St)return St;var e=!1,t=navigator,n=t.plugins,r,i=h.ActiveXObject;if(n&&n.length)(t=t.mimeTypes)&&t["application/x-shockwave-flash"]&&t["application/x-shockwave-flash"].enabledPlugin&&t["application/x-shockwave-flash"].enabledPlugin.description&&(e=!0);else if("undefined"!=typeof i){try{r=new i("ShockwaveFlash.ShockwaveFlash")}catch(s){}e=!!r}return St=e};ht=function(){var e,t,n=a.audioFormats;if(kt&&c.match(/os (1|2|3_0|3_1)/i)){if(a.hasHTML5=!1,a.html5Only=!0,a.oMC)a.oMC.style.display="none"}else a.useHTML5Audio&&(!a.html5||!a.html5.canPlayType)&&(a.hasHTML5=!1);if(a.useHTML5Audio&&a.hasHTML5)for(t in n)n.hasOwnProperty(t)&&(n[t].required&&!a.html5.canPlayType(n[t].type)||a.preferFlash&&(a.flash[t]||a.flash[n[t].type]))&&(e=!0);a.ignoreFlash&&(e=!1);a.html5Only=a.hasHTML5&&a.useHTML5Audio&&!e;return!a.html5Only};lt=function(e){var t,n,r=0;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(a.canPlayMIME(e[t].type)){r=t;break}}else if(a.canPlayURL(e[t])){r=t;break}e[r].url&&(e[r]=e[r].url);e=e[r]}return e};st=function(e){e._hasTimer||(e._hasTimer=!0,!_t&&a.html5PollingInterval&&(null===ft&&0===at&&(ft=h.setInterval(ut,a.html5PollingInterval)),at++))};ot=function(e){e._hasTimer&&(e._hasTimer=!1,!_t&&a.html5PollingInterval&&at--)};ut=function(){var e;if(null!==ft&&!at)return h.clearInterval(ft),ft=null,!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].isHTML5&&a.sounds[a.soundIDs[e]]._hasTimer&&a.sounds[a.soundIDs[e]]._onTimer()};U=function(e){e="undefined"!=typeof e?e:{};"function"==typeof a.onerror&&a.onerror.apply(h,[{type:"undefined"!=typeof e.type?e.type:null}]);"undefined"!=typeof e.fatal&&e.fatal&&a.disable()};Tt=function(){if(!Dt||!xt())return!1;var e=a.audioFormats,t,n;for(n in e)if(e.hasOwnProperty(n)&&("mp3"===n||"mp4"===n))if(a.html5[n]=!1,e[n]&&e[n].related)for(t=e[n].related.length-1;0<=t;t--)a.html5[e[n].related[t]]=!1};this._setSandboxType=function(){};this._externalInterfaceOK=function(){if(a.swfLoaded)return!1;(new Date).getTime();a.swfLoaded=!0;Ht=!1;Dt&&Tt();setTimeout(g,Lt?100:1)};R=function(e,t){function n(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(w&&E)return!1;if(a.html5Only)return P(),a.oMC=l(a.movieID),g(),E=w=!0,!1;var r=t||a.url,i=a.altURL||r,s=q(),o=Y(),u=
null,u=d.getElementsByTagName("html")[0],f,h,p,u=u&&u.dir&&u.dir.match(/rtl/i),e="undefined"==typeof e?a.id:e;P();a.url=$(Ft?r:i);t=a.url;a.wmode=!a.wmode&&a.useHighPerformance?"transparent":a.wmode;null!==a.wmode&&(c.match(/msie 8/i)||!Lt&&!a.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(a.wmode=null);s={name:e,id:e,src:t,quality:"high",allowScriptAccess:a.allowScriptAccess,bgcolor:a.bgColor,pluginspage:It+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:a.wmode,hasPriority:"true"};a.debugFlash&&(s.FlashVars="debug=1");a.wmode||delete s.wmode;if(Lt)r=d.createElement("div"),h=['<object id="'+e+'" data="'+t+'" type="'+s.type+'" title="'+s.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+It+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',n("movie",t),n("AllowScriptAccess",a.allowScriptAccess),n("quality",s.quality),a.wmode?n("wmode",a.wmode):"",n("bgcolor",a.bgColor),n("hasPriority","true"),a.debugFlash?n("FlashVars",s.FlashVars):"","</object>"].join("");else for(f in r=d.createElement("embed"),s)s.hasOwnProperty(f)&&r.setAttribute(f,s[f]);W();o=Y();if(s=q())if(a.oMC=l(a.movieID)||d.createElement("div"),a.oMC.id){p=a.oMC.className;a.oMC.className=(p?p+" ":"movieContainer")+(o?" "+o:"");a.oMC.appendChild(r);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}else{a.oMC.id=a.movieID;a.oMC.className="movieContainer "+o;f=o=null;if(!a.useFlashBlock)if(a.useHighPerformance)o={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"};else if(o={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},u)o.left=Math.abs(parseInt(o.left,10))+"px";At&&(a.oMC.style.zIndex=1e4);if(!a.debugFlash)for(p in o)o.hasOwnProperty(p)&&(a.oMC.style[p]=o[p]);try{Lt||a.oMC.appendChild(r);s.appendChild(a.oMC);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}catch(v){throw Error(Q("domError")+" \n"+v.toString())}}return w=!0};B=function(){if(a.html5Only)return R(),!1;if(f||!a.url)return!1;f=a.getMovie(a.id);f||(J?(Lt?a.oMC.innerHTML=K:a.oMC.appendChild(J),J=null,w=!0):R(a.id,a.url),f=a.getMovie(a.id));"function"==typeof a.oninitmovie&&setTimeout(a.oninitmovie,1);return!0};_=function(){setTimeout(D,1e3)};D=function(){var e,t=!1;if(!a.url||rt)return!1;rt=!0;bt.remove(h,"load",_);if(Ht&&!Pt)return!1;S||(e=a.getMoviePercent(),0<e&&100>e&&(t=!0));setTimeout(function(){e=a.getMoviePercent();if(t)return rt=!1,h.setTimeout(_,1),!1;!S&&Bt&&(null===e?a.useFlashBlock||0===a.flashLoadTimeout?a.useFlashBlock&&G():V(!0):0!==a.flashLoadTimeout&&V(!0))},a.flashLoadTimeout)};H=function(){if(Pt||!Ht)return bt.remove(h,"focus",H),!0;Pt=Bt=!0;rt=!1;_();bt.remove(h,"focus",H);return!0};Ct=function(){};N=function(e){if(S)return!1;if(a.html5Only)return S=!0,M(),!0;var t=!0,n;if(!a.useFlashBlock||!a.flashLoadTimeout||a.getMoviePercent())S=!0,x&&(n={type:!St&&ct?"NO_FLASH":"INIT_TIMEOUT"});if(x||e){a.useFlashBlock&&a.oMC&&(a.oMC.className=Y()+" "+(null===a.getMoviePercent()?"swf_timedout":"swf_error"));O({type:"ontimeout",error:n,ignoreInit:!0});U(n);t=!1}x||(a.waitForWindowLoad&&!T?bt.add(h,"load",M):M());return t};m=function(){var e,t=a.setupOptions;for(e in t)t.hasOwnProperty(e)&&("undefined"==typeof a[e]?a[e]=t[e]:a[e]!==t[e]&&(a.setupOptions[e]=a[e]))};g=function(){if(S)return!1;if(a.html5Only){S||(bt.remove(h,"load",a.beginDelayedInit),a.enabled=!0,N());return!0}B();try{f._externalInterfaceTest(!1),z(!0,a.flashPollingInterval||(a.useHighPerformance?10:50)),a.debugMode||f._disableDebug(),a.enabled=!0,a.html5Only||bt.add(h,"unload",v)}catch(e){return U({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),V(!0),N(),!1}N();bt.remove(h,"load",a.beginDelayedInit);return!0};j=function(){if(I)return!1;I=!0;m();W();!St&&a.hasHTML5&&a.setup({useHTML5Audio:!0,preferFlash:!1});yt();a.html5.usingFlash=ht();ct=a.html5.usingFlash;Ct();!St&&ct&&a.setup({flashLoadTimeout:1});d.removeEventListener&&d.removeEventListener("DOMContentLoaded",j,!1);B();return!0};gt=function(){"complete"===d.readyState&&(j(),d.detachEvent("onreadystatechange",gt));return!0};F=function(){T=!0;bt.remove(h,"load",F)};xt();bt.add(h,"focus",H);bt.add(h,"load",_);bt.add(h,"load",F);d.addEventListener?d.addEventListener("DOMContentLoaded",j,!1):d.attachEvent?d.attachEvent("onreadystatechange",gt):U({type:"NO_DOM2_EVENTS",fatal:!0})}var n=null;if("undefined"==typeof SM2_DEFER||!SM2_DEFER)n=new t;e.SoundManager=t;e.soundManager=n})(window);__slice=[].slice;typeof soundManager!="undefined"&&soundManager.setup({url:"swf/",flashVersion:9,useFlashBlock:!1,useHighPerformance:!0,wmode:"transparent",useFastPolling:!0,debugFlash:!1,debugMode:!1});var SoundCloudPlayer=function(e,t){var n={loop:!1,start_on:0,autoplay:!1,autoswitch:!0,volume:100,toggle_pause:!0,cache:!0,preload:!1,debug:!1},r="http://api.soundcloud.com/resolve?url=http://soundcloud.com",i=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi),s=this,o=jQuery(this);this.tracks=[];this.config=jQuery.extend(n,t);this.current_track_index=this.config.start_on;this.current_track=null;this.sound=null;this.inited=!1;this.play_when_ready=!1;this.cache={};this.init=function(){if(s.inited)return;s.change_track();s.trigger("scplayer.init");s.config.autoplay&&s.play();s.inited=!0};this.change_track=function(e){s.log("change_track");if(s.sound){s.sound.destruct();s.sound=null}var t=typeof e!="undefined"?e:s.current_track_index;if(e!=s.current_track_index||!e){var n=s.tracks[t];s.resolve_track(n,s.set_sound);s.trigger("scplayer.changing_track",t)}return s};this.play=function(){s.log("play");s.sound&&s.sound.readyState==3?s.sound.play():s.play_when_ready=!0;s.trigger("scplayer.play",s.current_track_index);return s};this.pause=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.pause();s.trigger("scplayer.pause",s.sound.paused)}return s};this.resume=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.resume();s.trigger("scplayer.pause",s.sound.paused)}return s};this.stop=function(){s.sound&&s.sound.stop();s.trigger("scplayer.stop");s.log("stop");return s};this.next=function(e){s.log("next");s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;s.log(s.play_when_ready);if(s.tracks[s.current_track_index+1]){s.current_track_index++;s.change_track();s.trigger("scplayer.playlist.next",s.current_track_index-1,s.current_track_index);s.log("has next")}else if(s.config.loop){s.current_track_index=0;s.change_track();s.trigger("scplayer.playlist.looped");s.log("looped")}else{s.current_track_index=s.tracks.length-1;s.trigger("scplayer.playlist.ended");s.log("no mas")}return s};this.prev=function(e){s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;if(s.tracks[s.current_track_index-1]){s.current_track_index--;s.change_track();s.trigger("scplayer.playlist.prev")}else if(s.config.loop){s.current_track_index=s.tracks.length-1;s.change_track();s.trigger("scplayer.playlist.looped")}else{s.current_track_index=0;s.trigger("scplayer.playlist.restarted")}return s};this.goto=function(e,t){s.log("goto");s.play_when_ready=typeof t!="undefined"?t:s.config.autoswitch;if(s.tracks[e]){s.current_track_index=e;s.trigger("scplayer.playlist.goto");s.change_track()}return s};this.restart_track=function(){s.position(0);return s};this.mute=function(){s.sound&&s.sound.toggleMute();s.trigger("scplayer.mute",s.sound.muted);return s};this.has_next=function(){s.log("has next");return s.tracks[s.current_track_index+1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.has_prev=function(){return s.tracks[s.current_track_index-1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.get_time=function(){var e=this.position(),t=e%1e3,n=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),i=Math.floor(e/36e5%24),o=r+":"+s.pad(n);i>0&&(o=i+":"+o);return o};this.position=function(e){if(s.sound){if(e||e===0){e=Math.min(s.sound.duration,e);e=Math.max(0,e);s.trigger("scplayer.position",e);return s.sound.setPosition(e)}s.trigger("scplayer.position",s.sound.position);return s.sound.position}return 0};this.volume=function(e){if(s.sound){if(e||e===0){e=Math.min(100,e);e=Math.max(0,e);s.trigger("scplayer.volume",e);s.config.volume=e;return s.sound.setVolume(e)}s.trigger("scplayer.volume",s.sound.volume);return s.sound.volume}return s.config.volume};this.seek=function(e){var t=s.current_track.duration*e;s.position(t);return s};this.loop=function(e){if(e){s.config.loop=e;s.trigger("scplayer.loop_changed",s.config.loop)}return s.config.loop};this.track_info=function(e){s.isNumeric(e)&&(e=s.tracks[e]);return s.resolve_track(e)};this.on=function(e,t){return o.on(e,t)};this.trigger=function(e){var t=arguments.length>1?__slice.call(arguments,1):[];return o.trigger(e,t)};this.destroy=function(){s.sound&&s.sound.destruct();s.tracks=[];o.off();o.remove();s.tracks=null;s.track=null;s=null;delete s.tracks;delete s.track;delete s;delete this};s.get_track=function(){return s.current_track};s.get_track_index=function(){return s.current_track_index};s.get_sound=function(){return s.sound};s.get_playlist=function(){return s.tracks};s.set_cache=function(e,t){s.config.cache===!0&&(s.cache[e]=t)};s.get_cache=function(e){return s.config.cache===!0?s.cache[e]||null:null};s.set_sound=function(e){s.log("set_sound");s.trigger("scplayer.track.info_loaded",e);s.current_track=e;var t=e.stream_url;t+=t.indexOf("secret_token")==-1?"?":"&";t+="consumer_key="+s.config.consumer_key;s.sound=soundManager.createSound({autoLoad:!0,id:"track_"+e.id,multiShot:!1,loops:1,url:t,volume:s.config.volume,whileloading:function(){var e=Math.round(this.bytesLoaded/this.bytesTotal*100);s.trigger("scplayer.track.whileloading",e)},whileplaying:function(){var t=Math.round(this.position/e.duration*100*10)/10;s.trigger("scplayer.track.whileplaying",t)},onplay:function(){s.log("track.onplay");s.trigger("scplayer.track.played")},onresume:function(){s.trigger("scplayer.track.resumed")},onstop:function(){s.trigger("scplayer.track.stopped")},onpause:function(){s.trigger("scplayer.track.paused")},onfinish:function(){s.trigger("scplayer.track.finished")},onload:function(){s.log("onload");s.trigger("scplayer.track.ready",s.current_track_index,s.current_track)}});s.trigger("scplayer.track.bindable",e,s.sound)};s.resolve_track=function(e,t){var n=new jQuery.Deferred;if(e.match(i)&&e.search(/soundcloud\.com/i)===-1){var o={stream_url:e,id:0,permalink_url:e,duration:0};n.resolve(o)}e=e.replace(/https?\:\/\/soundcloud\.com/gi,"");if(s.config.cache===!0){var u=s.get_cache(e);if(u&&t){n.done(function(){t(u)}).resolve();return n}}n.done(function(n){if(n.tracks&&n.tracks.length>0){var r=s.parse_tracks(e,n.tracks);n=r[0]}else s.config.cache===!0&&s.set_cache(e,n);t&&t(n)});jQuery.ajax({url:r+e+"&format=json"+"&consumer_key="+s.config.consumer_key+"&callback=?",dataType:"jsonp",error:function(e,t,r){n.reject(e,t,r)},success:function(e){n.resolve(e)}});return n};s.preload_sc_tracks=function(e){var t=[];for(var n=0,r=s.tracks.length;n<r;n++){var i=s.tracks[n],o=s.resolve_track(i);t.push(o)}jQuery.when.apply(jQuery,t).then(function(){s.trigger("scplayer.playlist.preloaded");e&&e()},function(){s.log("promises failed to preload tracks")})};s.parse_tracks=function(e,t){var n=[],r=[],i=s.tracks.indexOf(e);for(var o=0,u=t.length;o<u;o++){var a=t[o],f=a.permalink_url.substring(21);s.config.cache===!0&&s.set_cache(f,a);n.push(a);r.push(f)}var l=[i,1].concat(r);s.tracks.splice.apply(s.tracks,l);return n};s.add_tracks=function(e){typeof e=="string"&&(e=[e]);if(e!=null&&e.length>0){s.tracks=s.tracks.concat(e);s.config.preload==1?s.preload_sc_tracks.call(s,s.init):s.init.call(s)}};s.log=function(){s.config.debug&&window.console&&console.log.apply(console,arguments)};s.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};s.pad=function(e){return(e<10?"0":"")+e};s.on("scplayer.track.ready",function(e){s.log("track.onready!!!");if(s.play_when_ready==1){s.play();s.play_when_ready=!1}});s.on("scplayer.track.finished",function(e){s.log("track finished");if(s.config.autoswitch&&(s.config.loop||s.has_next())){s.log("finished and autoswitch");s.next().play()}});s.on("scplayer.playlist.ended",function(e){s.log("playlist ended");s.config.loop||s.stop()});soundManager.onready(function(){s.log("SOUNDMANAGER2 ready!!");s.add_tracks(e)});soundManager.ontimeout(function(){window.console&&console.log("SOUNDMANAGER2 TIMEDOUT!!")});return{play:this.play,pause:this.pause,resume:this.resume,stop:this.stop,next:this.next,prev:this.prev,mute:this.mute,get_time:this.get_time,volume:this.volume,restart_track:this.restart_track,"goto":this.goto,position:this.position,seek:this.seek,track_info:this.track_info,has_next:this.has_next,has_prev:this.has_prev,on:this.on,trigger:this.trigger,track:this.get_track,track_index:this.get_track_index,sound:this.get_sound,playlist:this.get_playlist,destroy:this.destroy,add_tracks:this.add_tracks}};(function(e){function t(t,n){function r(e){return a.preferFlash&&St&&!a.ignoreFlash&&"undefined"!=typeof a.flash[e]&&a.flash[e]}function i(e){return function(t){var n=this._t;return!n||!n._a?null:e.call(this,t)}}this.setupOptions={url:t||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=n||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20120916";this.altURL=this.movieURL=this.version=null;this.enabled=this.swfLoaded=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.didFlashBlock=this.muted=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={};var s;try{s="undefined"!=typeof Audio&&"undefined"!=typeof (Mt&&10>opera.version()?new Audio(null):new Audio).canPlayType}catch(o){s=!1}this.hasHTML5=s;this.html5={usingFlash:null};this.flash={};this.ignoreFlash=this.html5Only=!1;var u,a=this,f=null,l,c=navigator.userAgent,h=e,p=h.location.href.toString(),d=document,v,m,g,y,b=[],w=!1,E=!1,S=!1,x=!1,T=!1,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J=null,K=null,Q,G,Y,Z,et,tt,nt,rt=!1,it=!1,st,ot,ut,at=0,ft=null,lt,ct=null,ht,pt,dt,vt,mt,gt,yt,bt,wt=Array.prototype.slice,Et=!1,St,xt,Tt,Nt,Ct,kt=c.match(/(ipad|iphone|ipod)/i),Lt=c.match(/msie/i),At=c.match(/webkit/i),Ot=c.match(/safari/i)&&!c.match(/chrome/i),Mt=c.match(/opera/i),_t=c.match(/(mobile|pre\/|xoom)/i)||kt,Dt=!p.match(/usehtml5audio/i)&&!p.match(/sm2\-ignorebadua/i)&&Ot&&!c.match(/silk/i)&&c.match(/OS X 10_6_([3-7])/i),Pt="undefined"!=typeof d.hasFocus?d.hasFocus():null,Ht=Ot&&("undefined"==typeof d.hasFocus||!d.hasFocus()),Bt=!Ht,jt=/(mp3|mp4|mpa|m4a|m4b)/i,Ft=d.location?d.location.protocol.match(/http/i):null,It=Ft?"":"http://",qt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Rt="mpeg4,aac,flv,mov,mp4,m4v,f4v,m4a,m4b,mp4v,3gp,3g2".split(","),Ut=RegExp("\\.("+Rt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!Ft;this._global_a=null;_t&&(a.useHTML5Audio=!0,a.preferFlash=!1,kt)&&(Et=a.ignoreFlash=!0);this.setup=function(e){var t=!a.url;"undefined"!=typeof e&&S&&ct&&a.ok()&&("undefined"!=typeof e.flashVersion||"undefined"!=typeof e.url)&&tt(Q("setupLate"));k(e);t&&I&&"undefined"!=typeof e.url&&a.beginDelayedInit();!I&&"undefined"!=typeof e.url&&"complete"===d.readyState&&setTimeout(j,1);return a};this.supported=this.ok=function(){return ct?S&&!x:a.useHTML5Audio&&a.hasHTML5};this.getMovie=function(e){return l(e)||d[e]||h[e]};this.createSound=function(e,t){function n(){r=Z(r);a.sounds[s.id]=new u(s);a.soundIDs.push(s.id);return a.sounds[s.id]}var r=null,i=null,s=null;if(!S||!a.ok())return tt(void 0),!1;"undefined"!=typeof t&&(e={id:e,url:t});r=C(e);r.url=lt(r.url);s=r;if(nt(s.id,!0))return a.sounds[s.id];if(pt(s))i=n(),i._setup_html5(s);else{8<y&&null===s.isMovieStar&&(s.isMovieStar=!!s.serverURL||!!(s.type&&s.type.match(qt)||s.url.match(Ut)));s=et(s,void 0);i=n();if(8===y)f._createSound(s.id,s.loops||1,s.usePolicyFile);else if(f._createSound(s.id,s.url,s.usePeakData,s.useWaveformData,s.useEQData,s.isMovieStar,s.isMovieStar?s.bufferTime:!1,s.loops||1,s.serverURL,s.duration||null,s.autoPlay,!0,s.autoLoad,s.usePolicyFile),!s.serverURL)i.connected=!0,s.onconnect&&s.onconnect.apply(i);!s.serverURL&&(s.autoLoad||s.autoPlay)&&i.load(s)}!s.serverURL&&s.autoPlay&&i.play();return i};this.destroySound=function(e,t){if(!nt(e))return!1;var n=a.sounds[e],r;n._iO={};n.stop();n.unload();for(r=0;r<a.soundIDs.length;r++)if(a.soundIDs[r]===e){a.soundIDs.splice(r,1);break}t||n.destruct(!0);delete a.sounds[e];return!0};this.load=function(e,t){return nt(e)?a.sounds[e].load(t):!1};this.unload=function(e){return nt(e)?a.sounds[e].unload():!1};this.onposition=this.onPosition=function(e,t,n,r){return nt(e)?a.sounds[e].onposition(t,n,r):!1};this.clearOnPosition=function(e,t,n){return nt(e)?a.sounds[e].clearOnPosition(t,n):!1};this.start=this.play=function(e,t){var n=!1;if(!S||!a.ok())return tt("soundManager.play(): "+Q(S?"notOK":"notReady")),n;if(!nt(e)){t instanceof Object||(t={url:t});t&&t.url&&(t.id=e,n=a.createSound(t).play());return n}return a.sounds[e].play(t)};this.setPosition=function(e,t){return nt(e)?a.sounds[e].setPosition(t):!1};this.stop=function(e){return nt(e)?a.sounds[e].stop():!1};this.stopAll=function(){for(var e in a.sounds)a.sounds.hasOwnProperty(e)&&a.sounds[e].stop()};this.pause=function(e){return nt(e)?a.sounds[e].pause():!1};this.pauseAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].pause()};this.resume=function(e){return nt(e)?a.sounds[e].resume():!1};this.resumeAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].resume()};this.togglePause=function(e){return nt(e)?a.sounds[e].togglePause():!1};this.setPan=function(e,t){return nt(e)?a.sounds[e].setPan(t):!1};this.setVolume=function(e,t){return nt(e)?a.sounds[e].setVolume(t):!1};this.mute=function(e){var t=0;"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].mute():!1;for(t=a.soundIDs.length-1;0<=t;t--)a.sounds[a.soundIDs[t]].mute();return a.muted=!0};this.muteAll=function(){a.mute()};this.unmute=function(e){"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].unmute():!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].unmute();a.muted=!1;return!0};this.unmuteAll=function(){a.unmute()};this.toggleMute=function(e){return nt(e)?a.sounds[e].toggleMute():!1};this.getMemoryUse=function(){var e=0;f&&8!==y&&(e=parseInt(f._getMemoryUse(),10));return e};this.disable=function(e){var t;"undefined"==typeof e&&(e=!1);if(x)return!1;x=!0;for(t=a.soundIDs.length-1;0<=t;t--)X(a.sounds[a.soundIDs[t]]);N(e);bt.remove(h,"load",M);return!0};this.canPlayMIME=function(e){var t;a.hasHTML5&&(t=dt({type:e}));!t&&ct&&(t=e&&a.ok()?!!(8<y&&e.match(qt)||e.match(a.mimePattern)):null);return t};this.canPlayURL=function(e){var t;a.hasHTML5&&(t=dt({url:e}));!t&&ct&&(t=e&&a.ok()?!!e.match(a.filePattern):null);return t};this.canPlayLink=function(e){return"undefined"!=typeof e.type&&e.type&&a.canPlayMIME(e.type)?!0:a.canPlayURL(e.href)};this.getSoundById=function(e){if(!e)throw Error("soundManager.getSoundById(): sID is null/undefined");return a.sounds[e]};this.onready=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","onready");t||(t=h),A("onready",e,t),O();return!0};this.ontimeout=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","ontimeout");t||(t=h),A("ontimeout",e,t),O({type:"ontimeout"});return!0};this._wD=this._writeDebug=function(){return!0};this._debug=function(){};this.reboot=function(){var e,t;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].destruct();if(f)try{Lt&&(K=f.innerHTML);J=f.parentNode.removeChild(f)}catch(n){}K=J=ct=null;a.enabled=I=S=rt=it=w=E=x=a.swfLoaded=!1;a.soundIDs=[];a.sounds={};f=null;for(e in b)if(b.hasOwnProperty(e))for(t=b[e].length-1;0<=t;t--)b[e][t].fired=!1;h.setTimeout(a.beginDelayedInit,20)};this.getMoviePercent=function(){return f&&"undefined"!=typeof f.PercentLoaded?f.PercentLoaded():null};this.beginDelayedInit=function(){T=!0;j();setTimeout(function(){if(it)return!1;R();B();return it=!0},20);_()};this.destruct=function(){a.disable(!0)};u=function(e){var t,n,r=this,i,s,o,u,l,c,h=!1,p=[],d=0,v,m,g=null;t=null;n=null;this.sID=this.id=e.id;this.url=e.url;this._iO=this.instanceOptions=this.options=C(e);this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;this.id3={};this._debug=function(){};this.load=function(e){var t=null;if("undefined"!=typeof e)r._iO=C(e,r.options),r.instanceOptions=r._iO;else if(e=r.options,r._iO=e,r.instanceOptions=r._iO,g&&g!==r.url)r._iO.url=r.url,r.url=null;r._iO.url||(r._iO.url=r.url);r._iO.url=lt(r._iO.url);if(r._iO.url===r.url&&0!==r.readyState&&2!==r.readyState)return 3===r.readyState&&r._iO.onload&&r._iO.onload.apply(r,[!!r.duration]),r;e=r._iO;g=r.url&&r.url.toString?r.url.toString():null;r.loaded=!1;r.readyState=1;r.playState=0;r.id3={};if(pt(e)){if(t=r._setup_html5(e),!t._called_load){r._html5_canplay=!1;r._a.src!==e.url&&(r._a.src=e.url,r.setPosition(0));r._a.autobuffer="auto";r._a.preload="auto";t._called_load=!0;e.autoPlay&&r.play()}}else try{r.isHTML5=!1,r._iO=et(Z(e)),e=r._iO,8===y?f._load(r.id,e.url,e.stream,e.autoPlay,e.whileloading?1:0,e.loops||1,e.usePolicyFile):f._load(r.id,e.url,!!e.stream,!!e.autoPlay,e.loops||1,!!e.autoLoad,e.usePolicyFile)}catch(n){U({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}r.url=e.url;return r};this.unload=function(){if(0!==r.readyState){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a,"about:blank"),r.url="about:blank"}else 8===y?f._unload(r.id,"about:blank"):f._unload(r.id);i()}return r};this.destruct=function(e){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a),Et||o(),r._a._t=null,r._a=null}else r._iO.onfailure=null,f._destroySound(r.id);e||a.destroySound(r.id,!0)};this.start=this.play=function(e,t){var n,i;i=!0;i=null;t="undefined"==typeof t?!0:t;e||(e={});r.url&&(r._iO.url=r.url);r._iO=C(r._iO,r.options);r._iO=C(e,r._iO);r._iO.url=lt(r._iO.url);r.instanceOptions=r._iO;if(r._iO.serverURL&&!r.connected)return r.getAutoPlay()||r.setAutoPlay(!0),r;pt(r._iO)&&(r._setup_html5(r._iO),l());1===r.playState&&!r.paused&&((n=r._iO.multiShot)||(i=r));if(null!==i)return i;e.url&&e.url!==r.url&&r.load(r._iO);if(!r.loaded)if(0===r.readyState){r.isHTML5||(r._iO.autoPlay=!0);r.load(r._iO)}else 2===r.readyState&&(i=r);if(null!==i)return i;!r.isHTML5&&9===y&&0<r.position&&r.position===r.duration&&(e.position=0);if(r.paused&&0<=r.position&&(!r._iO.serverURL||0<r.position))r.resume();else{r._iO=C(e,r._iO);if(null!==r._iO.from&&null!==r._iO.to&&0===r.instanceCount&&0===r.playState&&!r._iO.serverURL){n=function(){r._iO=C(e,r._iO);r.play(r._iO)};r.isHTML5&&!r._html5_canplay?(r.load({_oncanplay:n}),i=!1):!r.isHTML5&&!r.loaded&&(!r.readyState||2!==r.readyState)&&(r.load({onload:n}),i=!1);if(null!==i)return i;r._iO=m()}(!r.instanceCount||r._iO.multiShotEvents||!r.isHTML5&&8<y&&!r.getAutoPlay())&&r.instanceCount++;r._iO.onposition&&0===r.playState&&c(r);r.playState=1;r.paused=!1;r.position="undefined"!=typeof r._iO.position&&!isNaN(r._iO.position)?r._iO.position:0;r.isHTML5||(r._iO=et(Z(r._iO)));r._iO.onplay&&t&&(r._iO.onplay.apply(r),h=!0);r.setVolume(r._iO.volume,!0);r.setPan(r._iO.pan,!0);r.isHTML5?(l(),i=r._setup_html5(),r.setPosition(r._iO.position),i.play()):(i=f._start(r.id,r._iO.loops||1,9===y?r._iO.position:r._iO.position/1e3,r._iO.multiShot),9===y&&!i&&r._iO.onplayerror&&r._iO.onplayerror.apply(r))}return r};this.stop=function(e){var t=r._iO;if(1===r.playState){r._onbufferchange(0);r._resetOnPosition(0);r.paused=!1;r.isHTML5||(r.playState=0);v();t.to&&r.clearOnPosition(t.to);r.isHTML5?r._a&&(e=r.position,r.setPosition(0),r.position=e,r._a.pause(),r.playState=0,r._onTimer(),u()):(f._stop(r.id,e),t.serverURL&&r.unload());r.instanceCount=0;r._iO={};t.onstop&&t.onstop.apply(r)}return r};this.setAutoPlay=function(e){r._iO.autoPlay=e;r.isHTML5||(f._setAutoPlay(r.id,e),e&&!r.instanceCount&&1===r.readyState&&r.instanceCount++)};this.getAutoPlay=function(){return r._iO.autoPlay};this.setPosition=function(e){"undefined"==typeof e&&(e=0);var t=r.isHTML5?Math.max(e,0):Math.min(r.duration||r._iO.duration,Math.max(e,0));r.position=t;e=r.position/1e3;r._resetOnPosition(r.position);r._iO.position=t;if(r.isHTML5){if(r._a&&r._html5_canplay&&r._a.currentTime!==e)try{r._a.currentTime=e,(0===r.playState||r.paused)&&r._a.pause()}catch(n){}}else e=9===y?r.position:e,r.readyState&&2!==r.readyState&&f._setPosition(r.id,e,r.paused||!r.playState,r._iO.multiShot);r.isHTML5&&r.paused&&r._onTimer(!0);return r};this.pause=function(e){if(r.paused||0===r.playState&&1!==r.readyState)return r;r.paused=!0;r.isHTML5?(r._setup_html5().pause(),u()):(e||"undefined"==typeof e)&&f._pause(r.id,r._iO.multiShot);r._iO.onpause&&r._iO.onpause.apply(r);return r};this.resume=function(){var e=r._iO;if(!r.paused)return r;r.paused=!1;r.playState=1;r.isHTML5?(r._setup_html5().play(),l()):(e.isMovieStar&&!e.serverURL&&r.setPosition(r.position),f._pause(r.id,e.multiShot));!h&&e.onplay?(e.onplay.apply(r),h=!0):e.onresume&&e.onresume.apply(r);return r};this.togglePause=function(){if(0===r.playState)return r.play({position:9===y&&!r.isHTML5?r.position:r.position/1e3}),r;r.paused?r.resume():r.pause();return r};this.setPan=function(e,t){"undefined"==typeof e&&(e=0);"undefined"==typeof t&&(t=!1);r.isHTML5||f._setPan(r.id,e);r._iO.pan=e;t||(r.pan=e,r.options.pan=e);return r};this.setVolume=function(e,t){"undefined"==typeof e&&(e=100);"undefined"==typeof t&&(t=!1);r.isHTML5?r._a&&(r._a.volume=Math.max(0,Math.min(1,e/100))):f._setVolume(r.id,a.muted&&!r.muted||r.muted?0:e);r._iO.volume=e;t||(r.volume=e,r.options.volume=e);return r};this.mute=function(){r.muted=!0;r.isHTML5?r._a&&(r._a.muted=!0):f._setVolume(r.id,0);return r};this.unmute=function(){r.muted=!1;var e="undefined"!=typeof r._iO.volume;r.isHTML5?r._a&&(r._a.muted=!1):f._setVolume(r.id,e?r._iO.volume:r.options.volume);return r};this.toggleMute=function(){return r.muted?r.unmute():r.mute()};this.onposition=this.onPosition=function(e,t,n){p.push({position:parseInt(e,10),method:t,scope:"undefined"!=typeof n?n:r,fired:!1});return r};this.clearOnPosition=function(e,t){var n,e=parseInt(e,10);if(isNaN(e))return!1;for(n=0;n<p.length;n++)e===p[n].position&&(!t||t===p[n].method)&&(p[n].fired&&d--,p.splice(n,1))};this._processOnPosition=function(){var e,t;e=p.length;if(!e||!r.playState||d>=e)return!1;for(e-=1;0<=e;e--)if(t=p[e],!t.fired&&r.position>=t.position)t.fired=!0,d++,t.method.apply(t.scope,[t.position]);return!0};this._resetOnPosition=function(e){var t,n;t=p.length;if(!t)return!1;for(t-=1;0<=t;t--)if(n=p[t],n.fired&&e<=n.position)n.fired=!1,d--;return!0};m=function(){var e=r._iO,t=e.from,n=e.to,i,s;s=function(){r.clearOnPosition(n,s);r.stop()};i=function(){null!==n&&!isNaN(n)&&r.onPosition(n,s)};null!==t&&!isNaN(t)&&(e.position=t,e.multiShot=!1,i());return e};c=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.onPosition(parseInt(e,10),t[e])};v=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.clearOnPosition(parseInt(e,10))};l=function(){r.isHTML5&&st(r)};u=function(){r.isHTML5&&ot(r)};i=function(e){e||(p=[],d=0);h=!1;r._hasTimer=null;r._a=null;r._html5_canplay=!1;r.bytesLoaded=null;r.bytesTotal=null;r.duration=r._iO&&r._iO.duration?r._iO.duration:null;r.durationEstimate=null;r.buffered=[];r.eqData=[];r.eqData.left=[];r.eqData.right=[];r.failures=0;r.isBuffering=!1;r.instanceOptions={};r.instanceCount=0;r.loaded=!1;r.metadata={};r.readyState=0;r.muted=!1;r.paused=!1;r.peakData={left:0,right:0};r.waveformData={left:[],right:[]};r.playState=0;r.position=null;r.id3={}};i();this._onTimer=function(e){var i,s=!1,o={};if(r._hasTimer||e){if(r._a&&(e||(0<r.playState||1===r.readyState)&&!r.paused)){i=r._get_html5_duration();i!==t&&(t=i,r.duration=i,s=!0);r.durationEstimate=r.duration;i=1e3*r._a.currentTime||0;i!==n&&(n=i,s=!0);(s||e)&&r._whileplaying(i,o,o,o,o)}return s}};this._get_html5_duration=function(){var e=r._iO;return(e=r._a&&r._a.duration?1e3*r._a.duration:e&&e.duration?e.duration:null)&&!isNaN(e)&&Infinity!==e?e:null};this._apply_loop=function(e,t){e.loop=1<t?"loop":""};this._setup_html5=function(e){var e=C(r._iO,e),t=decodeURI,n=Et?a._global_a:r._a,o=t(e.url),u=n&&n._t?n._t.instanceOptions:null,f;if(n){if(n._t){!Et&&o===t(g)?f=n:Et&&u.url===e.url&&(!g||g===u.url)&&(f=n);if(f)return r._apply_loop(n,e.loops),f}Et&&n._t&&n._t.playState&&e.url!==u.url&&n._t.stop();i(u&&u.url?e.url===u.url:g?g===e.url:!1);n.src=e.url;g=r.url=e.url;n._called_load=!1}else if(r._a=e.autoLoad||e.autoPlay?new Audio(e.url):Mt&&10>opera.version()?new Audio(null):new Audio,n=r._a,n._called_load=!1,Et)a._global_a=n;r.isHTML5=!0;r._a=n;n._t=r;s();r._apply_loop(n,e.loops);e.autoLoad||e.autoPlay?r.load():(n.autobuffer=!1,n.preload="auto");return n};s=function(){if(r._a._added_events)return!1;var e;r._a._added_events=!0;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.addEventListener(e,Nt[e],!1);return!0};o=function(){var e;r._a._added_events=!1;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.removeEventListener(e,Nt[e],!1)};this._onload=function(e){e=!!e||!r.isHTML5&&8===y&&r.duration;r.loaded=e;r.readyState=e?3:2;r._onbufferchange(0);r._iO.onload&&r._iO.onload.apply(r,[e]);return!0};this._onbufferchange=function(e){if(0===r.playState||e&&r.isBuffering||!e&&!r.isBuffering)return!1;r.isBuffering=1===e;r._iO.onbufferchange&&r._iO.onbufferchange.apply(r);return!0};this._onsuspend=function(){r._iO.onsuspend&&r._iO.onsuspend.apply(r);return!0};this._onfailure=function(e,t,n){r.failures++;r._iO.onfailure&&1===r.failures&&r._iO.onfailure(r,e,t,n)};this._onfinish=function(){var e=r._iO.onfinish;r._onbufferchange(0);r._resetOnPosition(0);if(r.instanceCount){r.instanceCount--;!r.instanceCount&&(v(),r.playState=0,r.paused=!1,r.instanceCount=0,r.instanceOptions={},r._iO={},u(),r.isHTML5)&&(r.position=0);(!r.instanceCount||r._iO.multiShotEvents)&&e&&e.apply(r)}};this._whileloading=function(e,t,n,i){var s=r._iO;r.bytesLoaded=e;r.bytesTotal=t;r.duration=Math.floor(n);r.bufferLength=i;r.durationEstimate=!r.isHTML5&&!s.isMovieStar?s.duration?r.duration>s.duration?r.duration:s.duration:parseInt(r.bytesTotal/r.bytesLoaded*r.duration,10):r.duration;r.isHTML5||(r.buffered=[{start:0,end:r.duration}]);(3!==r.readyState||r.isHTML5)&&s.whileloading&&s.whileloading.apply(r)};this._whileplaying=function(e,t,n,i,s){var o=r._iO;if(isNaN(e)||null===e)return!1;r.position=Math.max(0,e);r._processOnPosition();if(!r.isHTML5&&8<y){o.usePeakData&&"undefined"!=typeof t&&t&&(r.peakData={left:t.leftPeak,right:t.rightPeak});o.useWaveformData&&"undefined"!=typeof n&&n&&(r.waveformData={left:n.split(","),right:i.split(",")});o.useEQData&&"undefined"!=typeof s&&s&&s.leftEQ&&(e=s.leftEQ.split(","),r.eqData=e,r.eqData.left=e,"undefined"!=typeof s.rightEQ&&s.rightEQ)&&(r.eqData.right=s.rightEQ.split(","))}1===r.playState&&(!r.isHTML5&&8===y&&!r.position&&r.isBuffering&&r._onbufferchange(0),o.whileplaying&&o.whileplaying.apply(r));return!0};this._oncaptiondata=function(e){r.captiondata=e;r._iO.oncaptiondata&&r._iO.oncaptiondata.apply(r,[e])};this._onmetadata=function(e,t){var n={},i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.metadata=n;r._iO.onmetadata&&r._iO.onmetadata.apply(r)};this._onid3=
function(e,t){var n=[],i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.id3=C(r.id3,n);r._iO.onid3&&r._iO.onid3.apply(r)};this._onconnect=function(e){e=1===e;if(r.connected=e)r.failures=0,nt(r.id)&&(r.getAutoPlay()?r.play(void 0,r.getAutoPlay()):r._iO.autoLoad&&r.load()),r._iO.onconnect&&r._iO.onconnect.apply(r,[e])};this._ondataerror=function(){0<r.playState&&r._iO.ondataerror&&r._iO.ondataerror.apply(r)}};q=function(){return d.body||d._docElement||d.getElementsByTagName("div")[0]};l=function(e){return d.getElementById(e)};C=function(e,t){var n=e||{},r,i;r="undefined"==typeof t?a.defaultOptions:t;for(i in r)r.hasOwnProperty(i)&&"undefined"==typeof n[i]&&(n[i]="object"!=typeof r[i]||null===r[i]?r[i]:C(n[i],r[i]));return n};L={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};k=function(e,t){var n,r=!0,i="undefined"!=typeof t,s=a.setupOptions;for(n in e)if(e.hasOwnProperty(n))if("object"!=typeof e[n]||null===e[n]||e[n]instanceof Array)i&&"undefined"!=typeof L[t]?a[t][n]=e[n]:"undefined"!=typeof s[n]?(a.setupOptions[n]=e[n],a[n]=e[n]):"undefined"==typeof L[n]?(tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1):a[n]instanceof Function?a[n].apply(a,e[n]instanceof Array?e[n]:[e[n]]):a[n]=e[n];else{if("undefined"!=typeof L[n])return k(e[n],n);tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1}return r};bt=function(){function e(e){var e=wt.call(e),t=e.length;n?(e[1]="on"+e[1],3<t&&e.pop()):3===t&&e.push(!1);return e}function t(e,t){var i=e.shift(),s=[r[t]];n?i[s](e[0],e[1]):i[s].apply(i,e)}var n=h.attachEvent,r={add:n?"attachEvent":"addEventListener",remove:n?"detachEvent":"removeEventListener"};return{add:function(){t(e(arguments),"add")},remove:function(){t(e(arguments),"remove")}}}();Nt={abort:i(function(){}),canplay:i(function(){var e=this._t,t;if(e._html5_canplay)return!0;e._html5_canplay=!0;e._onbufferchange(0);t="undefined"!=typeof e._iO.position&&!isNaN(e._iO.position)?e._iO.position/1e3:null;if(e.position&&this.currentTime!==t)try{this.currentTime=t}catch(n){}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:i(function(){var e=this._t;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),ended:i(function(){this._t._onfinish()}),error:i(function(){this._t._onload(!1)}),loadeddata:i(function(){var e=this._t;!e._loaded&&!Ot&&(e.duration=e._get_html5_duration())}),loadedmetadata:i(function(){}),loadstart:i(function(){this._t._onbufferchange(1)}),play:i(function(){this._t._onbufferchange(0)}),playing:i(function(){this._t._onbufferchange(0)}),progress:i(function(e){var t=this._t,n,r,i=0,i=e.target.buffered;n=e.loaded||0;var s=e.total||1;t.buffered=[];if(i&&i.length){for(n=0,r=i.length;n<r;n++)t.buffered.push({start:1e3*i.start(n),end:1e3*i.end(n)});i=1e3*(i.end(0)-i.start(0));n=i/(1e3*e.target.duration)}isNaN(n)||(t._onbufferchange(0),t._whileloading(n,s,t._get_html5_duration()),n&&s&&n===s&&Nt.canplaythrough.call(this,e))}),ratechange:i(function(){}),suspend:i(function(e){var t=this._t;Nt.progress.call(this,e);t._onsuspend()}),stalled:i(function(){}),timeupdate:i(function(){this._t._onTimer()}),waiting:i(function(){this._t._onbufferchange(1)})};pt=function(e){return e.serverURL||e.type&&r(e.type)?!1:e.type?dt({type:e.type}):dt({url:e.url})||a.html5Only};mt=function(e,t){e&&(e.src=t)};dt=function(e){if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t=e.url||null,e=e.type||null,n=a.audioFormats,i;if(e&&"undefined"!=typeof a.html5[e])return a.html5[e]&&!r(e);if(!vt){vt=[];for(i in n)n.hasOwnProperty(i)&&(vt.push(i),n[i].related&&(vt=vt.concat(n[i].related)));vt=RegExp("\\.("+vt.join("|")+")(\\?.*)?$","i")}i=t?t.toLowerCase().match(vt):null;!i||!i.length?e&&(t=e.indexOf(";"),i=(-1!==t?e.substr(0,t):e).substr(6)):i=i[1];i&&"undefined"!=typeof a.html5[i]?t=a.html5[i]&&!r(i):(e="audio/"+i,t=a.html5.canPlayType({type:e}),t=(a.html5[i]=t)&&a.html5[e]&&!r(e));return t};yt=function(){function e(e){var n,r,i=n=!1;if(!t||"function"!=typeof t.canPlayType)return n;if(e instanceof Array){for(n=0,r=e.length;n<r;n++)if(a.html5[e[n]]||t.canPlayType(e[n]).match(a.html5Test))i=!0,a.html5[e[n]]=!0,a.flash[e[n]]=!!e[n].match(jt);n=i}else e=t&&"function"==typeof t.canPlayType?t.canPlayType(e):!1,n=!!e&&!!e.match(a.html5Test);return n}if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t="undefined"!=typeof Audio?Mt&&10>opera.version()?new Audio(null):new Audio:null,n,r,i={},s;s=a.audioFormats;for(n in s)if(s.hasOwnProperty(n)&&(r="audio/"+n,i[n]=e(s[n].type),i[r]=i[n],n.match(jt)?(a.flash[n]=!0,a.flash[r]=!0):(a.flash[n]=!1,a.flash[r]=!1),s[n]&&s[n].related))for(r=s[n].related.length-1;0<=r;r--)i["audio/"+s[n].related[r]]=i[n],a.html5[s[n].related[r]]=i[n],a.flash[s[n].related[r]]=i[n];i.canPlayType=t?e:null;a.html5=C(a.html5,i);return!0};Q=function(){};Z=function(e){8===y&&1<e.loops&&e.stream&&(e.stream=!1);return e};et=function(e){e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(e.usePolicyFile=!0);return e};tt=function(){};v=function(){return!1};X=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=v)};V=function(e){"undefined"==typeof e&&(e=!1);(x||e)&&a.disable(e)};$=function(e){var t=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");e=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+a.movieURL;a.noSWFCache&&(e+="?ts="+(new Date).getTime());return e};P=function(){y=parseInt(a.flashVersion,10);8!==y&&9!==y&&(a.flashVersion=y=8);var e=a.debugMode||a.debugFlash?"_debug.swf":".swf";a.useHTML5Audio&&!a.html5Only&&a.audioFormats.mp4.required&&9>y&&(a.flashVersion=y=9);a.version=a.versionNumber+(a.html5Only?" (HTML5-only mode)":9===y?" (AS3/Flash 9)":" (AS2/Flash 8)");8<y?(a.defaultOptions=C(a.defaultOptions,a.flash9Options),a.features.buffering=!0,a.defaultOptions=C(a.defaultOptions,a.movieStarOptions),a.filePatterns.flash9=RegExp("\\.(mp3|"+Rt.join("|")+")(\\?.*)?$","i"),a.features.movieStar=!0):a.features.movieStar=!1;a.filePattern=a.filePatterns[8!==y?"flash9":"flash8"];a.movieURL=(8===y?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e);a.features.peakData=a.features.waveformData=a.features.eqData=8<y};z=function(e,t){if(!f)return!1;f._setPolling(e,t)};W=function(){a.debugURLParam.test(p)&&(a.debugMode=!0)};nt=this.getSoundById;Y=function(){var e=[];a.debugMode&&e.push("sm2_debug");a.debugFlash&&e.push("flash_debug");a.useHighPerformance&&e.push("high_performance");return e.join(" ")};G=function(){Q("fbHandler");var e=a.getMoviePercent(),t={type:"FLASHBLOCK"};if(a.html5Only)return!1;if(a.ok())a.oMC&&(a.oMC.className=[Y(),"movieContainer","swf_loaded"+(a.didFlashBlock?" swf_unblocked":"")].join(" "));else{ct&&(a.oMC.className=Y()+" movieContainer "+(null===e?"swf_timedout":"swf_error"));a.didFlashBlock=!0;O({type:"ontimeout",ignoreInit:!0,error:t});U(t)}};A=function(e,t,n){"undefined"==typeof b[e]&&(b[e]=[]);b[e].push({method:t,scope:n||null,fired:!1})};O=function(e){e||(e={type:a.ok()?"onready":"ontimeout"});if(!S&&e&&!e.ignoreInit||"ontimeout"===e.type&&(a.ok()||x&&!e.ignoreInit))return!1;var t={success:e&&e.ignoreInit?a.ok():!x},n=e&&e.type?b[e.type]||[]:[],r=[],i,t=[t],s=ct&&a.useFlashBlock&&!a.ok();e.error&&(t[0].error=e.error);for(e=0,i=n.length;e<i;e++)!0!==n[e].fired&&r.push(n[e]);if(r.length)for(e=0,i=r.length;e<i;e++)if(r[e].scope?r[e].method.apply(r[e].scope,t):r[e].method.apply(this,t),!s)r[e].fired=!0;return!0};M=function(){h.setTimeout(function(){a.useFlashBlock&&G();O();"function"==typeof a.onload&&a.onload.apply(h);a.waitForWindowLoad&&bt.add(h,"load",M)},1)};xt=function(){if("undefined"!=typeof St)return St;var e=!1,t=navigator,n=t.plugins,r,i=h.ActiveXObject;if(n&&n.length)(t=t.mimeTypes)&&t["application/x-shockwave-flash"]&&t["application/x-shockwave-flash"].enabledPlugin&&t["application/x-shockwave-flash"].enabledPlugin.description&&(e=!0);else if("undefined"!=typeof i){try{r=new i("ShockwaveFlash.ShockwaveFlash")}catch(s){}e=!!r}return St=e};ht=function(){var e,t,n=a.audioFormats;if(kt&&c.match(/os (1|2|3_0|3_1)/i)){if(a.hasHTML5=!1,a.html5Only=!0,a.oMC)a.oMC.style.display="none"}else a.useHTML5Audio&&(!a.html5||!a.html5.canPlayType)&&(a.hasHTML5=!1);if(a.useHTML5Audio&&a.hasHTML5)for(t in n)n.hasOwnProperty(t)&&(n[t].required&&!a.html5.canPlayType(n[t].type)||a.preferFlash&&(a.flash[t]||a.flash[n[t].type]))&&(e=!0);a.ignoreFlash&&(e=!1);a.html5Only=a.hasHTML5&&a.useHTML5Audio&&!e;return!a.html5Only};lt=function(e){var t,n,r=0;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(a.canPlayMIME(e[t].type)){r=t;break}}else if(a.canPlayURL(e[t])){r=t;break}e[r].url&&(e[r]=e[r].url);e=e[r]}return e};st=function(e){e._hasTimer||(e._hasTimer=!0,!_t&&a.html5PollingInterval&&(null===ft&&0===at&&(ft=h.setInterval(ut,a.html5PollingInterval)),at++))};ot=function(e){e._hasTimer&&(e._hasTimer=!1,!_t&&a.html5PollingInterval&&at--)};ut=function(){var e;if(null!==ft&&!at)return h.clearInterval(ft),ft=null,!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].isHTML5&&a.sounds[a.soundIDs[e]]._hasTimer&&a.sounds[a.soundIDs[e]]._onTimer()};U=function(e){e="undefined"!=typeof e?e:{};"function"==typeof a.onerror&&a.onerror.apply(h,[{type:"undefined"!=typeof e.type?e.type:null}]);"undefined"!=typeof e.fatal&&e.fatal&&a.disable()};Tt=function(){if(!Dt||!xt())return!1;var e=a.audioFormats,t,n;for(n in e)if(e.hasOwnProperty(n)&&("mp3"===n||"mp4"===n))if(a.html5[n]=!1,e[n]&&e[n].related)for(t=e[n].related.length-1;0<=t;t--)a.html5[e[n].related[t]]=!1};this._setSandboxType=function(){};this._externalInterfaceOK=function(){if(a.swfLoaded)return!1;(new Date).getTime();a.swfLoaded=!0;Ht=!1;Dt&&Tt();setTimeout(g,Lt?100:1)};R=function(e,t){function n(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(w&&E)return!1;if(a.html5Only)return P(),a.oMC=l(a.movieID),g(),E=w=!0,!1;var r=t||a.url,i=a.altURL||r,s=q(),o=Y(),u=null,u=d.getElementsByTagName("html")[0],f,h,p,u=u&&u.dir&&u.dir.match(/rtl/i),e="undefined"==typeof e?a.id:e;P();a.url=$(Ft?r:i);t=a.url;a.wmode=!a.wmode&&a.useHighPerformance?"transparent":a.wmode;null!==a.wmode&&(c.match(/msie 8/i)||!Lt&&!a.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(a.wmode=null);s={name:e,id:e,src:t,quality:"high",allowScriptAccess:a.allowScriptAccess,bgcolor:a.bgColor,pluginspage:It+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:a.wmode,hasPriority:"true"};a.debugFlash&&(s.FlashVars="debug=1");a.wmode||delete s.wmode;if(Lt)r=d.createElement("div"),h=['<object id="'+e+'" data="'+t+'" type="'+s.type+'" title="'+s.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+It+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',n("movie",t),n("AllowScriptAccess",a.allowScriptAccess),n("quality",s.quality),a.wmode?n("wmode",a.wmode):"",n("bgcolor",a.bgColor),n("hasPriority","true"),a.debugFlash?n("FlashVars",s.FlashVars):"","</object>"].join("");else for(f in r=d.createElement("embed"),s)s.hasOwnProperty(f)&&r.setAttribute(f,s[f]);W();o=Y();if(s=q())if(a.oMC=l(a.movieID)||d.createElement("div"),a.oMC.id){p=a.oMC.className;a.oMC.className=(p?p+" ":"movieContainer")+(o?" "+o:"");a.oMC.appendChild(r);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}else{a.oMC.id=a.movieID;a.oMC.className="movieContainer "+o;f=o=null;if(!a.useFlashBlock)if(a.useHighPerformance)o={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"};else if(o={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},u)o.left=Math.abs(parseInt(o.left,10))+"px";At&&(a.oMC.style.zIndex=1e4);if(!a.debugFlash)for(p in o)o.hasOwnProperty(p)&&(a.oMC.style[p]=o[p]);try{Lt||a.oMC.appendChild(r);s.appendChild(a.oMC);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}catch(v){throw Error(Q("domError")+" \n"+v.toString())}}return w=!0};B=function(){if(a.html5Only)return R(),!1;if(f||!a.url)return!1;f=a.getMovie(a.id);f||(J?(Lt?a.oMC.innerHTML=K:a.oMC.appendChild(J),J=null,w=!0):R(a.id,a.url),f=a.getMovie(a.id));"function"==typeof a.oninitmovie&&setTimeout(a.oninitmovie,1);return!0};_=function(){setTimeout(D,1e3)};D=function(){var e,t=!1;if(!a.url||rt)return!1;rt=!0;bt.remove(h,"load",_);if(Ht&&!Pt)return!1;S||(e=a.getMoviePercent(),0<e&&100>e&&(t=!0));setTimeout(function(){e=a.getMoviePercent();if(t)return rt=!1,h.setTimeout(_,1),!1;!S&&Bt&&(null===e?a.useFlashBlock||0===a.flashLoadTimeout?a.useFlashBlock&&G():V(!0):0!==a.flashLoadTimeout&&V(!0))},a.flashLoadTimeout)};H=function(){if(Pt||!Ht)return bt.remove(h,"focus",H),!0;Pt=Bt=!0;rt=!1;_();bt.remove(h,"focus",H);return!0};Ct=function(){};N=function(e){if(S)return!1;if(a.html5Only)return S=!0,M(),!0;var t=!0,n;if(!a.useFlashBlock||!a.flashLoadTimeout||a.getMoviePercent())S=!0,x&&(n={type:!St&&ct?"NO_FLASH":"INIT_TIMEOUT"});if(x||e){a.useFlashBlock&&a.oMC&&(a.oMC.className=Y()+" "+(null===a.getMoviePercent()?"swf_timedout":"swf_error"));O({type:"ontimeout",error:n,ignoreInit:!0});U(n);t=!1}x||(a.waitForWindowLoad&&!T?bt.add(h,"load",M):M());return t};m=function(){var e,t=a.setupOptions;for(e in t)t.hasOwnProperty(e)&&("undefined"==typeof a[e]?a[e]=t[e]:a[e]!==t[e]&&(a.setupOptions[e]=a[e]))};g=function(){if(S)return!1;if(a.html5Only){S||(bt.remove(h,"load",a.beginDelayedInit),a.enabled=!0,N());return!0}B();try{f._externalInterfaceTest(!1),z(!0,a.flashPollingInterval||(a.useHighPerformance?10:50)),a.debugMode||f._disableDebug(),a.enabled=!0,a.html5Only||bt.add(h,"unload",v)}catch(e){return U({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),V(!0),N(),!1}N();bt.remove(h,"load",a.beginDelayedInit);return!0};j=function(){if(I)return!1;I=!0;m();W();!St&&a.hasHTML5&&a.setup({useHTML5Audio:!0,preferFlash:!1});yt();a.html5.usingFlash=ht();ct=a.html5.usingFlash;Ct();!St&&ct&&a.setup({flashLoadTimeout:1});d.removeEventListener&&d.removeEventListener("DOMContentLoaded",j,!1);B();return!0};gt=function(){"complete"===d.readyState&&(j(),d.detachEvent("onreadystatechange",gt));return!0};F=function(){T=!0;bt.remove(h,"load",F)};xt();bt.add(h,"focus",H);bt.add(h,"load",_);bt.add(h,"load",F);d.addEventListener?d.addEventListener("DOMContentLoaded",j,!1):d.attachEvent?d.attachEvent("onreadystatechange",gt):U({type:"NO_DOM2_EVENTS",fatal:!0})}var n=null;if("undefined"==typeof SM2_DEFER||!SM2_DEFER)n=new t;e.SoundManager=t;e.soundManager=n})(window);__slice=[].slice;typeof soundManager!="undefined"&&soundManager.setup({url:"swf/",flashVersion:9,useFlashBlock:!1,useHighPerformance:!0,wmode:"transparent",useFastPolling:!0,debugFlash:!1,debugMode:!1});var SoundCloudPlayer=function(e,t){var n={loop:!1,start_on:0,autoplay:!1,autoswitch:!0,volume:100,toggle_pause:!0,cache:!0,preload:!1,debug:!1},r="http://api.soundcloud.com/resolve?url=http://soundcloud.com",i=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi),s=this,o=jQuery(this);this.tracks=[];this.config=jQuery.extend(n,t);this.current_track_index=this.config.start_on;this.current_track=null;this.sound=null;this.inited=!1;this.play_when_ready=!1;this.cache={};this.init=function(){if(s.inited)return;s.change_track();s.trigger("scplayer.init");s.config.autoplay&&s.play();s.inited=!0};this.change_track=function(e){s.log("change_track");if(s.sound){s.sound.destruct();s.sound=null}var t=typeof e!="undefined"?e:s.current_track_index;if(e!=s.current_track_index||!e){var n=s.tracks[t];s.resolve_track(n,s.set_sound);s.trigger("scplayer.changing_track",t)}return s};this.play=function(){s.log("play");s.sound&&s.sound.readyState==3?s.sound.play():s.play_when_ready=!0;s.trigger("scplayer.play",s.current_track_index);return s};this.pause=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.pause();s.trigger("scplayer.pause",s.sound.paused)}return s};this.resume=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.resume();s.trigger("scplayer.pause",s.sound.paused)}return s};this.stop=function(){s.sound&&s.sound.stop();s.trigger("scplayer.stop");s.log("stop");return s};this.next=function(e){s.log("next");s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;s.log(s.play_when_ready);if(s.tracks[s.current_track_index+1]){s.current_track_index++;s.change_track();s.trigger("scplayer.playlist.next",s.current_track_index-1,s.current_track_index);s.log("has next")}else if(s.config.loop){s.current_track_index=0;s.change_track();s.trigger("scplayer.playlist.looped");s.log("looped")}else{s.current_track_index=s.tracks.length-1;s.trigger("scplayer.playlist.ended");s.log("no mas")}return s};this.prev=function(e){s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;if(s.tracks[s.current_track_index-1]){s.current_track_index--;s.change_track();s.trigger("scplayer.playlist.prev")}else if(s.config.loop){s.current_track_index=s.tracks.length-1;s.change_track();s.trigger("scplayer.playlist.looped")}else{s.current_track_index=0;s.trigger("scplayer.playlist.restarted")}return s};this.goto=function(e,t){s.log("goto");s.play_when_ready=typeof t!="undefined"?t:s.config.autoswitch;if(s.tracks[e]){s.current_track_index=e;s.trigger("scplayer.playlist.goto");s.change_track()}return s};this.restart_track=function(){s.position(0);return s};this.mute=function(){s.sound&&s.sound.toggleMute();s.trigger("scplayer.mute",s.sound.muted);return s};this.has_next=function(){s.log("has next");return s.tracks[s.current_track_index+1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.has_prev=function(){return s.tracks[s.current_track_index-1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.get_time=function(){var e=this.position(),t=e%1e3,n=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),i=Math.floor(e/36e5%24),o=r+":"+s.pad(n);i>0&&(o=i+":"+o);return o};this.position=function(e){if(s.sound){if(e||e===0){e=Math.min(s.sound.duration,e);e=Math.max(0,e);s.trigger("scplayer.position",e);return s.sound.setPosition(e)}s.trigger("scplayer.position",s.sound.position);return s.sound.position}return 0};this.volume=function(e){if(s.sound){if(e||e===0){e=Math.min(100,e);e=Math.max(0,e);s.trigger("scplayer.volume",e);s.config.volume=e;return s.sound.setVolume(e)}s.trigger("scplayer.volume",s.sound.volume);return s.sound.volume}return s.config.volume};this.seek=function(e){var t=s.current_track.duration*e;s.position(t);return s};this.loop=function(e){if(e){s.config.loop=e;s.trigger("scplayer.loop_changed",s.config.loop)}return s.config.loop};this.track_info=function(e){s.isNumeric(e)&&(e=s.tracks[e]);return s.resolve_track(e)};this.on=function(e,t){return o.on(e,t)};this.trigger=function(e){var t=arguments.length>1?__slice.call(arguments,1):[];return o.trigger(e,t)};this.destroy=function(){s.sound&&s.sound.destruct();s.tracks=[];o.off();o.remove();s.tracks=null;s.track=null;s=null;delete s.tracks;delete s.track;delete s;delete this};s.get_track=function(){return s.current_track};s.get_track_index=function(){return s.current_track_index};s.get_sound=function(){return s.sound};s.get_playlist=function(){return s.tracks};s.set_cache=function(e,t){s.config.cache===!0&&(s.cache[e]=t)};s.get_cache=function(e){return s.config.cache===!0?s.cache[e]||null:null};s.set_sound=function(e){s.log("set_sound");s.trigger("scplayer.track.info_loaded",e);s.current_track=e;var t=e.stream_url;t+=t.indexOf("secret_token")==-1?"?":"&";t+="consumer_key="+s.config.consumer_key;s.sound=soundManager.createSound({autoLoad:!0,id:"track_"+e.id,multiShot:!1,loops:1,url:t,volume:s.config.volume,whileloading:function(){var e=Math.round(this.bytesLoaded/this.bytesTotal*100);s.trigger("scplayer.track.whileloading",e)},whileplaying:function(){var t=Math.round(this.position/e.duration*100*10)/10;s.trigger("scplayer.track.whileplaying",t)},onplay:function(){s.log("track.onplay");s.trigger("scplayer.track.played")},onresume:function(){s.trigger("scplayer.track.resumed")},onstop:function(){s.trigger("scplayer.track.stopped")},onpause:function(){s.trigger("scplayer.track.paused")},onfinish:function(){s.trigger("scplayer.track.finished")},onload:function(){s.log("onload");s.trigger("scplayer.track.ready",s.current_track_index,s.current_track)}});s.trigger("scplayer.track.bindable",e,s.sound)};s.resolve_track=function(e,t){var n=new jQuery.Deferred;if(e.match(i)&&e.search(/soundcloud\.com/i)===-1){var o={stream_url:e,id:0,permalink_url:e,duration:0};n.resolve(o)}e=e.replace(/https?\:\/\/soundcloud\.com/gi,"");if(s.config.cache===!0){var u=s.get_cache(e);if(u&&t){n.done(function(){t(u)}).resolve();return n}}n.done(function(n){if(n.tracks&&n.tracks.length>0){var r=s.parse_tracks(e,n.tracks);n=r[0]}else s.config.cache===!0&&s.set_cache(e,n);t&&t(n)});jQuery.ajax({url:r+e+"&format=json"+"&consumer_key="+s.config.consumer_key+"&callback=?",dataType:"jsonp",error:function(e,t,r){n.reject(e,t,r)},success:function(e){n.resolve(e)}});return n};s.preload_sc_tracks=function(e){var t=[];for(var n=0,r=s.tracks.length;n<r;n++){var i=s.tracks[n],o=s.resolve_track(i);t.push(o)}jQuery.when.apply(jQuery,t).then(function(){s.trigger("scplayer.playlist.preloaded");e&&e()},function(){s.log("promises failed to preload tracks")})};s.parse_tracks=function(e,t){var n=[],r=[],i=s.tracks.indexOf(e);for(var o=0,u=t.length;o<u;o++){var a=t[o],f=a.permalink_url.substring(21);s.config.cache===!0&&s.set_cache(f,a);n.push(a);r.push(f)}var l=[i,1].concat(r);s.tracks.splice.apply(s.tracks,l);return n};s.add_tracks=function(e){typeof e=="string"&&(e=[e]);if(e!=null&&e.length>0){s.tracks=s.tracks.concat(e);s.config.preload==1?s.preload_sc_tracks.call(s,s.init):s.init.call(s)}};s.log=function(){s.config.debug&&window.console&&console.log.apply(console,arguments)};s.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};s.pad=function(e){return(e<10?"0":"")+e};s.on("scplayer.track.ready",function(e){s.log("track.onready!!!");if(s.play_when_ready==1){s.play();s.play_when_ready=!1}});s.on("scplayer.track.finished",function(e){s.log("track finished");if(s.config.autoswitch&&(s.config.loop||s.has_next())){s.log("finished and autoswitch");s.next().play()}});s.on("scplayer.playlist.ended",function(e){s.log("playlist ended");s.config.loop||s.stop()});soundManager.onready(function(){s.log("SOUNDMANAGER2 ready!!");s.add_tracks(e)});soundManager.ontimeout(function(){window.console&&console.log("SOUNDMANAGER2 TIMEDOUT!!")});return{play:this.play,pause:this.pause,resume:this.resume,stop:this.stop,next:this.next,prev:this.prev,mute:this.mute,get_time:this.get_time,volume:this.volume,restart_track:this.restart_track,"goto":this.goto,position:this.position,seek:this.seek,track_info:this.track_info,has_next:this.has_next,has_prev:this.has_prev,on:this.on,trigger:this.trigger,track:this.get_track,track_index:this.get_track_index,sound:this.get_sound,playlist:this.get_playlist,destroy:this.destroy,add_tracks:this.add_tracks}};(function(e){function t(t,n){function r(e){return a.preferFlash&&St&&!a.ignoreFlash&&"undefined"!=typeof a.flash[e]&&a.flash[e]}function i(e){return function(t){var n=this._t;return!n||!n._a?null:e.call(this,t)}}this.setupOptions={url:t||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=n||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20120916";this.altURL=this.movieURL=this.version=null;this.enabled=this.swfLoaded=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.didFlashBlock=this.muted=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={};var s;try{s="undefined"!=typeof Audio&&"undefined"!=typeof (Mt&&10>opera.version()?new Audio(null):new Audio).canPlayType}catch(o){s=!1}this.hasHTML5=s;this.html5={usingFlash:null};this.flash={};this.ignoreFlash=this.html5Only=!1;var u,a=this,f=null,l,c=navigator.userAgent,h=e,p=h.location.href.toString(),d=document,v,m,g,y,b=[],w=!1,E=!1,S=!1,x=!1,T=!1,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J=null,K=null,Q,G,Y,Z,et,tt,nt,rt=!1,it=!1,st,ot,ut,at=0,ft=null,lt,ct=null,ht,pt,dt,vt,mt,gt,yt,bt,wt=Array.prototype.slice,Et=!1,St,xt,Tt,Nt,Ct,kt=c.match(/(ipad|iphone|ipod)/i),Lt=c.match(/msie/i),At=c.match(/webkit/i),Ot=c.match(/safari/i)&&!c.match(/chrome/i),Mt=c.match(/opera/i),_t=c.match(/(mobile|pre\/|xoom)/i)||kt,Dt=!p.match(/usehtml5audio/i)&&!p.match(/sm2\-ignorebadua/i)&&Ot&&!c.match(/silk/i)&&c.match(/OS X 10_6_([3-7])/i),Pt="undefined"!=typeof d.hasFocus?d.hasFocus():null,Ht=Ot&&("undefined"==typeof d.hasFocus||!d.hasFocus()),Bt=!Ht,jt=/(mp3|mp4|mpa|m4a|m4b)/i,Ft=d.location?d.location.protocol.match(/http/i):null,It=Ft?"":"http://",qt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Rt="mpeg4,aac,flv,mov,mp4,m4v,f4v,m4a,m4b,mp4v,3gp,3g2".split(","),Ut=RegExp("\\.("+Rt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!Ft;this._global_a=null;_t&&(a.useHTML5Audio=!0,a.preferFlash=!1,kt)&&(Et=a.ignoreFlash=!0);this.setup=function(e){var t=!a.url;"undefined"!=typeof e&&S&&ct&&a.ok()&&("undefined"!=typeof e.flashVersion||"undefined"!=typeof e.url)&&tt(Q("setupLate"));k(e);t&&I&&"undefined"!=typeof e.url&&a.beginDelayedInit();!I&&"undefined"!=typeof e.url&&"complete"===d.readyState&&setTimeout(j,1);return a};this.supported=this.ok=function(){return ct?S&&!x:a.useHTML5Audio&&a.hasHTML5};this.getMovie=function(e){return l(e)||d[e]||h[e]};this.createSound=function(e,t){function n(){r=Z(r);a.sounds[s.id]=new u(s);a.soundIDs.push(s.id);return a.sounds[s.id]}var r=null,i=null,s=null;if(!S||!a.ok())return tt(void 0),!1;"undefined"!=typeof t&&(e={id:e,url:t});r=C(e);r.url=lt(r.url);s=r;if(nt(s.id,!0))return a.sounds[s.id];if(pt(s))i=n(),i._setup_html5(s);else{8<y&&null===s.isMovieStar&&(s.isMovieStar=!!s.serverURL||!!(s.type&&s.type.match(qt)||s.url.match(Ut)));s=et(s,void 0);i=n();if(8===y)f._createSound(s.id,s.loops||1,s.usePolicyFile);else if(f._createSound(s.id,s.url,s.usePeakData,s.useWaveformData,s.useEQData,s.isMovieStar,s.isMovieStar?s.bufferTime:!1,s.loops||1,s.serverURL,s.duration||null,s.autoPlay,!0,s.autoLoad,s.usePolicyFile),!s.serverURL)i.connected=!0,s.onconnect&&s.onconnect.apply(i);!s.serverURL&&(s.autoLoad||s.autoPlay)&&i.load(s)}!s.serverURL&&s.autoPlay&&i.play();return i};this.destroySound=function(e,t){if(!nt(e))return!1;var n=a.sounds[e],r;n._iO={};n.stop();n.unload();for(r=0;r<a.soundIDs.length;r++)if(a.soundIDs[r]===e){a.soundIDs.splice(r,1);break}t||n.destruct(!0);delete a.sounds[e];return!0};this.load=function(e,t){return nt(e)?a.sounds[e].load(t):!1};this.unload=function(e){return nt(e)?a.sounds[e].unload():!1};this.onposition=this.onPosition=function(e,t,n,r){return nt(e)?a.sounds[e].onposition(t,n,r):!1};this.clearOnPosition=function(e,t,n){return nt(e)?a.sounds[e].clearOnPosition(t,n):!1};this.start=this.play=function(e,t){var n=!1;if(!S||!a.ok())return tt("soundManager.play(): "+Q(S?"notOK":"notReady")),n;if(!nt(e)){t instanceof Object||(t={url:t});t&&t.url&&(t.id=e,n=a.createSound(t).play());return n}return a.sounds[e].play(t)};this.setPosition=function(e,t){return nt(e)?a.sounds[e].setPosition(t):!1};this.stop=function(e){return nt(e)?a.sounds[e].stop():!1};this.stopAll=function(){for(var e in a.sounds)a.sounds.hasOwnProperty(e)&&a.sounds[e].stop()};this.pause=function(e){return nt(e)?a.sounds[e].pause():!1};this.pauseAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].pause()};this.resume=function(e){return nt(e)?a.sounds[e].resume():!1};this.resumeAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].resume()};this.togglePause=function(e){return nt(e)?a.sounds[e].togglePause():!1};this.setPan=function(e,t){return nt(e)?a.sounds[e].setPan(t):!1};this.setVolume=function(e,t){return nt(e)?a.sounds[e].setVolume(t):!1};this.mute=function(e){var t=0;"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].mute():!1;for(t=a.soundIDs.length-1;0<=t;t--)a.sounds[a.soundIDs[t]].mute();return a.muted=!0};this.muteAll=function(){a.mute()};this.unmute=function(e){"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].unmute():!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].unmute();a.muted=!1;return!0};this.unmuteAll=function(){a.unmute()};this.toggleMute=function(e){return nt(e)?a.sounds[e].toggleMute():!1};this.getMemoryUse=function(){var e=0;f&&8!==y&&(e=parseInt(f._getMemoryUse(),10));return e};this.disable=function(e){var t;"undefined"==typeof e&&(e=!1);if(x)return!1;x=!0;for(t=a.soundIDs.length-1;0<=t;t--)X(a.sounds[a.soundIDs[t]]);N(e);bt.remove(h,"load",M);return!0};this.canPlayMIME=function(e){var t;a.hasHTML5&&(t=dt({type:e}));!t&&ct&&(t=e&&a.ok()?!!(8<y&&e.match(qt)||e.match(a.mimePattern)):null);return t};this.canPlayURL=function(e){var t;a.hasHTML5&&(t=dt({url:e}));!t&&ct&&(t=e&&a.ok()?!!e.match(a.filePattern):null);return t};this.canPlayLink=function(e){return"undefined"!=typeof e.type&&e.type&&a.canPlayMIME(e.type)?!0:a.canPlayURL(e.href)};this.getSoundById=function(e){if(!e)throw Error("soundManager.getSoundById(): sID is null/undefined");return a.sounds[e]};this.onready=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","onready");t||(t=h),A("onready",e,t),O();return!0};this.ontimeout=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","ontimeout");t||(t=h),A("ontimeout",e,t),O({type:"ontimeout"});return!0};this._wD=this._writeDebug=function(){return!0};this._debug=function(){};this.reboot=function(){var e,t;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].destruct();if(f)try{Lt&&(K=f.innerHTML);J=f.parentNode.removeChild(f)}catch(n){}K=J=ct=null;a.enabled=I=S=rt=it=w=E=x=a.swfLoaded=!1;a.soundIDs=[];a.sounds={};f=null;for(e in b)if(b.hasOwnProperty(e))for(t=b[e].length-1;0<=t;t--)b[e][t].fired=!1;h.setTimeout(a.beginDelayedInit,20)};this.getMoviePercent=function(){return f&&"undefined"!=typeof f.PercentLoaded?f.PercentLoaded():null};this.beginDelayedInit=function(){T=!0;j();setTimeout(function(){if(it)return!1;R();B();return it=!0},20);_()};this.destruct=function(){a.disable(!0)};u=function(e){var t,n,r=this,i,s,o,u,l,c,h=!1,p=[],d=0,v,m,g=null;t=null;n=null;this.sID=this.id=e.id;this.url=e.url;this._iO=this.instanceOptions=this.options=C(e);this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;this.id3={};this._debug=function(){};this.load=function(e){var t=null;if("undefined"!=typeof e)r._iO=C(e,r.options),r.instanceOptions=r._iO;else if(e=r.options,r._iO=e,r.instanceOptions=r._iO,g&&g!==r.url)r._iO.url=r.url,r.url=null;r._iO.url||(r._iO.url=r.url);r._iO.url=lt(r._iO.url);if(r._iO.url===r.url&&0!==r.readyState&&2!==r.readyState)return 3===r.readyState&&r._iO.onload&&r._iO.onload.apply(r,[!!r.duration]),r;e=r._iO;g=r.url&&r.url.toString?r.url.toString():null;r.loaded=!1;r.readyState=1;r.playState=0;r.id3={};if(pt(e)){if(t=r._setup_html5(e),!t._called_load){r._html5_canplay=!1;r._a.src!==e.url&&(r._a.src=e.url,r.setPosition(0));r._a.autobuffer="auto";r._a.preload="auto";t._called_load=!0;e.autoPlay&&r.play()}}else try{r.isHTML5=!1,r._iO=et(Z(e)),e=r._iO,8===y?f._load(r.id,e.url,e.stream,e.autoPlay,e.whileloading?1:0,e.loops||1,e.usePolicyFile
):f._load(r.id,e.url,!!e.stream,!!e.autoPlay,e.loops||1,!!e.autoLoad,e.usePolicyFile)}catch(n){U({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}r.url=e.url;return r};this.unload=function(){if(0!==r.readyState){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a,"about:blank"),r.url="about:blank"}else 8===y?f._unload(r.id,"about:blank"):f._unload(r.id);i()}return r};this.destruct=function(e){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a),Et||o(),r._a._t=null,r._a=null}else r._iO.onfailure=null,f._destroySound(r.id);e||a.destroySound(r.id,!0)};this.start=this.play=function(e,t){var n,i;i=!0;i=null;t="undefined"==typeof t?!0:t;e||(e={});r.url&&(r._iO.url=r.url);r._iO=C(r._iO,r.options);r._iO=C(e,r._iO);r._iO.url=lt(r._iO.url);r.instanceOptions=r._iO;if(r._iO.serverURL&&!r.connected)return r.getAutoPlay()||r.setAutoPlay(!0),r;pt(r._iO)&&(r._setup_html5(r._iO),l());1===r.playState&&!r.paused&&((n=r._iO.multiShot)||(i=r));if(null!==i)return i;e.url&&e.url!==r.url&&r.load(r._iO);if(!r.loaded)if(0===r.readyState){r.isHTML5||(r._iO.autoPlay=!0);r.load(r._iO)}else 2===r.readyState&&(i=r);if(null!==i)return i;!r.isHTML5&&9===y&&0<r.position&&r.position===r.duration&&(e.position=0);if(r.paused&&0<=r.position&&(!r._iO.serverURL||0<r.position))r.resume();else{r._iO=C(e,r._iO);if(null!==r._iO.from&&null!==r._iO.to&&0===r.instanceCount&&0===r.playState&&!r._iO.serverURL){n=function(){r._iO=C(e,r._iO);r.play(r._iO)};r.isHTML5&&!r._html5_canplay?(r.load({_oncanplay:n}),i=!1):!r.isHTML5&&!r.loaded&&(!r.readyState||2!==r.readyState)&&(r.load({onload:n}),i=!1);if(null!==i)return i;r._iO=m()}(!r.instanceCount||r._iO.multiShotEvents||!r.isHTML5&&8<y&&!r.getAutoPlay())&&r.instanceCount++;r._iO.onposition&&0===r.playState&&c(r);r.playState=1;r.paused=!1;r.position="undefined"!=typeof r._iO.position&&!isNaN(r._iO.position)?r._iO.position:0;r.isHTML5||(r._iO=et(Z(r._iO)));r._iO.onplay&&t&&(r._iO.onplay.apply(r),h=!0);r.setVolume(r._iO.volume,!0);r.setPan(r._iO.pan,!0);r.isHTML5?(l(),i=r._setup_html5(),r.setPosition(r._iO.position),i.play()):(i=f._start(r.id,r._iO.loops||1,9===y?r._iO.position:r._iO.position/1e3,r._iO.multiShot),9===y&&!i&&r._iO.onplayerror&&r._iO.onplayerror.apply(r))}return r};this.stop=function(e){var t=r._iO;if(1===r.playState){r._onbufferchange(0);r._resetOnPosition(0);r.paused=!1;r.isHTML5||(r.playState=0);v();t.to&&r.clearOnPosition(t.to);r.isHTML5?r._a&&(e=r.position,r.setPosition(0),r.position=e,r._a.pause(),r.playState=0,r._onTimer(),u()):(f._stop(r.id,e),t.serverURL&&r.unload());r.instanceCount=0;r._iO={};t.onstop&&t.onstop.apply(r)}return r};this.setAutoPlay=function(e){r._iO.autoPlay=e;r.isHTML5||(f._setAutoPlay(r.id,e),e&&!r.instanceCount&&1===r.readyState&&r.instanceCount++)};this.getAutoPlay=function(){return r._iO.autoPlay};this.setPosition=function(e){"undefined"==typeof e&&(e=0);var t=r.isHTML5?Math.max(e,0):Math.min(r.duration||r._iO.duration,Math.max(e,0));r.position=t;e=r.position/1e3;r._resetOnPosition(r.position);r._iO.position=t;if(r.isHTML5){if(r._a&&r._html5_canplay&&r._a.currentTime!==e)try{r._a.currentTime=e,(0===r.playState||r.paused)&&r._a.pause()}catch(n){}}else e=9===y?r.position:e,r.readyState&&2!==r.readyState&&f._setPosition(r.id,e,r.paused||!r.playState,r._iO.multiShot);r.isHTML5&&r.paused&&r._onTimer(!0);return r};this.pause=function(e){if(r.paused||0===r.playState&&1!==r.readyState)return r;r.paused=!0;r.isHTML5?(r._setup_html5().pause(),u()):(e||"undefined"==typeof e)&&f._pause(r.id,r._iO.multiShot);r._iO.onpause&&r._iO.onpause.apply(r);return r};this.resume=function(){var e=r._iO;if(!r.paused)return r;r.paused=!1;r.playState=1;r.isHTML5?(r._setup_html5().play(),l()):(e.isMovieStar&&!e.serverURL&&r.setPosition(r.position),f._pause(r.id,e.multiShot));!h&&e.onplay?(e.onplay.apply(r),h=!0):e.onresume&&e.onresume.apply(r);return r};this.togglePause=function(){if(0===r.playState)return r.play({position:9===y&&!r.isHTML5?r.position:r.position/1e3}),r;r.paused?r.resume():r.pause();return r};this.setPan=function(e,t){"undefined"==typeof e&&(e=0);"undefined"==typeof t&&(t=!1);r.isHTML5||f._setPan(r.id,e);r._iO.pan=e;t||(r.pan=e,r.options.pan=e);return r};this.setVolume=function(e,t){"undefined"==typeof e&&(e=100);"undefined"==typeof t&&(t=!1);r.isHTML5?r._a&&(r._a.volume=Math.max(0,Math.min(1,e/100))):f._setVolume(r.id,a.muted&&!r.muted||r.muted?0:e);r._iO.volume=e;t||(r.volume=e,r.options.volume=e);return r};this.mute=function(){r.muted=!0;r.isHTML5?r._a&&(r._a.muted=!0):f._setVolume(r.id,0);return r};this.unmute=function(){r.muted=!1;var e="undefined"!=typeof r._iO.volume;r.isHTML5?r._a&&(r._a.muted=!1):f._setVolume(r.id,e?r._iO.volume:r.options.volume);return r};this.toggleMute=function(){return r.muted?r.unmute():r.mute()};this.onposition=this.onPosition=function(e,t,n){p.push({position:parseInt(e,10),method:t,scope:"undefined"!=typeof n?n:r,fired:!1});return r};this.clearOnPosition=function(e,t){var n,e=parseInt(e,10);if(isNaN(e))return!1;for(n=0;n<p.length;n++)e===p[n].position&&(!t||t===p[n].method)&&(p[n].fired&&d--,p.splice(n,1))};this._processOnPosition=function(){var e,t;e=p.length;if(!e||!r.playState||d>=e)return!1;for(e-=1;0<=e;e--)if(t=p[e],!t.fired&&r.position>=t.position)t.fired=!0,d++,t.method.apply(t.scope,[t.position]);return!0};this._resetOnPosition=function(e){var t,n;t=p.length;if(!t)return!1;for(t-=1;0<=t;t--)if(n=p[t],n.fired&&e<=n.position)n.fired=!1,d--;return!0};m=function(){var e=r._iO,t=e.from,n=e.to,i,s;s=function(){r.clearOnPosition(n,s);r.stop()};i=function(){null!==n&&!isNaN(n)&&r.onPosition(n,s)};null!==t&&!isNaN(t)&&(e.position=t,e.multiShot=!1,i());return e};c=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.onPosition(parseInt(e,10),t[e])};v=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.clearOnPosition(parseInt(e,10))};l=function(){r.isHTML5&&st(r)};u=function(){r.isHTML5&&ot(r)};i=function(e){e||(p=[],d=0);h=!1;r._hasTimer=null;r._a=null;r._html5_canplay=!1;r.bytesLoaded=null;r.bytesTotal=null;r.duration=r._iO&&r._iO.duration?r._iO.duration:null;r.durationEstimate=null;r.buffered=[];r.eqData=[];r.eqData.left=[];r.eqData.right=[];r.failures=0;r.isBuffering=!1;r.instanceOptions={};r.instanceCount=0;r.loaded=!1;r.metadata={};r.readyState=0;r.muted=!1;r.paused=!1;r.peakData={left:0,right:0};r.waveformData={left:[],right:[]};r.playState=0;r.position=null;r.id3={}};i();this._onTimer=function(e){var i,s=!1,o={};if(r._hasTimer||e){if(r._a&&(e||(0<r.playState||1===r.readyState)&&!r.paused)){i=r._get_html5_duration();i!==t&&(t=i,r.duration=i,s=!0);r.durationEstimate=r.duration;i=1e3*r._a.currentTime||0;i!==n&&(n=i,s=!0);(s||e)&&r._whileplaying(i,o,o,o,o)}return s}};this._get_html5_duration=function(){var e=r._iO;return(e=r._a&&r._a.duration?1e3*r._a.duration:e&&e.duration?e.duration:null)&&!isNaN(e)&&Infinity!==e?e:null};this._apply_loop=function(e,t){e.loop=1<t?"loop":""};this._setup_html5=function(e){var e=C(r._iO,e),t=decodeURI,n=Et?a._global_a:r._a,o=t(e.url),u=n&&n._t?n._t.instanceOptions:null,f;if(n){if(n._t){!Et&&o===t(g)?f=n:Et&&u.url===e.url&&(!g||g===u.url)&&(f=n);if(f)return r._apply_loop(n,e.loops),f}Et&&n._t&&n._t.playState&&e.url!==u.url&&n._t.stop();i(u&&u.url?e.url===u.url:g?g===e.url:!1);n.src=e.url;g=r.url=e.url;n._called_load=!1}else if(r._a=e.autoLoad||e.autoPlay?new Audio(e.url):Mt&&10>opera.version()?new Audio(null):new Audio,n=r._a,n._called_load=!1,Et)a._global_a=n;r.isHTML5=!0;r._a=n;n._t=r;s();r._apply_loop(n,e.loops);e.autoLoad||e.autoPlay?r.load():(n.autobuffer=!1,n.preload="auto");return n};s=function(){if(r._a._added_events)return!1;var e;r._a._added_events=!0;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.addEventListener(e,Nt[e],!1);return!0};o=function(){var e;r._a._added_events=!1;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.removeEventListener(e,Nt[e],!1)};this._onload=function(e){e=!!e||!r.isHTML5&&8===y&&r.duration;r.loaded=e;r.readyState=e?3:2;r._onbufferchange(0);r._iO.onload&&r._iO.onload.apply(r,[e]);return!0};this._onbufferchange=function(e){if(0===r.playState||e&&r.isBuffering||!e&&!r.isBuffering)return!1;r.isBuffering=1===e;r._iO.onbufferchange&&r._iO.onbufferchange.apply(r);return!0};this._onsuspend=function(){r._iO.onsuspend&&r._iO.onsuspend.apply(r);return!0};this._onfailure=function(e,t,n){r.failures++;r._iO.onfailure&&1===r.failures&&r._iO.onfailure(r,e,t,n)};this._onfinish=function(){var e=r._iO.onfinish;r._onbufferchange(0);r._resetOnPosition(0);if(r.instanceCount){r.instanceCount--;!r.instanceCount&&(v(),r.playState=0,r.paused=!1,r.instanceCount=0,r.instanceOptions={},r._iO={},u(),r.isHTML5)&&(r.position=0);(!r.instanceCount||r._iO.multiShotEvents)&&e&&e.apply(r)}};this._whileloading=function(e,t,n,i){var s=r._iO;r.bytesLoaded=e;r.bytesTotal=t;r.duration=Math.floor(n);r.bufferLength=i;r.durationEstimate=!r.isHTML5&&!s.isMovieStar?s.duration?r.duration>s.duration?r.duration:s.duration:parseInt(r.bytesTotal/r.bytesLoaded*r.duration,10):r.duration;r.isHTML5||(r.buffered=[{start:0,end:r.duration}]);(3!==r.readyState||r.isHTML5)&&s.whileloading&&s.whileloading.apply(r)};this._whileplaying=function(e,t,n,i,s){var o=r._iO;if(isNaN(e)||null===e)return!1;r.position=Math.max(0,e);r._processOnPosition();if(!r.isHTML5&&8<y){o.usePeakData&&"undefined"!=typeof t&&t&&(r.peakData={left:t.leftPeak,right:t.rightPeak});o.useWaveformData&&"undefined"!=typeof n&&n&&(r.waveformData={left:n.split(","),right:i.split(",")});o.useEQData&&"undefined"!=typeof s&&s&&s.leftEQ&&(e=s.leftEQ.split(","),r.eqData=e,r.eqData.left=e,"undefined"!=typeof s.rightEQ&&s.rightEQ)&&(r.eqData.right=s.rightEQ.split(","))}1===r.playState&&(!r.isHTML5&&8===y&&!r.position&&r.isBuffering&&r._onbufferchange(0),o.whileplaying&&o.whileplaying.apply(r));return!0};this._oncaptiondata=function(e){r.captiondata=e;r._iO.oncaptiondata&&r._iO.oncaptiondata.apply(r,[e])};this._onmetadata=function(e,t){var n={},i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.metadata=n;r._iO.onmetadata&&r._iO.onmetadata.apply(r)};this._onid3=function(e,t){var n=[],i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.id3=C(r.id3,n);r._iO.onid3&&r._iO.onid3.apply(r)};this._onconnect=function(e){e=1===e;if(r.connected=e)r.failures=0,nt(r.id)&&(r.getAutoPlay()?r.play(void 0,r.getAutoPlay()):r._iO.autoLoad&&r.load()),r._iO.onconnect&&r._iO.onconnect.apply(r,[e])};this._ondataerror=function(){0<r.playState&&r._iO.ondataerror&&r._iO.ondataerror.apply(r)}};q=function(){return d.body||d._docElement||d.getElementsByTagName("div")[0]};l=function(e){return d.getElementById(e)};C=function(e,t){var n=e||{},r,i;r="undefined"==typeof t?a.defaultOptions:t;for(i in r)r.hasOwnProperty(i)&&"undefined"==typeof n[i]&&(n[i]="object"!=typeof r[i]||null===r[i]?r[i]:C(n[i],r[i]));return n};L={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};k=function(e,t){var n,r=!0,i="undefined"!=typeof t,s=a.setupOptions;for(n in e)if(e.hasOwnProperty(n))if("object"!=typeof e[n]||null===e[n]||e[n]instanceof Array)i&&"undefined"!=typeof L[t]?a[t][n]=e[n]:"undefined"!=typeof s[n]?(a.setupOptions[n]=e[n],a[n]=e[n]):"undefined"==typeof L[n]?(tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1):a[n]instanceof Function?a[n].apply(a,e[n]instanceof Array?e[n]:[e[n]]):a[n]=e[n];else{if("undefined"!=typeof L[n])return k(e[n],n);tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1}return r};bt=function(){function e(e){var e=wt.call(e),t=e.length;n?(e[1]="on"+e[1],3<t&&e.pop()):3===t&&e.push(!1);return e}function t(e,t){var i=e.shift(),s=[r[t]];n?i[s](e[0],e[1]):i[s].apply(i,e)}var n=h.attachEvent,r={add:n?"attachEvent":"addEventListener",remove:n?"detachEvent":"removeEventListener"};return{add:function(){t(e(arguments),"add")},remove:function(){t(e(arguments),"remove")}}}();Nt={abort:i(function(){}),canplay:i(function(){var e=this._t,t;if(e._html5_canplay)return!0;e._html5_canplay=!0;e._onbufferchange(0);t="undefined"!=typeof e._iO.position&&!isNaN(e._iO.position)?e._iO.position/1e3:null;if(e.position&&this.currentTime!==t)try{this.currentTime=t}catch(n){}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:i(function(){var e=this._t;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),ended:i(function(){this._t._onfinish()}),error:i(function(){this._t._onload(!1)}),loadeddata:i(function(){var e=this._t;!e._loaded&&!Ot&&(e.duration=e._get_html5_duration())}),loadedmetadata:i(function(){}),loadstart:i(function(){this._t._onbufferchange(1)}),play:i(function(){this._t._onbufferchange(0)}),playing:i(function(){this._t._onbufferchange(0)}),progress:i(function(e){var t=this._t,n,r,i=0,i=e.target.buffered;n=e.loaded||0;var s=e.total||1;t.buffered=[];if(i&&i.length){for(n=0,r=i.length;n<r;n++)t.buffered.push({start:1e3*i.start(n),end:1e3*i.end(n)});i=1e3*(i.end(0)-i.start(0));n=i/(1e3*e.target.duration)}isNaN(n)||(t._onbufferchange(0),t._whileloading(n,s,t._get_html5_duration()),n&&s&&n===s&&Nt.canplaythrough.call(this,e))}),ratechange:i(function(){}),suspend:i(function(e){var t=this._t;Nt.progress.call(this,e);t._onsuspend()}),stalled:i(function(){}),timeupdate:i(function(){this._t._onTimer()}),waiting:i(function(){this._t._onbufferchange(1)})};pt=function(e){return e.serverURL||e.type&&r(e.type)?!1:e.type?dt({type:e.type}):dt({url:e.url})||a.html5Only};mt=function(e,t){e&&(e.src=t)};dt=function(e){if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t=e.url||null,e=e.type||null,n=a.audioFormats,i;if(e&&"undefined"!=typeof a.html5[e])return a.html5[e]&&!r(e);if(!vt){vt=[];for(i in n)n.hasOwnProperty(i)&&(vt.push(i),n[i].related&&(vt=vt.concat(n[i].related)));vt=RegExp("\\.("+vt.join("|")+")(\\?.*)?$","i")}i=t?t.toLowerCase().match(vt):null;!i||!i.length?e&&(t=e.indexOf(";"),i=(-1!==t?e.substr(0,t):e).substr(6)):i=i[1];i&&"undefined"!=typeof a.html5[i]?t=a.html5[i]&&!r(i):(e="audio/"+i,t=a.html5.canPlayType({type:e}),t=(a.html5[i]=t)&&a.html5[e]&&!r(e));return t};yt=function(){function e(e){var n,r,i=n=!1;if(!t||"function"!=typeof t.canPlayType)return n;if(e instanceof Array){for(n=0,r=e.length;n<r;n++)if(a.html5[e[n]]||t.canPlayType(e[n]).match(a.html5Test))i=!0,a.html5[e[n]]=!0,a.flash[e[n]]=!!e[n].match(jt);n=i}else e=t&&"function"==typeof t.canPlayType?t.canPlayType(e):!1,n=!!e&&!!e.match(a.html5Test);return n}if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t="undefined"!=typeof Audio?Mt&&10>opera.version()?new Audio(null):new Audio:null,n,r,i={},s;s=a.audioFormats;for(n in s)if(s.hasOwnProperty(n)&&(r="audio/"+n,i[n]=e(s[n].type),i[r]=i[n],n.match(jt)?(a.flash[n]=!0,a.flash[r]=!0):(a.flash[n]=!1,a.flash[r]=!1),s[n]&&s[n].related))for(r=s[n].related.length-1;0<=r;r--)i["audio/"+s[n].related[r]]=i[n],a.html5[s[n].related[r]]=i[n],a.flash[s[n].related[r]]=i[n];i.canPlayType=t?e:null;a.html5=C(a.html5,i);return!0};Q=function(){};Z=function(e){8===y&&1<e.loops&&e.stream&&(e.stream=!1);return e};et=function(e){e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(e.usePolicyFile=!0);return e};tt=function(){};v=function(){return!1};X=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=v)};V=function(e){"undefined"==typeof e&&(e=!1);(x||e)&&a.disable(e)};$=function(e){var t=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");e=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+a.movieURL;a.noSWFCache&&(e+="?ts="+(new Date).getTime());return e};P=function(){y=parseInt(a.flashVersion,10);8!==y&&9!==y&&(a.flashVersion=y=8);var e=a.debugMode||a.debugFlash?"_debug.swf":".swf";a.useHTML5Audio&&!a.html5Only&&a.audioFormats.mp4.required&&9>y&&(a.flashVersion=y=9);a.version=a.versionNumber+(a.html5Only?" (HTML5-only mode)":9===y?" (AS3/Flash 9)":" (AS2/Flash 8)");8<y?(a.defaultOptions=C(a.defaultOptions,a.flash9Options),a.features.buffering=!0,a.defaultOptions=C(a.defaultOptions,a.movieStarOptions),a.filePatterns.flash9=RegExp("\\.(mp3|"+Rt.join("|")+")(\\?.*)?$","i"),a.features.movieStar=!0):a.features.movieStar=!1;a.filePattern=a.filePatterns[8!==y?"flash9":"flash8"];a.movieURL=(8===y?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e);a.features.peakData=a.features.waveformData=a.features.eqData=8<y};z=function(e,t){if(!f)return!1;f._setPolling(e,t)};W=function(){a.debugURLParam.test(p)&&(a.debugMode=!0)};nt=this.getSoundById;Y=function(){var e=[];a.debugMode&&e.push("sm2_debug");a.debugFlash&&e.push("flash_debug");a.useHighPerformance&&e.push("high_performance");return e.join(" ")};G=function(){Q("fbHandler");var e=a.getMoviePercent(),t={type:"FLASHBLOCK"};if(a.html5Only)return!1;if(a.ok())a.oMC&&(a.oMC.className=[Y(),"movieContainer","swf_loaded"+(a.didFlashBlock?" swf_unblocked":"")].join(" "));else{ct&&(a.oMC.className=Y()+" movieContainer "+(null===e?"swf_timedout":"swf_error"));a.didFlashBlock=!0;O({type:"ontimeout",ignoreInit:!0,error:t});U(t)}};A=function(e,t,n){"undefined"==typeof b[e]&&(b[e]=[]);b[e].push({method:t,scope:n||null,fired:!1})};O=function(e){e||(e={type:a.ok()?"onready":"ontimeout"});if(!S&&e&&!e.ignoreInit||"ontimeout"===e.type&&(a.ok()||x&&!e.ignoreInit))return!1;var t={success:e&&e.ignoreInit?a.ok():!x},n=e&&e.type?b[e.type]||[]:[],r=[],i,t=[t],s=ct&&a.useFlashBlock&&!a.ok();e.error&&(t[0].error=e.error);for(e=0,i=n.length;e<i;e++)!0!==n[e].fired&&r.push(n[e]);if(r.length)for(e=0,i=r.length;e<i;e++)if(r[e].scope?r[e].method.apply(r[e].scope,t):r[e].method.apply(this,t),!s)r[e].fired=!0;return!0};M=function(){h.setTimeout(function(){a.useFlashBlock&&G();O();"function"==typeof a.onload&&a.onload.apply(h);a.waitForWindowLoad&&bt.add(h,"load",M)},1)};xt=function(){if("undefined"!=typeof St)return St;var e=!1,t=navigator,n=t.plugins,r,i=h.ActiveXObject;if(n&&n.length)(t=t.mimeTypes)&&t["application/x-shockwave-flash"]&&t["application/x-shockwave-flash"].enabledPlugin&&t["application/x-shockwave-flash"].enabledPlugin.description&&(e=!0);else if("undefined"!=typeof i){try{r=new i("ShockwaveFlash.ShockwaveFlash")}catch(s){}e=!!r}return St=e};ht=function(){var e,t,n=a.audioFormats;if(kt&&c.match(/os (1|2|3_0|3_1)/i)){if(a.hasHTML5=!1,a.html5Only=!0,a.oMC)a.oMC.style.display="none"}else a.useHTML5Audio&&(!a.html5||!a.html5.canPlayType)&&(a.hasHTML5=!1);if(a.useHTML5Audio&&a.hasHTML5)for(t in n)n.hasOwnProperty(t)&&(n[t].required&&!a.html5.canPlayType(n[t].type)||a.preferFlash&&(a.flash[t]||a.flash[n[t].type]))&&(e=!0);a.ignoreFlash&&(e=!1);a.html5Only=a.hasHTML5&&a.useHTML5Audio&&!e;return!a.html5Only};lt=function(e){var t,n,r=0;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(a.canPlayMIME(e[t].type)){r=t;break}}else if(a.canPlayURL(e[t])){r=t;break}e[r].url&&(e[r]=e[r].url);e=e[r]}return e};st=function(e){e._hasTimer||(e._hasTimer=!0,!_t&&a.html5PollingInterval&&(null===ft&&0===at&&(ft=h.setInterval(ut,a.html5PollingInterval)),at++))};ot=function(e){e._hasTimer&&(e._hasTimer=!1,!_t&&a.html5PollingInterval&&at--)};ut=function(){var e;if(null!==ft&&!at)return h.clearInterval(ft),ft=null,!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].isHTML5&&a.sounds[a.soundIDs[e]]._hasTimer&&a.sounds[a.soundIDs[e]]._onTimer()};U=function(e){e="undefined"!=typeof e?e:{};"function"==typeof a.onerror&&a.onerror.apply(h,[{type:"undefined"!=typeof e.type?e.type:null}]);"undefined"!=typeof e.fatal&&e.fatal&&a.disable()};Tt=function(){if(!Dt||!xt())return!1;var e=a.audioFormats,t,n;for(n in e)if(e.hasOwnProperty(n)&&("mp3"===n||"mp4"===n))if(a.html5[n]=!1,e[n]&&e[n].related)for(t=e[n].related.length-1;0<=t;t--)a.html5[e[n].related[t]]=!1};this._setSandboxType=function(){};this._externalInterfaceOK=function(){if(a.swfLoaded)return!1;(new Date).getTime();a.swfLoaded=!0;Ht=!1;Dt&&Tt();setTimeout(g,Lt?100:1)};R=function(e,t){function n(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(w&&E)return!1;if(a.html5Only)return P(),a.oMC=l(a.movieID),g(),E=w=!0,!1;var r=t||a.url,i=a.altURL||r,s=q(),o=Y(),u=null,u=d.getElementsByTagName("html")[0],f,h,p,u=u&&u.dir&&u.dir.match(/rtl/i),e="undefined"==typeof e?a.id:e;P();a.url=$(Ft?r:i);t=a.url;a.wmode=!a.wmode&&a.useHighPerformance?"transparent":a.wmode;null!==a.wmode&&(c.match(/msie 8/i)||!Lt&&!a.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(a.wmode=null);s={name:e,id:e,src:t,quality:"high",allowScriptAccess:a.allowScriptAccess,bgcolor:a.bgColor,pluginspage:It+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:a.wmode,hasPriority:"true"};a.debugFlash&&(s.FlashVars="debug=1");a.wmode||delete s.wmode;if(Lt)r=d.createElement("div"),h=['<object id="'+e+'" data="'+t+'" type="'+s.type+'" title="'+s.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+It+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',n("movie",t),n("AllowScriptAccess",a.allowScriptAccess),n("quality",s.quality),a.wmode?n("wmode",a.wmode):"",n("bgcolor",a.bgColor),n("hasPriority","true"),a.debugFlash?n("FlashVars",s.FlashVars):"","</object>"].join("");else for(f in r=d.createElement("embed"),s)s.hasOwnProperty(f)&&r.setAttribute(f,s[f]);W();o=Y();if(s=q())if(a.oMC=l(a.movieID)||d.createElement("div"),a.oMC.id){p=a.oMC.className;a.oMC.className=(p?p+" ":"movieContainer")+(o?" "+o:"");a.oMC.appendChild(r);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}else{a.oMC.id=a.movieID;a.oMC.className="movieContainer "+o;f=o=null;if(!a.useFlashBlock)if(a.useHighPerformance)o={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"};else if(o={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},u)o.left=Math.abs(parseInt(o.left,10))+"px";At&&(a.oMC.style.zIndex=1e4);if(!a.debugFlash)for(p in o)o.hasOwnProperty(p)&&(a.oMC.style[p]=o[p]);try{Lt||a.oMC.appendChild(r);s.appendChild(a.oMC);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}catch(v){throw Error(Q("domError")+" \n"+v.toString())}}return w=!0};B=function(){if(a.html5Only)return R(),!1;if(f||!a.url)return!1;f=a.getMovie(a.id);f||(J?(Lt?a.oMC.innerHTML=K:a.oMC.appendChild(J),J=null,w=!0):R(a.id,a.url),f=a.getMovie(a.id));"function"==typeof a.oninitmovie&&setTimeout(a.oninitmovie,1);return!0};_=function(){setTimeout(D,1e3)};D=function(){var e,t=!1;if(!a.url||rt)return!1;rt=!0;bt.remove(h,"load",_);if(Ht&&!Pt)return!1;S||(e=a.getMoviePercent(),0<e&&100>e&&(t=!0));setTimeout(function(){e=a.getMoviePercent();if(t)return rt=!1,h.setTimeout(_,1),!1;!S&&Bt&&(null===e?a.useFlashBlock||0===a.flashLoadTimeout?a.useFlashBlock&&G():V(!0):0!==a.flashLoadTimeout&&V(!0))},a.flashLoadTimeout)};H=function(){if(Pt||!Ht)return bt.remove(h,"focus",H),!0;Pt=Bt=!0;rt=!1;_();bt.remove(h,"focus",H);return!0};Ct=function(){};N=function(e){if(S)return!1;if(a.html5Only)return S=!0,M(),!0;var t=!0,n;if(!a.useFlashBlock||!a.flashLoadTimeout||a.getMoviePercent())S=!0,x&&(n={type:!St&&ct?"NO_FLASH":"INIT_TIMEOUT"});if(x||e){a.useFlashBlock&&a.oMC&&(a.oMC.className=Y()+" "+(null===a.getMoviePercent()?"swf_timedout":"swf_error"));O({type:"ontimeout",error:n,ignoreInit:!0});U(n);t=!1}x||(a.waitForWindowLoad&&!T?bt.add(h,"load",M):M());return t};m=function(){var e,t=a.setupOptions;for(e in t)t.hasOwnProperty(e)&&("undefined"==typeof a[e]?a[e]=t[e]:a[e]!==t[e]&&(a.setupOptions[e]=a[e]))};g=function(){if(S)return!1;if(a.html5Only){S||(bt.remove(h,"load",a.beginDelayedInit),a.enabled=!0,N());return!0}B();try{f._externalInterfaceTest(!1),z(!0,a.flashPollingInterval||(a.useHighPerformance?10:50)),a.debugMode||f._disableDebug(),a.enabled=!0,a.html5Only||bt.add(h,"unload",v)}catch(e){return U({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),V(!0),N(),!1}N();bt.remove(h,"load",a.beginDelayedInit);return!0};j=function(){if(I)return!1;I=!0;m();W();!St&&a.hasHTML5&&a.setup({useHTML5Audio:!0,preferFlash:!1});yt();a.html5.usingFlash=ht();ct=a.html5.usingFlash;Ct();!St&&ct&&a.setup({flashLoadTimeout:1});d.removeEventListener&&d.removeEventListener("DOMContentLoaded",j,!1);B();return!0};gt=function(){"complete"===d.readyState&&(j(),d.detachEvent("onreadystatechange",gt));return!0};F=function(){T=!0;bt.remove(h,"load",F)};xt();bt.add(h,"focus",H);bt.add(h,"load",_);bt.add(h,"load",F);d.addEventListener?d.addEventListener("DOMContentLoaded",j,!1):d.attachEvent?d.attachEvent("onreadystatechange",gt):U({type:"NO_DOM2_EVENTS",fatal:!0})}var n=null;if("undefined"==typeof SM2_DEFER||!SM2_DEFER)n=new t;e.SoundManager=t;e.soundManager=n})(window);__slice=[].slice;typeof soundManager!="undefined"&&soundManager.setup({url:"swf/",flashVersion:9,useFlashBlock:!1,useHighPerformance:!0,wmode:"transparent",useFastPolling:!0,debugFlash:!1,debugMode:!1});var SoundCloudPlayer=function(e,t){var n={loop:!1,start_on:0,autoplay:!1,autoswitch:!0,volume:100,toggle_pause:!0,cache:!0,preload:!1,debug:!1},r="http://api.soundcloud.com/resolve?url=http://soundcloud.com",i=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi),s=this,o=jQuery(this);this.tracks=[];this.config=jQuery.extend(n,t);this.current_track_index=this.config.start_on;this.current_track=null;this.sound=null;this.inited=!1;this.play_when_ready=!1;this.cache={};this.init=function(){if(s.inited)return;s.change_track();s.trigger("scplayer.init");s.config.autoplay&&s.play();s.inited=!0};this.change_track=function(e){s.log("change_track");if(s.sound){s.sound.destruct();s.sound=null}var t=typeof e!="undefined"?e:s.current_track_index;if(e!=s.current_track_index||!e){var n=s.tracks[t];s.resolve_track(n,s.set_sound);s.trigger("scplayer.changing_track",t)}return s};this.play=function(){s.log("play");s.sound&&s.sound.readyState==3?s.sound.play():s.play_when_ready=!0;s.trigger("scplayer.play",s.current_track_index);return s};this.pause=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.pause();s.trigger("scplayer.pause",s.sound.paused)}return s};this.resume=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.resume();s.trigger("scplayer.pause",s.sound.paused)}return s};this.stop=function(){s.sound&&s.sound.stop();s.trigger("scplayer.stop");s.log("stop");return s};this.next=function(e){s.log("next");s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;s.log(s.play_when_ready);if(s.tracks[s.current_track_index+1]){s.current_track_index++;s.change_track();s.trigger("scplayer.playlist.next",s.current_track_index-1,s.current_track_index);s.log("has next")}else if(s.config.loop){s.current_track_index=0;s.change_track();s.trigger("scplayer.playlist.looped");s.log("looped")}else{s.current_track_index=s.tracks.length-1;s.trigger("scplayer.playlist.ended");s.log("no mas")}return s};this.prev=function(e){s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;if(s.tracks[s.current_track_index-1]){s.current_track_index--;s.change_track();s.trigger("scplayer.playlist.prev")}else if(s.config.loop){s.current_track_index=s.tracks.length-1;s.change_track();s.trigger("scplayer.playlist.looped")}else{s.current_track_index=0;s.trigger("scplayer.playlist.restarted")}return s};this.goto=function(e,t){s.log("goto");s.play_when_ready=typeof t!="undefined"?t:s.config.autoswitch;if(s.tracks[e]){s.current_track_index=e;s.trigger("scplayer.playlist.goto");s.change_track()}return s};this.restart_track=function(){s.position(0);return s};this.mute=function(){s.sound&&s.sound.toggleMute();s.trigger("scplayer.mute",s.sound.muted);return s};this.has_next=function(){s.log("has next");return s.tracks[s.current_track_index+1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.has_prev=function(){return s.tracks[s.current_track_index-1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.get_time=function(){var e=this.position(),t=e%1e3,n=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),i=Math.floor(e/36e5%24),o=r+":"+s.pad(n);i>0&&(o=i+":"+o);return o};this.position=function(e){if(s.sound){if(e||e===0){e=Math.min(s.sound.duration,e);e=Math.max(0,e);s.trigger("scplayer.position",e);return s.sound.setPosition(e)}s.trigger("scplayer.position",s.sound.position);return s.sound.position}return 0};this.volume=function(e){if(s.sound){if(e||e===0){e=Math.min(100,e);e=Math.max(0,e);s.trigger("scplayer.volume",e);s.config.volume=e;return s.sound.setVolume(e)}s.trigger("scplayer.volume",s.sound.volume);return s.sound.volume}return s.config.volume};this.seek=function(e){var t=s.current_track.duration*e;s.position(t);return s};this.loop=function(e){if(e){s.config.loop=e;s.trigger("scplayer.loop_changed",s.config.loop)}return s.config.loop};this.track_info=function(e){s.isNumeric(e)&&(e=s.tracks[e]);return s.resolve_track(e)};this.on=function(e,t){return o.on(e,t)};this.trigger=function(e){var t=arguments.length>1?__slice.call(arguments,1):[];return o.trigger(e,t)};this.destroy=function(){s.sound&&s.sound.destruct();s.tracks=[];o.off();o.remove();s.tracks=null;s.track=null;s=null;delete s.tracks;delete s.track;delete s;delete this};s.get_track=function(){return s.current_track};s.get_track_index=function(){return s.current_track_index};s.get_sound=function(){return s.sound};s.get_playlist=function(){return s.tracks};s.set_cache=function(e,t){s.config.cache===!0&&(s.cache[e]=t)};s.get_cache=function(e){return s.config.cache===!0?s.cache[e]||null:null};s.set_sound=function(e){s.log("set_sound");s.trigger("scplayer.track.info_loaded",e);s.current_track=e;var t=e.stream_url;t+=t.indexOf("secret_token")==-1?"?":"&";t+="consumer_key="+s.config.consumer_key;s.sound=soundManager.createSound({autoLoad:!0,id:"track_"+e.id,multiShot:!1,loops:1,url:t,volume:s.config.volume,whileloading:function(){var e=Math.round(this.bytesLoaded/this.bytesTotal*100);s.trigger("scplayer.track.whileloading",e)},whileplaying:function(){var t=Math.round(this.position/e.duration*100*10)/10;s.trigger("scplayer.track.whileplaying",t)},onplay:function(){s.log("track.onplay");s.trigger("scplayer.track.played")},onresume:function(){s.trigger("scplayer.track.resumed")},onstop:function(){s.trigger("scplayer.track.stopped")},onpause:function(){s.trigger("scplayer.track.paused")},onfinish:function(){s.trigger("scplayer.track.finished")},onload:function(){s.log("onload");s.trigger("scplayer.track.ready",s.current_track_index,s.current_track)}});s.trigger("scplayer.track.bindable",e,s.sound)};s.resolve_track=function(e,t){var n=new jQuery.Deferred;if(e.match(i)&&e.search(/soundcloud\.com/i)===-1){var o={stream_url:e,id:0,permalink_url:e,duration:0};n.resolve(o)}e=e.replace(/https?\:\/\/soundcloud\.com/gi,"");if(s.config.cache===!0){var u=s.get_cache(e);if(u&&t){n.done(function(){t(u)}).resolve();return n}}n.done(function(n){if(n.tracks&&n.tracks.length>0){var r=s.parse_tracks(e,n.tracks);n=r[0]}else s.config.cache===!0&&s.set_cache(e,n);t&&t(n)});jQuery.ajax({url:r+e+"&format=json"+"&consumer_key="+s.config.consumer_key+"&callback=?",dataType:"jsonp",error:function(e,t,r){n.reject(e,t,r)},success:function(e){n.resolve(e)}});return n};s.preload_sc_tracks=function(e){var t=[];for(var n=0,r=s.tracks.length;n<r;n++){var i=s.tracks[n],o=s.resolve_track(i);t.push(o)}jQuery.when.apply(jQuery,t).then(function(){s.trigger("scplayer.playlist.preloaded");e&&e()},function(){s.log("promises failed to preload tracks")})};s.parse_tracks=function(e,t){var n=[],r=[],i=s.tracks.indexOf(e);for(var o=0,u=t.length;o<u;o++){var a=t[o],f=a.permalink_url.substring(21);s.config.cache===!0&&s.set_cache(f,a);n.push(a);r.push(f)}var l=[i,1].concat(r);s.tracks.splice.apply(s.tracks,l);return n};s.add_tracks=function(e){typeof e=="string"&&(e=[e]);if(e!=null&&e.length>0){s.tracks=s.tracks.concat(e);s.config.preload==1?s.preload_sc_tracks.call(s,s.init):s.init.call(s)}};s.log=function(){s.config.debug&&window.console&&console.log.apply(console,arguments)};s.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};s.pad=function(e){return(e<10?"0":"")+e};s.on("scplayer.track.ready",function(e){s.log("track.onready!!!");if(s.play_when_ready==1){s.play();s.play_when_ready=!1}});s.on("scplayer.track.finished",function(e){s.log("track finished");if(s.config.autoswitch&&(s.config.loop||s.has_next())){s.log("finished and autoswitch");s.next().play()}});s.on("scplayer.playlist.ended",function(e){s.log("playlist ended");s.config.loop||s.stop()});soundManager.onready(function(){s.log("SOUNDMANAGER2 ready!!");s.add_tracks(e)});soundManager.ontimeout(function(){window.console&&console.log("SOUNDMANAGER2 TIMEDOUT!!")});return{play:this.play,pause:this.pause,resume:this.resume,stop:this.stop,next:this.next,prev:this.prev,mute:this.mute,get_time:this.get_time,volume:this.volume,restart_track:this.restart_track
,"goto":this.goto,position:this.position,seek:this.seek,track_info:this.track_info,has_next:this.has_next,has_prev:this.has_prev,on:this.on,trigger:this.trigger,track:this.get_track,track_index:this.get_track_index,sound:this.get_sound,playlist:this.get_playlist,destroy:this.destroy,add_tracks:this.add_tracks}};(function(e){function t(t,n){function r(e){return a.preferFlash&&St&&!a.ignoreFlash&&"undefined"!=typeof a.flash[e]&&a.flash[e]}function i(e){return function(t){var n=this._t;return!n||!n._a?null:e.call(this,t)}}this.setupOptions={url:t||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=n||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20120916";this.altURL=this.movieURL=this.version=null;this.enabled=this.swfLoaded=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.didFlashBlock=this.muted=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={};var s;try{s="undefined"!=typeof Audio&&"undefined"!=typeof (Mt&&10>opera.version()?new Audio(null):new Audio).canPlayType}catch(o){s=!1}this.hasHTML5=s;this.html5={usingFlash:null};this.flash={};this.ignoreFlash=this.html5Only=!1;var u,a=this,f=null,l,c=navigator.userAgent,h=e,p=h.location.href.toString(),d=document,v,m,g,y,b=[],w=!1,E=!1,S=!1,x=!1,T=!1,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J=null,K=null,Q,G,Y,Z,et,tt,nt,rt=!1,it=!1,st,ot,ut,at=0,ft=null,lt,ct=null,ht,pt,dt,vt,mt,gt,yt,bt,wt=Array.prototype.slice,Et=!1,St,xt,Tt,Nt,Ct,kt=c.match(/(ipad|iphone|ipod)/i),Lt=c.match(/msie/i),At=c.match(/webkit/i),Ot=c.match(/safari/i)&&!c.match(/chrome/i),Mt=c.match(/opera/i),_t=c.match(/(mobile|pre\/|xoom)/i)||kt,Dt=!p.match(/usehtml5audio/i)&&!p.match(/sm2\-ignorebadua/i)&&Ot&&!c.match(/silk/i)&&c.match(/OS X 10_6_([3-7])/i),Pt="undefined"!=typeof d.hasFocus?d.hasFocus():null,Ht=Ot&&("undefined"==typeof d.hasFocus||!d.hasFocus()),Bt=!Ht,jt=/(mp3|mp4|mpa|m4a|m4b)/i,Ft=d.location?d.location.protocol.match(/http/i):null,It=Ft?"":"http://",qt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Rt="mpeg4,aac,flv,mov,mp4,m4v,f4v,m4a,m4b,mp4v,3gp,3g2".split(","),Ut=RegExp("\\.("+Rt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!Ft;this._global_a=null;_t&&(a.useHTML5Audio=!0,a.preferFlash=!1,kt)&&(Et=a.ignoreFlash=!0);this.setup=function(e){var t=!a.url;"undefined"!=typeof e&&S&&ct&&a.ok()&&("undefined"!=typeof e.flashVersion||"undefined"!=typeof e.url)&&tt(Q("setupLate"));k(e);t&&I&&"undefined"!=typeof e.url&&a.beginDelayedInit();!I&&"undefined"!=typeof e.url&&"complete"===d.readyState&&setTimeout(j,1);return a};this.supported=this.ok=function(){return ct?S&&!x:a.useHTML5Audio&&a.hasHTML5};this.getMovie=function(e){return l(e)||d[e]||h[e]};this.createSound=function(e,t){function n(){r=Z(r);a.sounds[s.id]=new u(s);a.soundIDs.push(s.id);return a.sounds[s.id]}var r=null,i=null,s=null;if(!S||!a.ok())return tt(void 0),!1;"undefined"!=typeof t&&(e={id:e,url:t});r=C(e);r.url=lt(r.url);s=r;if(nt(s.id,!0))return a.sounds[s.id];if(pt(s))i=n(),i._setup_html5(s);else{8<y&&null===s.isMovieStar&&(s.isMovieStar=!!s.serverURL||!!(s.type&&s.type.match(qt)||s.url.match(Ut)));s=et(s,void 0);i=n();if(8===y)f._createSound(s.id,s.loops||1,s.usePolicyFile);else if(f._createSound(s.id,s.url,s.usePeakData,s.useWaveformData,s.useEQData,s.isMovieStar,s.isMovieStar?s.bufferTime:!1,s.loops||1,s.serverURL,s.duration||null,s.autoPlay,!0,s.autoLoad,s.usePolicyFile),!s.serverURL)i.connected=!0,s.onconnect&&s.onconnect.apply(i);!s.serverURL&&(s.autoLoad||s.autoPlay)&&i.load(s)}!s.serverURL&&s.autoPlay&&i.play();return i};this.destroySound=function(e,t){if(!nt(e))return!1;var n=a.sounds[e],r;n._iO={};n.stop();n.unload();for(r=0;r<a.soundIDs.length;r++)if(a.soundIDs[r]===e){a.soundIDs.splice(r,1);break}t||n.destruct(!0);delete a.sounds[e];return!0};this.load=function(e,t){return nt(e)?a.sounds[e].load(t):!1};this.unload=function(e){return nt(e)?a.sounds[e].unload():!1};this.onposition=this.onPosition=function(e,t,n,r){return nt(e)?a.sounds[e].onposition(t,n,r):!1};this.clearOnPosition=function(e,t,n){return nt(e)?a.sounds[e].clearOnPosition(t,n):!1};this.start=this.play=function(e,t){var n=!1;if(!S||!a.ok())return tt("soundManager.play(): "+Q(S?"notOK":"notReady")),n;if(!nt(e)){t instanceof Object||(t={url:t});t&&t.url&&(t.id=e,n=a.createSound(t).play());return n}return a.sounds[e].play(t)};this.setPosition=function(e,t){return nt(e)?a.sounds[e].setPosition(t):!1};this.stop=function(e){return nt(e)?a.sounds[e].stop():!1};this.stopAll=function(){for(var e in a.sounds)a.sounds.hasOwnProperty(e)&&a.sounds[e].stop()};this.pause=function(e){return nt(e)?a.sounds[e].pause():!1};this.pauseAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].pause()};this.resume=function(e){return nt(e)?a.sounds[e].resume():!1};this.resumeAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].resume()};this.togglePause=function(e){return nt(e)?a.sounds[e].togglePause():!1};this.setPan=function(e,t){return nt(e)?a.sounds[e].setPan(t):!1};this.setVolume=function(e,t){return nt(e)?a.sounds[e].setVolume(t):!1};this.mute=function(e){var t=0;"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].mute():!1;for(t=a.soundIDs.length-1;0<=t;t--)a.sounds[a.soundIDs[t]].mute();return a.muted=!0};this.muteAll=function(){a.mute()};this.unmute=function(e){"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].unmute():!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].unmute();a.muted=!1;return!0};this.unmuteAll=function(){a.unmute()};this.toggleMute=function(e){return nt(e)?a.sounds[e].toggleMute():!1};this.getMemoryUse=function(){var e=0;f&&8!==y&&(e=parseInt(f._getMemoryUse(),10));return e};this.disable=function(e){var t;"undefined"==typeof e&&(e=!1);if(x)return!1;x=!0;for(t=a.soundIDs.length-1;0<=t;t--)X(a.sounds[a.soundIDs[t]]);N(e);bt.remove(h,"load",M);return!0};this.canPlayMIME=function(e){var t;a.hasHTML5&&(t=dt({type:e}));!t&&ct&&(t=e&&a.ok()?!!(8<y&&e.match(qt)||e.match(a.mimePattern)):null);return t};this.canPlayURL=function(e){var t;a.hasHTML5&&(t=dt({url:e}));!t&&ct&&(t=e&&a.ok()?!!e.match(a.filePattern):null);return t};this.canPlayLink=function(e){return"undefined"!=typeof e.type&&e.type&&a.canPlayMIME(e.type)?!0:a.canPlayURL(e.href)};this.getSoundById=function(e){if(!e)throw Error("soundManager.getSoundById(): sID is null/undefined");return a.sounds[e]};this.onready=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","onready");t||(t=h),A("onready",e,t),O();return!0};this.ontimeout=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","ontimeout");t||(t=h),A("ontimeout",e,t),O({type:"ontimeout"});return!0};this._wD=this._writeDebug=function(){return!0};this._debug=function(){};this.reboot=function(){var e,t;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].destruct();if(f)try{Lt&&(K=f.innerHTML);J=f.parentNode.removeChild(f)}catch(n){}K=J=ct=null;a.enabled=I=S=rt=it=w=E=x=a.swfLoaded=!1;a.soundIDs=[];a.sounds={};f=null;for(e in b)if(b.hasOwnProperty(e))for(t=b[e].length-1;0<=t;t--)b[e][t].fired=!1;h.setTimeout(a.beginDelayedInit,20)};this.getMoviePercent=function(){return f&&"undefined"!=typeof f.PercentLoaded?f.PercentLoaded():null};this.beginDelayedInit=function(){T=!0;j();setTimeout(function(){if(it)return!1;R();B();return it=!0},20);_()};this.destruct=function(){a.disable(!0)};u=function(e){var t,n,r=this,i,s,o,u,l,c,h=!1,p=[],d=0,v,m,g=null;t=null;n=null;this.sID=this.id=e.id;this.url=e.url;this._iO=this.instanceOptions=this.options=C(e);this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;this.id3={};this._debug=function(){};this.load=function(e){var t=null;if("undefined"!=typeof e)r._iO=C(e,r.options),r.instanceOptions=r._iO;else if(e=r.options,r._iO=e,r.instanceOptions=r._iO,g&&g!==r.url)r._iO.url=r.url,r.url=null;r._iO.url||(r._iO.url=r.url);r._iO.url=lt(r._iO.url);if(r._iO.url===r.url&&0!==r.readyState&&2!==r.readyState)return 3===r.readyState&&r._iO.onload&&r._iO.onload.apply(r,[!!r.duration]),r;e=r._iO;g=r.url&&r.url.toString?r.url.toString():null;r.loaded=!1;r.readyState=1;r.playState=0;r.id3={};if(pt(e)){if(t=r._setup_html5(e),!t._called_load){r._html5_canplay=!1;r._a.src!==e.url&&(r._a.src=e.url,r.setPosition(0));r._a.autobuffer="auto";r._a.preload="auto";t._called_load=!0;e.autoPlay&&r.play()}}else try{r.isHTML5=!1,r._iO=et(Z(e)),e=r._iO,8===y?f._load(r.id,e.url,e.stream,e.autoPlay,e.whileloading?1:0,e.loops||1,e.usePolicyFile):f._load(r.id,e.url,!!e.stream,!!e.autoPlay,e.loops||1,!!e.autoLoad,e.usePolicyFile)}catch(n){U({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}r.url=e.url;return r};this.unload=function(){if(0!==r.readyState){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a,"about:blank"),r.url="about:blank"}else 8===y?f._unload(r.id,"about:blank"):f._unload(r.id);i()}return r};this.destruct=function(e){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a),Et||o(),r._a._t=null,r._a=null}else r._iO.onfailure=null,f._destroySound(r.id);e||a.destroySound(r.id,!0)};this.start=this.play=function(e,t){var n,i;i=!0;i=null;t="undefined"==typeof t?!0:t;e||(e={});r.url&&(r._iO.url=r.url);r._iO=C(r._iO,r.options);r._iO=C(e,r._iO);r._iO.url=lt(r._iO.url);r.instanceOptions=r._iO;if(r._iO.serverURL&&!r.connected)return r.getAutoPlay()||r.setAutoPlay(!0),r;pt(r._iO)&&(r._setup_html5(r._iO),l());1===r.playState&&!r.paused&&((n=r._iO.multiShot)||(i=r));if(null!==i)return i;e.url&&e.url!==r.url&&r.load(r._iO);if(!r.loaded)if(0===r.readyState){r.isHTML5||(r._iO.autoPlay=!0);r.load(r._iO)}else 2===r.readyState&&(i=r);if(null!==i)return i;!r.isHTML5&&9===y&&0<r.position&&r.position===r.duration&&(e.position=0);if(r.paused&&0<=r.position&&(!r._iO.serverURL||0<r.position))r.resume();else{r._iO=C(e,r._iO);if(null!==r._iO.from&&null!==r._iO.to&&0===r.instanceCount&&0===r.playState&&!r._iO.serverURL){n=function(){r._iO=C(e,r._iO);r.play(r._iO)};r.isHTML5&&!r._html5_canplay?(r.load({_oncanplay:n}),i=!1):!r.isHTML5&&!r.loaded&&(!r.readyState||2!==r.readyState)&&(r.load({onload:n}),i=!1);if(null!==i)return i;r._iO=m()}(!r.instanceCount||r._iO.multiShotEvents||!r.isHTML5&&8<y&&!r.getAutoPlay())&&r.instanceCount++;r._iO.onposition&&0===r.playState&&c(r);r.playState=1;r.paused=!1;r.position="undefined"!=typeof r._iO.position&&!isNaN(r._iO.position)?r._iO.position:0;r.isHTML5||(r._iO=et(Z(r._iO)));r._iO.onplay&&t&&(r._iO.onplay.apply(r),h=!0);r.setVolume(r._iO.volume,!0);r.setPan(r._iO.pan,!0);r.isHTML5?(l(),i=r._setup_html5(),r.setPosition(r._iO.position),i.play()):(i=f._start(r.id,r._iO.loops||1,9===y?r._iO.position:r._iO.position/1e3,r._iO.multiShot),9===y&&!i&&r._iO.onplayerror&&r._iO.onplayerror.apply(r))}return r};this.stop=function(e){var t=r._iO;if(1===r.playState){r._onbufferchange(0);r._resetOnPosition(0);r.paused=!1;r.isHTML5||(r.playState=0);v();t.to&&r.clearOnPosition(t.to);r.isHTML5?r._a&&(e=r.position,r.setPosition(0),r.position=e,r._a.pause(),r.playState=0,r._onTimer(),u()):(f._stop(r.id,e),t.serverURL&&r.unload());r.instanceCount=0;r._iO={};t.onstop&&t.onstop.apply(r)}return r};this.setAutoPlay=function(e){r._iO.autoPlay=e;r.isHTML5||(f._setAutoPlay(r.id,e),e&&!r.instanceCount&&1===r.readyState&&r.instanceCount++)};this.getAutoPlay=function(){return r._iO.autoPlay};this.setPosition=function(e){"undefined"==typeof e&&(e=0);var t=r.isHTML5?Math.max(e,0):Math.min(r.duration||r._iO.duration,Math.max(e,0));r.position=t;e=r.position/1e3;r._resetOnPosition(r.position);r._iO.position=t;if(r.isHTML5){if(r._a&&r._html5_canplay&&r._a.currentTime!==e)try{r._a.currentTime=e,(0===r.playState||r.paused)&&r._a.pause()}catch(n){}}else e=9===y?r.position:e,r.readyState&&2!==r.readyState&&f._setPosition(r.id,e,r.paused||!r.playState,r._iO.multiShot);r.isHTML5&&r.paused&&r._onTimer(!0);return r};this.pause=function(e){if(r.paused||0===r.playState&&1!==r.readyState)return r;r.paused=!0;r.isHTML5?(r._setup_html5().pause(),u()):(e||"undefined"==typeof e)&&f._pause(r.id,r._iO.multiShot);r._iO.onpause&&r._iO.onpause.apply(r);return r};this.resume=function(){var e=r._iO;if(!r.paused)return r;r.paused=!1;r.playState=1;r.isHTML5?(r._setup_html5().play(),l()):(e.isMovieStar&&!e.serverURL&&r.setPosition(r.position),f._pause(r.id,e.multiShot));!h&&e.onplay?(e.onplay.apply(r),h=!0):e.onresume&&e.onresume.apply(r);return r};this.togglePause=function(){if(0===r.playState)return r.play({position:9===y&&!r.isHTML5?r.position:r.position/1e3}),r;r.paused?r.resume():r.pause();return r};this.setPan=function(e,t){"undefined"==typeof e&&(e=0);"undefined"==typeof t&&(t=!1);r.isHTML5||f._setPan(r.id,e);r._iO.pan=e;t||(r.pan=e,r.options.pan=e);return r};this.setVolume=function(e,t){"undefined"==typeof e&&(e=100);"undefined"==typeof t&&(t=!1);r.isHTML5?r._a&&(r._a.volume=Math.max(0,Math.min(1,e/100))):f._setVolume(r.id,a.muted&&!r.muted||r.muted?0:e);r._iO.volume=e;t||(r.volume=e,r.options.volume=e);return r};this.mute=function(){r.muted=!0;r.isHTML5?r._a&&(r._a.muted=!0):f._setVolume(r.id,0);return r};this.unmute=function(){r.muted=!1;var e="undefined"!=typeof r._iO.volume;r.isHTML5?r._a&&(r._a.muted=!1):f._setVolume(r.id,e?r._iO.volume:r.options.volume);return r};this.toggleMute=function(){return r.muted?r.unmute():r.mute()};this.onposition=this.onPosition=function(e,t,n){p.push({position:parseInt(e,10),method:t,scope:"undefined"!=typeof n?n:r,fired:!1});return r};this.clearOnPosition=function(e,t){var n,e=parseInt(e,10);if(isNaN(e))return!1;for(n=0;n<p.length;n++)e===p[n].position&&(!t||t===p[n].method)&&(p[n].fired&&d--,p.splice(n,1))};this._processOnPosition=function(){var e,t;e=p.length;if(!e||!r.playState||d>=e)return!1;for(e-=1;0<=e;e--)if(t=p[e],!t.fired&&r.position>=t.position)t.fired=!0,d++,t.method.apply(t.scope,[t.position]);return!0};this._resetOnPosition=function(e){var t,n;t=p.length;if(!t)return!1;for(t-=1;0<=t;t--)if(n=p[t],n.fired&&e<=n.position)n.fired=!1,d--;return!0};m=function(){var e=r._iO,t=e.from,n=e.to,i,s;s=function(){r.clearOnPosition(n,s);r.stop()};i=function(){null!==n&&!isNaN(n)&&r.onPosition(n,s)};null!==t&&!isNaN(t)&&(e.position=t,e.multiShot=!1,i());return e};c=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.onPosition(parseInt(e,10),t[e])};v=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.clearOnPosition(parseInt(e,10))};l=function(){r.isHTML5&&st(r)};u=function(){r.isHTML5&&ot(r)};i=function(e){e||(p=[],d=0);h=!1;r._hasTimer=null;r._a=null;r._html5_canplay=!1;r.bytesLoaded=null;r.bytesTotal=null;r.duration=r._iO&&r._iO.duration?r._iO.duration:null;r.durationEstimate=null;r.buffered=[];r.eqData=[];r.eqData.left=[];r.eqData.right=[];r.failures=0;r.isBuffering=!1;r.instanceOptions={};r.instanceCount=0;r.loaded=!1;r.metadata={};r.readyState=0;r.muted=!1;r.paused=!1;r.peakData={left:0,right:0};r.waveformData={left:[],right:[]};r.playState=0;r.position=null;r.id3={}};i();this._onTimer=function(e){var i,s=!1,o={};if(r._hasTimer||e){if(r._a&&(e||(0<r.playState||1===r.readyState)&&!r.paused)){i=r._get_html5_duration();i!==t&&(t=i,r.duration=i,s=!0);r.durationEstimate=r.duration;i=1e3*r._a.currentTime||0;i!==n&&(n=i,s=!0);(s||e)&&r._whileplaying(i,o,o,o,o)}return s}};this._get_html5_duration=function(){var e=r._iO;return(e=r._a&&r._a.duration?1e3*r._a.duration:e&&e.duration?e.duration:null)&&!isNaN(e)&&Infinity!==e?e:null};this._apply_loop=function(e,t){e.loop=1<t?"loop":""};this._setup_html5=function(e){var e=C(r._iO,e),t=decodeURI,n=Et?a._global_a:r._a,o=t(e.url),u=n&&n._t?n._t.instanceOptions:null,f;if(n){if(n._t){!Et&&o===t(g)?f=n:Et&&u.url===e.url&&(!g||g===u.url)&&(f=n);if(f)return r._apply_loop(n,e.loops),f}Et&&n._t&&n._t.playState&&e.url!==u.url&&n._t.stop();i(u&&u.url?e.url===u.url:g?g===e.url:!1);n.src=e.url;g=r.url=e.url;n._called_load=!1}else if(r._a=e.autoLoad||e.autoPlay?new Audio(e.url):Mt&&10>opera.version()?new Audio(null):new Audio,n=r._a,n._called_load=!1,Et)a._global_a=n;r.isHTML5=!0;r._a=n;n._t=r;s();r._apply_loop(n,e.loops);e.autoLoad||e.autoPlay?r.load():(n.autobuffer=!1,n.preload="auto");return n};s=function(){if(r._a._added_events)return!1;var e;r._a._added_events=!0;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.addEventListener(e,Nt[e],!1);return!0};o=function(){var e;r._a._added_events=!1;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.removeEventListener(e,Nt[e],!1)};this._onload=function(e){e=!!e||!r.isHTML5&&8===y&&r.duration;r.loaded=e;r.readyState=e?3:2;r._onbufferchange(0);r._iO.onload&&r._iO.onload.apply(r,[e]);return!0};this._onbufferchange=function(e){if(0===r.playState||e&&r.isBuffering||!e&&!r.isBuffering)return!1;r.isBuffering=1===e;r._iO.onbufferchange&&r._iO.onbufferchange.apply(r);return!0};this._onsuspend=function(){r._iO.onsuspend&&r._iO.onsuspend.apply(r);return!0};this._onfailure=function(e,t,n){r.failures++;r._iO.onfailure&&1===r.failures&&r._iO.onfailure(r,e,t,n)};this._onfinish=function(){var e=r._iO.onfinish;r._onbufferchange(0);r._resetOnPosition(0);if(r.instanceCount){r.instanceCount--;!r.instanceCount&&(v(),r.playState=0,r.paused=!1,r.instanceCount=0,r.instanceOptions={},r._iO={},u(),r.isHTML5)&&(r.position=0);(!r.instanceCount||r._iO.multiShotEvents)&&e&&e.apply(r)}};this._whileloading=function(e,t,n,i){var s=r._iO;r.bytesLoaded=e;r.bytesTotal=t;r.duration=Math.floor(n);r.bufferLength=i;r.durationEstimate=!r.isHTML5&&!s.isMovieStar?s.duration?r.duration>s.duration?r.duration:s.duration:parseInt(r.bytesTotal/r.bytesLoaded*r.duration,10):r.duration;r.isHTML5||(r.buffered=[{start:0,end:r.duration}]);(3!==r.readyState||r.isHTML5)&&s.whileloading&&s.whileloading.apply(r)};this._whileplaying=function(e,t,n,i,s){var o=r._iO;if(isNaN(e)||null===e)return!1;r.position=Math.max(0,e);r._processOnPosition();if(!r.isHTML5&&8<y){o.usePeakData&&"undefined"!=typeof t&&t&&(r.peakData={left:t.leftPeak,right:t.rightPeak});o.useWaveformData&&"undefined"!=typeof n&&n&&(r.waveformData={left:n.split(","),right:i.split(",")});o.useEQData&&"undefined"!=typeof s&&s&&s.leftEQ&&(e=s.leftEQ.split(","),r.eqData=e,r.eqData.left=e,"undefined"!=typeof s.rightEQ&&s.rightEQ)&&(r.eqData.right=s.rightEQ.split(","))}1===r.playState&&(!r.isHTML5&&8===y&&!r.position&&r.isBuffering&&r._onbufferchange(0),o.whileplaying&&o.whileplaying.apply(r));return!0};this._oncaptiondata=function(e){r.captiondata=e;r._iO.oncaptiondata&&r._iO.oncaptiondata.apply(r,[e])};this._onmetadata=function(e,t){var n={},i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.metadata=n;r._iO.onmetadata&&r._iO.onmetadata.apply(r)};this._onid3=function(e,t){var n=[],i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.id3=C(r.id3,n);r._iO.onid3&&r._iO.onid3.apply(r)};this._onconnect=function(e){e=1===e;if(r.connected=e)r.failures=0,nt(r.id)&&(r.getAutoPlay()?r.play(void 0,r.getAutoPlay()):r._iO.autoLoad&&r.load()),r._iO.onconnect&&r._iO.onconnect.apply(r,[e])};this._ondataerror=function(){0<r.playState&&r._iO.ondataerror&&r._iO.ondataerror.apply(r)}};q=function(){return d.body||d._docElement||d.getElementsByTagName("div")[0]};l=function(e){return d.getElementById(e)};C=function(e,t){var n=e||{},r,i;r="undefined"==typeof t?a.defaultOptions:t;for(i in r)r.hasOwnProperty(i)&&"undefined"==typeof n[i]&&(n[i]="object"!=typeof r[i]||null===r[i]?r[i]:C(n[i],r[i]));return n};L={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};k=function(e,t){var n,r=!0,i="undefined"!=typeof t,s=a.setupOptions;for(n in e)if(e.hasOwnProperty(n))if("object"!=typeof e[n]||null===e[n]||e[n]instanceof Array)i&&"undefined"!=typeof L[t]?a[t][n]=e[n]:"undefined"!=typeof s[n]?(a.setupOptions[n]=e[n],a[n]=e[n]):"undefined"==typeof L[n]?(tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1):a[n]instanceof Function?a[n].apply(a,e[n]instanceof Array?e[n]:[e[n]]):a[n]=e[n];else{if("undefined"!=typeof L[n])return k(e[n],n);tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1}return r};bt=function(){function e(e){var e=wt.call(e),t=e.length;n?(e[1]="on"+e[1],3<t&&e.pop()):3===t&&e.push(!1);return e}function t(e,t){var i=e.shift(),s=[r[t]];n?i[s](e[0],e[1]):i[s].apply(i,e)}var n=h.attachEvent,r={add:n?"attachEvent":"addEventListener",remove:n?"detachEvent":"removeEventListener"};return{add:function(){t(e(arguments),"add")},remove:function(){t(e(arguments),"remove")}}}();Nt={abort:i(function(){}),canplay:i(function(){var e=this._t,t;if(e._html5_canplay)return!0;e._html5_canplay=!0;e._onbufferchange(0);t="undefined"!=typeof e._iO.position&&!isNaN(e._iO.position)?e._iO.position/1e3:null;if(e.position&&this.currentTime!==t)try{this.currentTime=t}catch(n){}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:i(function(){var e=this._t;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),ended:i(function(){this._t._onfinish()}),error:i(function(){this._t._onload(!1)}),loadeddata:i(function(){var e=this._t;!e._loaded&&!Ot&&(e.duration=e._get_html5_duration())}),loadedmetadata:i(function(){}),loadstart:i(function(){this._t._onbufferchange(1)}),play:i(function(){this._t._onbufferchange(0)}),playing:i(function(){this._t._onbufferchange(0)}),progress:i(function(e){var t=this._t,n,r,i=0,i=e.target.buffered;n=e.loaded||0;var s=e.total||1;t.buffered=[];if(i&&i.length){for(n=0,r=i.length;n<r;n++)t.buffered.push({start:1e3*i.start(n),end:1e3*i.end(n)});i=1e3*(i.end(0)-i.start(0));n=i/(1e3*e.target.duration)}isNaN(n)||(t._onbufferchange(0),t._whileloading(n,s,t._get_html5_duration()),n&&s&&n===s&&Nt.canplaythrough.call(this,e))}),ratechange:i(function(){}),suspend:i(function(e){var t=this._t;Nt.progress.call(this,e);t._onsuspend()}),stalled:i(function(){}),timeupdate:i(function(){this._t._onTimer()}),waiting:i(function(){this._t._onbufferchange(1)})};pt=function(e){return e.serverURL||e.type&&r(e.type)?!1:e.type?dt({type:e.type}):dt({url:e.url})||a.html5Only};mt=function(e,t){e&&(e.src=t)};dt=function(e){if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t=e.url||null,e=e.type||null,n=a.audioFormats,i;if(e&&"undefined"!=typeof a.html5[e])return a.html5[e]&&!r(e);if(!vt){vt=[];for(i in n)n.hasOwnProperty(i)&&(vt.push(i),n[i].related&&(vt=vt.concat(n[i].related)));vt=RegExp("\\.("+vt.join("|")+")(\\?.*)?$","i")}i=t?t.toLowerCase().match(vt):null;!i||!i.length?e&&(t=e.indexOf(";"),i=(-1!==t?e.substr(0,t):e).substr(6)):i=i[1];i&&"undefined"!=typeof a.html5[i]?t=a.html5[i]&&!r(i):(e="audio/"+i,t=a.html5.canPlayType({type:e}),t=(a.html5[i]=t)&&a.html5[e]&&!r(e));return t};yt=function(){function e(e){var n,r,i=n=!1;if(!t||"function"!=typeof t.canPlayType)return n;if(e instanceof Array){for(n=0,r=e.length;n<r;n++)if(a.html5[e[n]]||t.canPlayType(e[n]).match(a.html5Test))i=!0,a.html5[e[n]]=!0,a.flash[e[n]]=!!e[n].match(jt);n=i}else e=t&&"function"==typeof t.canPlayType?t.canPlayType(e):!1,n=!!e&&!!e.match(a.html5Test);return n}if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t="undefined"!=typeof Audio?Mt&&10>opera.version()?new Audio(null):new Audio:null,n,r,i={},s;s=a.audioFormats;for(n in s)if(s.hasOwnProperty(n)&&(r="audio/"+n,i[n]=e(s[n].type),i[r]=i[n],n.match(jt)?(a.flash[n]=!0,a.flash[r]=!0):(a.flash[n]=!1,a.flash[r]=!1),s[n]&&s[n].related))for(r=s[n].related.length-1;0<=r;r--)i["audio/"+s[n].related[r]]=i[n],a.html5[s[n].related[r]]=i[n],a.flash[s[n].related[r]]=i[n];i.canPlayType=t?e:null;a.html5=C(a.html5,i);return!0};Q=function(){};Z=function(e){8===y&&1<e.loops&&e.stream&&(e.stream=!1);return e};et=function(e){e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(e.usePolicyFile=!0);return e};tt=function(){};v=function(){return!1};X=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=v)};V=function(e){"undefined"==typeof e&&(e=!1);(x||e)&&a.disable(e)};$=function(e){var t=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");e=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+a.movieURL;a.noSWFCache&&(e+="?ts="+(new Date).getTime());return e};P=function(){y=parseInt(a.flashVersion,10);8!==y&&9!==y&&(a.flashVersion=y=8);var e=a.debugMode||a.debugFlash?"_debug.swf":".swf";a.useHTML5Audio&&!a.html5Only&&a.audioFormats.mp4.required&&9>y&&(a.flashVersion=y=9);a.version=a.versionNumber+(a.html5Only?" (HTML5-only mode)":9===y?" (AS3/Flash 9)":" (AS2/Flash 8)");8<y?(a.defaultOptions=C(a.defaultOptions,a.flash9Options),a.features.buffering=!0,a.defaultOptions=C(a.defaultOptions,a.movieStarOptions),a.filePatterns.flash9=RegExp("\\.(mp3|"+Rt.join("|")+")(\\?.*)?$","i"),a.features.movieStar=!0):a.features.movieStar=!1;a.filePattern=a.filePatterns[8!==y?"flash9":"flash8"];a.movieURL=(8===y?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e);a.features.peakData=a.features.waveformData=a.features.eqData=8<y};z=function(e,t){if(!f)return!1;f._setPolling(e,t)};W=function(){a.debugURLParam.test(p)&&(a.debugMode=!0)};nt=this.getSoundById;Y=function(){var e=[];a.debugMode&&e.push("sm2_debug");a.debugFlash&&e.push("flash_debug");a.useHighPerformance&&e.push("high_performance");return e.join(" ")};G=function(){Q("fbHandler");var e=a.getMoviePercent(),t={type:"FLASHBLOCK"};if(a.html5Only)return!1;if(a.ok())a.oMC&&(a.oMC.className=[Y(),"movieContainer","swf_loaded"+(a.didFlashBlock?" swf_unblocked":"")].join(" "));else{ct&&(a.oMC.className=Y()+" movieContainer "+(null===e?"swf_timedout":"swf_error"));a.didFlashBlock=!0;O({type:"ontimeout",ignoreInit:!0,error:t});U(t)}};A=function(e,t,n){"undefined"==typeof b[e]&&(b[e]=[]);b[e].push({method:t,scope:n||null,fired:!1})};O=function(e){e||(e={type:a.ok()?"onready":"ontimeout"});if(!S&&e&&!e.ignoreInit||"ontimeout"===e.type&&(a.ok()||x&&!e.ignoreInit))return!1;var t={success:e&&e.ignoreInit?a.ok():!x},n=e&&e.type?b[e.type]||[]:[],r=[],i,t=[t],s=ct&&a.useFlashBlock&&!a.ok();e.error&&(t[0].error=e.error);for(e=0,i=n.length;e<i;e++)!0!==n[e].fired&&r.push(n[e]);if(r.length)for(e=0,i=r.length;e<i;e++)if(r[e].scope?r[e].method.apply(r[e].scope,t):r[e].method.apply(this,t),!s)r[e].fired=!0;return!0};M=function(){h.setTimeout(function(){a.useFlashBlock&&G();O();"function"==typeof a.onload&&a.onload.apply(h);a.waitForWindowLoad&&bt.add(h,"load",M)},1)};xt=function(){if("undefined"!=typeof St)return St;var e=!1,t=navigator,n=t.plugins,r,i=h.ActiveXObject;if(n&&n.length)(t=t.mimeTypes)&&t["application/x-shockwave-flash"]&&t["application/x-shockwave-flash"].enabledPlugin&&t["application/x-shockwave-flash"].enabledPlugin.description&&(e=!0);else if("undefined"!=typeof i){try{r=new i("ShockwaveFlash.ShockwaveFlash")}catch(s){}e=!!r}return St=e};ht=function(){var e,t,n=a.audioFormats;if(kt&&c.match(/os (1|2|3_0|3_1)/i)){if(a.hasHTML5=!1,a.html5Only=!0,a.oMC)a.oMC.style.display="none"}else a.useHTML5Audio&&(!a.html5||!a.html5.canPlayType)&&(a.hasHTML5=!1);if(a.useHTML5Audio&&a.hasHTML5)for(t in n)n.hasOwnProperty(t)&&(n[t].required&&!a.html5.canPlayType(n[t].type)||a.preferFlash&&(a.flash[t]||a.flash[n[t].type]))&&(e=!0);a.ignoreFlash&&(e=!1);a.html5Only=a.hasHTML5&&a.useHTML5Audio&&!e;return!a.html5Only};lt=function(e){var t,n,r=0;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(a.canPlayMIME(e[t].type)){r=t;break}}else if(a.canPlayURL(e[t])){r=t;break}e[r].url&&(e[r]=e[r].url);e=e[r]}return e};st=function(e){e._hasTimer||(e._hasTimer=!0,!_t&&a.html5PollingInterval&&(null===ft&&0===at&&(ft=h.setInterval(ut,a.html5PollingInterval)),at++))};ot=function(e){e._hasTimer&&(e._hasTimer=!1,!_t&&a.html5PollingInterval&&at--)};ut=function(){var e;if(null!==ft&&!at)return h.clearInterval(ft),ft=null,!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].isHTML5&&a.sounds[a.soundIDs[e]]._hasTimer&&a.sounds[a.soundIDs[e]]._onTimer()};U=function(e){e="undefined"!=typeof e?e:{};"function"==typeof a.onerror&&a.onerror.apply(h,[{type:"undefined"!=typeof e.type?e.type:null}]);"undefined"!=typeof e.fatal&&e.fatal&&a.disable()};Tt=function(){if(!Dt||!xt())return!1;var e=a.audioFormats,t,n;for(n in e)if(e.hasOwnProperty(n)&&("mp3"===n||"mp4"===n))if(a.html5[n]=!1,e[n]&&e[n].related)for(t=e[n].related.length-1;0<=t;t--)a.html5[e[n].related[t]]=!1};this._setSandboxType=function(){};this._externalInterfaceOK=function(){if(a.swfLoaded)return!1;(new Date).getTime();a.swfLoaded=!0;Ht=!1;Dt&&Tt();setTimeout(g,Lt?100:1)};R=function(e,t){function n(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(w&&E)return!1;if(a.html5Only)return P(),a.oMC=l(a.movieID),g(),E=w=!0,!1;var r=t||a.url,i=a.altURL||r,s=q(),o=Y(),u=null,u=d.getElementsByTagName("html")[0],f,h,p,u=u&&u.dir&&u.dir.match(/rtl/i),e="undefined"==typeof e?a.id:e;P();a.url=$(Ft?r:i);t=a.url;a.wmode=!a.wmode&&a.useHighPerformance?"transparent":a.wmode;null!==a.wmode&&(c.match(/msie 8/i)||!Lt&&!a.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(a.wmode=null);s={name:e,id:e,src:t,quality:"high",allowScriptAccess:a.allowScriptAccess,bgcolor:a.bgColor,pluginspage:It+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:a.wmode,hasPriority:"true"};a.debugFlash&&(s.FlashVars="debug=1");a.wmode||delete s.wmode;if(Lt)r=d.createElement("div"),h=['<object id="'+e+'" data="'+t+'" type="'+s.type+'" title="'+s.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+It+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',n("movie",t),n("AllowScriptAccess",a.allowScriptAccess),n("quality",s.quality),a.wmode?n("wmode",a.wmode):"",n("bgcolor",a.bgColor),n("hasPriority","true"),a.debugFlash?n("FlashVars",s.FlashVars):"","</object>"].join("");else for(f in r=d.createElement("embed"),s)s.hasOwnProperty(f)&&r.setAttribute(f,s[f]);W();o=Y();if(s=q())if(a.oMC=l(a.movieID)||d.createElement("div"),a.oMC.id){p=a.oMC.className;a.oMC.className=(p?p+" ":"movieContainer")+(o?" "+o:"");a.oMC.appendChild(r);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}else{a.oMC.id=a.movieID;a.oMC.className="movieContainer "+o;f=o=null;if(!a.useFlashBlock)if(a.useHighPerformance)o={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"};else if(o={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},u)o.left=Math.abs(parseInt(o.left,10))+"px";At&&(a.oMC.style.zIndex=1e4);if(!a.debugFlash)for(p in o)o.hasOwnProperty(p)&&(a.oMC.style[p]=o[p]);try{Lt||a.oMC.appendChild(r);s.appendChild(a.oMC);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}catch(v){throw Error(Q("domError")+" \n"+v.toString())}}return w=!0};B=function(){if(a.html5Only)return R(),!1;if(f||!a.url)return!1;f=a.getMovie(a.id);f||(J?(Lt?a.oMC.innerHTML=K:a.oMC.appendChild(J),J=null,w=!0):R(a.id,a.url),f=a.getMovie(a.id));"function"==typeof a.oninitmovie&&setTimeout(a.oninitmovie,1);return!0};_=function(){setTimeout(D,1e3)};D=function(){var e,t=!1;if(!a.url||rt)return!1;rt=!0;bt.remove(h,"load",_);if(Ht&&!Pt)return!1;S||(e=a.getMoviePercent(),0<e&&100>e&&(t=!0));setTimeout(function(){e=a.getMoviePercent();if(t)return rt=!1,h.setTimeout(_,1),!1;!S&&Bt&&(null===e?a.useFlashBlock||0===a.flashLoadTimeout?a.useFlashBlock&&G():V(!0):0!==a.flashLoadTimeout&&V(!0))},a.flashLoadTimeout
)};H=function(){if(Pt||!Ht)return bt.remove(h,"focus",H),!0;Pt=Bt=!0;rt=!1;_();bt.remove(h,"focus",H);return!0};Ct=function(){};N=function(e){if(S)return!1;if(a.html5Only)return S=!0,M(),!0;var t=!0,n;if(!a.useFlashBlock||!a.flashLoadTimeout||a.getMoviePercent())S=!0,x&&(n={type:!St&&ct?"NO_FLASH":"INIT_TIMEOUT"});if(x||e){a.useFlashBlock&&a.oMC&&(a.oMC.className=Y()+" "+(null===a.getMoviePercent()?"swf_timedout":"swf_error"));O({type:"ontimeout",error:n,ignoreInit:!0});U(n);t=!1}x||(a.waitForWindowLoad&&!T?bt.add(h,"load",M):M());return t};m=function(){var e,t=a.setupOptions;for(e in t)t.hasOwnProperty(e)&&("undefined"==typeof a[e]?a[e]=t[e]:a[e]!==t[e]&&(a.setupOptions[e]=a[e]))};g=function(){if(S)return!1;if(a.html5Only){S||(bt.remove(h,"load",a.beginDelayedInit),a.enabled=!0,N());return!0}B();try{f._externalInterfaceTest(!1),z(!0,a.flashPollingInterval||(a.useHighPerformance?10:50)),a.debugMode||f._disableDebug(),a.enabled=!0,a.html5Only||bt.add(h,"unload",v)}catch(e){return U({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),V(!0),N(),!1}N();bt.remove(h,"load",a.beginDelayedInit);return!0};j=function(){if(I)return!1;I=!0;m();W();!St&&a.hasHTML5&&a.setup({useHTML5Audio:!0,preferFlash:!1});yt();a.html5.usingFlash=ht();ct=a.html5.usingFlash;Ct();!St&&ct&&a.setup({flashLoadTimeout:1});d.removeEventListener&&d.removeEventListener("DOMContentLoaded",j,!1);B();return!0};gt=function(){"complete"===d.readyState&&(j(),d.detachEvent("onreadystatechange",gt));return!0};F=function(){T=!0;bt.remove(h,"load",F)};xt();bt.add(h,"focus",H);bt.add(h,"load",_);bt.add(h,"load",F);d.addEventListener?d.addEventListener("DOMContentLoaded",j,!1):d.attachEvent?d.attachEvent("onreadystatechange",gt):U({type:"NO_DOM2_EVENTS",fatal:!0})}var n=null;if("undefined"==typeof SM2_DEFER||!SM2_DEFER)n=new t;e.SoundManager=t;e.soundManager=n})(window);__slice=[].slice;typeof soundManager!="undefined"&&soundManager.setup({url:"swf/",flashVersion:9,useFlashBlock:!1,useHighPerformance:!0,wmode:"transparent",useFastPolling:!0,debugFlash:!1,debugMode:!1});var SoundCloudPlayer=function(e,t){var n={loop:!1,start_on:0,autoplay:!1,autoswitch:!0,volume:100,toggle_pause:!0,cache:!0,preload:!1,debug:!1},r="http://api.soundcloud.com/resolve?url=http://soundcloud.com",i=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi),s=this,o=jQuery(this);this.tracks=[];this.config=jQuery.extend(n,t);this.current_track_index=this.config.start_on;this.current_track=null;this.sound=null;this.inited=!1;this.play_when_ready=!1;this.cache={};this.init=function(){if(s.inited)return;s.change_track();s.trigger("scplayer.init");s.config.autoplay&&s.play();s.inited=!0};this.change_track=function(e){s.log("change_track");if(s.sound){s.sound.destruct();s.sound=null}var t=typeof e!="undefined"?e:s.current_track_index;if(e!=s.current_track_index||!e){var n=s.tracks[t];s.resolve_track(n,s.set_sound);s.trigger("scplayer.changing_track",t)}return s};this.play=function(){s.log("play");s.sound&&s.sound.readyState==3?s.sound.play():s.play_when_ready=!0;s.trigger("scplayer.play",s.current_track_index);return s};this.pause=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.pause();s.trigger("scplayer.pause",s.sound.paused)}return s};this.resume=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.resume();s.trigger("scplayer.pause",s.sound.paused)}return s};this.stop=function(){s.sound&&s.sound.stop();s.trigger("scplayer.stop");s.log("stop");return s};this.next=function(e){s.log("next");s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;s.log(s.play_when_ready);if(s.tracks[s.current_track_index+1]){s.current_track_index++;s.change_track();s.trigger("scplayer.playlist.next",s.current_track_index-1,s.current_track_index);s.log("has next")}else if(s.config.loop){s.current_track_index=0;s.change_track();s.trigger("scplayer.playlist.looped");s.log("looped")}else{s.current_track_index=s.tracks.length-1;s.trigger("scplayer.playlist.ended");s.log("no mas")}return s};this.prev=function(e){s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;if(s.tracks[s.current_track_index-1]){s.current_track_index--;s.change_track();s.trigger("scplayer.playlist.prev")}else if(s.config.loop){s.current_track_index=s.tracks.length-1;s.change_track();s.trigger("scplayer.playlist.looped")}else{s.current_track_index=0;s.trigger("scplayer.playlist.restarted")}return s};this.goto=function(e,t){s.log("goto");s.play_when_ready=typeof t!="undefined"?t:s.config.autoswitch;if(s.tracks[e]){s.current_track_index=e;s.trigger("scplayer.playlist.goto");s.change_track()}return s};this.restart_track=function(){s.position(0);return s};this.mute=function(){s.sound&&s.sound.toggleMute();s.trigger("scplayer.mute",s.sound.muted);return s};this.has_next=function(){s.log("has next");return s.tracks[s.current_track_index+1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.has_prev=function(){return s.tracks[s.current_track_index-1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.get_time=function(){var e=this.position(),t=e%1e3,n=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),i=Math.floor(e/36e5%24),o=r+":"+s.pad(n);i>0&&(o=i+":"+o);return o};this.position=function(e){if(s.sound){if(e||e===0){e=Math.min(s.sound.duration,e);e=Math.max(0,e);s.trigger("scplayer.position",e);return s.sound.setPosition(e)}s.trigger("scplayer.position",s.sound.position);return s.sound.position}return 0};this.volume=function(e){if(s.sound){if(e||e===0){e=Math.min(100,e);e=Math.max(0,e);s.trigger("scplayer.volume",e);s.config.volume=e;return s.sound.setVolume(e)}s.trigger("scplayer.volume",s.sound.volume);return s.sound.volume}return s.config.volume};this.seek=function(e){var t=s.current_track.duration*e;s.position(t);return s};this.loop=function(e){if(e){s.config.loop=e;s.trigger("scplayer.loop_changed",s.config.loop)}return s.config.loop};this.track_info=function(e){s.isNumeric(e)&&(e=s.tracks[e]);return s.resolve_track(e)};this.on=function(e,t){return o.on(e,t)};this.trigger=function(e){var t=arguments.length>1?__slice.call(arguments,1):[];return o.trigger(e,t)};this.destroy=function(){s.sound&&s.sound.destruct();s.tracks=[];o.off();o.remove();s.tracks=null;s.track=null;s=null;delete s.tracks;delete s.track;delete s;delete this};s.get_track=function(){return s.current_track};s.get_track_index=function(){return s.current_track_index};s.get_sound=function(){return s.sound};s.get_playlist=function(){return s.tracks};s.set_cache=function(e,t){s.config.cache===!0&&(s.cache[e]=t)};s.get_cache=function(e){return s.config.cache===!0?s.cache[e]||null:null};s.set_sound=function(e){s.log("set_sound");s.trigger("scplayer.track.info_loaded",e);s.current_track=e;var t=e.stream_url;t+=t.indexOf("secret_token")==-1?"?":"&";t+="consumer_key="+s.config.consumer_key;s.sound=soundManager.createSound({autoLoad:!0,id:"track_"+e.id,multiShot:!1,loops:1,url:t,volume:s.config.volume,whileloading:function(){var e=Math.round(this.bytesLoaded/this.bytesTotal*100);s.trigger("scplayer.track.whileloading",e)},whileplaying:function(){var t=Math.round(this.position/e.duration*100*10)/10;s.trigger("scplayer.track.whileplaying",t)},onplay:function(){s.log("track.onplay");s.trigger("scplayer.track.played")},onresume:function(){s.trigger("scplayer.track.resumed")},onstop:function(){s.trigger("scplayer.track.stopped")},onpause:function(){s.trigger("scplayer.track.paused")},onfinish:function(){s.trigger("scplayer.track.finished")},onload:function(){s.log("onload");s.trigger("scplayer.track.ready",s.current_track_index,s.current_track)}});s.trigger("scplayer.track.bindable",e,s.sound)};s.resolve_track=function(e,t){var n=new jQuery.Deferred;if(e.match(i)&&e.search(/soundcloud\.com/i)===-1){var o={stream_url:e,id:0,permalink_url:e,duration:0};n.resolve(o)}e=e.replace(/https?\:\/\/soundcloud\.com/gi,"");if(s.config.cache===!0){var u=s.get_cache(e);if(u&&t){n.done(function(){t(u)}).resolve();return n}}n.done(function(n){if(n.tracks&&n.tracks.length>0){var r=s.parse_tracks(e,n.tracks);n=r[0]}else s.config.cache===!0&&s.set_cache(e,n);t&&t(n)});jQuery.ajax({url:r+e+"&format=json"+"&consumer_key="+s.config.consumer_key+"&callback=?",dataType:"jsonp",error:function(e,t,r){n.reject(e,t,r)},success:function(e){n.resolve(e)}});return n};s.preload_sc_tracks=function(e){var t=[];for(var n=0,r=s.tracks.length;n<r;n++){var i=s.tracks[n],o=s.resolve_track(i);t.push(o)}jQuery.when.apply(jQuery,t).then(function(){s.trigger("scplayer.playlist.preloaded");e&&e()},function(){s.log("promises failed to preload tracks")})};s.parse_tracks=function(e,t){var n=[],r=[],i=s.tracks.indexOf(e);for(var o=0,u=t.length;o<u;o++){var a=t[o],f=a.permalink_url.substring(21);s.config.cache===!0&&s.set_cache(f,a);n.push(a);r.push(f)}var l=[i,1].concat(r);s.tracks.splice.apply(s.tracks,l);return n};s.add_tracks=function(e){typeof e=="string"&&(e=[e]);if(e!=null&&e.length>0){s.tracks=s.tracks.concat(e);s.config.preload==1?s.preload_sc_tracks.call(s,s.init):s.init.call(s)}};s.log=function(){s.config.debug&&window.console&&console.log.apply(console,arguments)};s.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};s.pad=function(e){return(e<10?"0":"")+e};s.on("scplayer.track.ready",function(e){s.log("track.onready!!!");if(s.play_when_ready==1){s.play();s.play_when_ready=!1}});s.on("scplayer.track.finished",function(e){s.log("track finished");if(s.config.autoswitch&&(s.config.loop||s.has_next())){s.log("finished and autoswitch");s.next().play()}});s.on("scplayer.playlist.ended",function(e){s.log("playlist ended");s.config.loop||s.stop()});soundManager.onready(function(){s.log("SOUNDMANAGER2 ready!!");s.add_tracks(e)});soundManager.ontimeout(function(){window.console&&console.log("SOUNDMANAGER2 TIMEDOUT!!")});return{play:this.play,pause:this.pause,resume:this.resume,stop:this.stop,next:this.next,prev:this.prev,mute:this.mute,get_time:this.get_time,volume:this.volume,restart_track:this.restart_track,"goto":this.goto,position:this.position,seek:this.seek,track_info:this.track_info,has_next:this.has_next,has_prev:this.has_prev,on:this.on,trigger:this.trigger,track:this.get_track,track_index:this.get_track_index,sound:this.get_sound,playlist:this.get_playlist,destroy:this.destroy,add_tracks:this.add_tracks}};(function(e){function t(t,n){function r(e){return a.preferFlash&&St&&!a.ignoreFlash&&"undefined"!=typeof a.flash[e]&&a.flash[e]}function i(e){return function(t){var n=this._t;return!n||!n._a?null:e.call(this,t)}}this.setupOptions={url:t||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=n||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20120916";this.altURL=this.movieURL=this.version=null;this.enabled=this.swfLoaded=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.didFlashBlock=this.muted=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={};var s;try{s="undefined"!=typeof Audio&&"undefined"!=typeof (Mt&&10>opera.version()?new Audio(null):new Audio).canPlayType}catch(o){s=!1}this.hasHTML5=s;this.html5={usingFlash:null};this.flash={};this.ignoreFlash=this.html5Only=!1;var u,a=this,f=null,l,c=navigator.userAgent,h=e,p=h.location.href.toString(),d=document,v,m,g,y,b=[],w=!1,E=!1,S=!1,x=!1,T=!1,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J=null,K=null,Q,G,Y,Z,et,tt,nt,rt=!1,it=!1,st,ot,ut,at=0,ft=null,lt,ct=null,ht,pt,dt,vt,mt,gt,yt,bt,wt=Array.prototype.slice,Et=!1,St,xt,Tt,Nt,Ct,kt=c.match(/(ipad|iphone|ipod)/i),Lt=c.match(/msie/i),At=c.match(/webkit/i),Ot=c.match(/safari/i)&&!c.match(/chrome/i),Mt=c.match(/opera/i),_t=c.match(/(mobile|pre\/|xoom)/i)||kt,Dt=!p.match(/usehtml5audio/i)&&!p.match(/sm2\-ignorebadua/i)&&Ot&&!c.match(/silk/i)&&c.match(/OS X 10_6_([3-7])/i),Pt="undefined"!=typeof d.hasFocus?d.hasFocus():null,Ht=Ot&&("undefined"==typeof d.hasFocus||!d.hasFocus()),Bt=!Ht,jt=/(mp3|mp4|mpa|m4a|m4b)/i,Ft=d.location?d.location.protocol.match(/http/i):null,It=Ft?"":"http://",qt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Rt="mpeg4,aac,flv,mov,mp4,m4v,f4v,m4a,m4b,mp4v,3gp,3g2".split(","),Ut=RegExp("\\.("+Rt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!Ft;this._global_a=null;_t&&(a.useHTML5Audio=!0,a.preferFlash=!1,kt)&&(Et=a.ignoreFlash=!0);this.setup=function(e){var t=!a.url;"undefined"!=typeof e&&S&&ct&&a.ok()&&("undefined"!=typeof e.flashVersion||"undefined"!=typeof e.url)&&tt(Q("setupLate"));k(e);t&&I&&"undefined"!=typeof e.url&&a.beginDelayedInit();!I&&"undefined"!=typeof e.url&&"complete"===d.readyState&&setTimeout(j,1);return a};this.supported=this.ok=function(){return ct?S&&!x:a.useHTML5Audio&&a.hasHTML5};this.getMovie=function(e){return l(e)||d[e]||h[e]};this.createSound=function(e,t){function n(){r=Z(r);a.sounds[s.id]=new u(s);a.soundIDs.push(s.id);return a.sounds[s.id]}var r=null,i=null,s=null;if(!S||!a.ok())return tt(void 0),!1;"undefined"!=typeof t&&(e={id:e,url:t});r=C(e);r.url=lt(r.url);s=r;if(nt(s.id,!0))return a.sounds[s.id];if(pt(s))i=n(),i._setup_html5(s);else{8<y&&null===s.isMovieStar&&(s.isMovieStar=!!s.serverURL||!!(s.type&&s.type.match(qt)||s.url.match(Ut)));s=et(s,void 0);i=n();if(8===y)f._createSound(s.id,s.loops||1,s.usePolicyFile);else if(f._createSound(s.id,s.url,s.usePeakData,s.useWaveformData,s.useEQData,s.isMovieStar,s.isMovieStar?s.bufferTime:!1,s.loops||1,s.serverURL,s.duration||null,s.autoPlay,!0,s.autoLoad,s.usePolicyFile),!s.serverURL)i.connected=!0,s.onconnect&&s.onconnect.apply(i);!s.serverURL&&(s.autoLoad||s.autoPlay)&&i.load(s)}!s.serverURL&&s.autoPlay&&i.play();return i};this.destroySound=function(e,t){if(!nt(e))return!1;var n=a.sounds[e],r;n._iO={};n.stop();n.unload();for(r=0;r<a.soundIDs.length;r++)if(a.soundIDs[r]===e){a.soundIDs.splice(r,1);break}t||n.destruct(!0);delete a.sounds[e];return!0};this.load=function(e,t){return nt(e)?a.sounds[e].load(t):!1};this.unload=function(e){return nt(e)?a.sounds[e].unload():!1};this.onposition=this.onPosition=function(e,t,n,r){return nt(e)?a.sounds[e].onposition(t,n,r):!1};this.clearOnPosition=function(e,t,n){return nt(e)?a.sounds[e].clearOnPosition(t,n):!1};this.start=this.play=function(e,t){var n=!1;if(!S||!a.ok())return tt("soundManager.play(): "+Q(S?"notOK":"notReady")),n;if(!nt(e)){t instanceof Object||(t={url:t});t&&t.url&&(t.id=e,n=a.createSound(t).play());return n}return a.sounds[e].play(t)};this.setPosition=function(e,t){return nt(e)?a.sounds[e].setPosition(t):!1};this.stop=function(e){return nt(e)?a.sounds[e].stop():!1};this.stopAll=function(){for(var e in a.sounds)a.sounds.hasOwnProperty(e)&&a.sounds[e].stop()};this.pause=function(e){return nt(e)?a.sounds[e].pause():!1};this.pauseAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].pause()};this.resume=function(e){return nt(e)?a.sounds[e].resume():!1};this.resumeAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].resume()};this.togglePause=function(e){return nt(e)?a.sounds[e].togglePause():!1};this.setPan=function(e,t){return nt(e)?a.sounds[e].setPan(t):!1};this.setVolume=function(e,t){return nt(e)?a.sounds[e].setVolume(t):!1};this.mute=function(e){var t=0;"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].mute():!1;for(t=a.soundIDs.length-1;0<=t;t--)a.sounds[a.soundIDs[t]].mute();return a.muted=!0};this.muteAll=function(){a.mute()};this.unmute=function(e){"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].unmute():!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].unmute();a.muted=!1;return!0};this.unmuteAll=function(){a.unmute()};this.toggleMute=function(e){return nt(e)?a.sounds[e].toggleMute():!1};this.getMemoryUse=function(){var e=0;f&&8!==y&&(e=parseInt(f._getMemoryUse(),10));return e};this.disable=function(e){var t;"undefined"==typeof e&&(e=!1);if(x)return!1;x=!0;for(t=a.soundIDs.length-1;0<=t;t--)X(a.sounds[a.soundIDs[t]]);N(e);bt.remove(h,"load",M);return!0};this.canPlayMIME=function(e){var t;a.hasHTML5&&(t=dt({type:e}));!t&&ct&&(t=e&&a.ok()?!!(8<y&&e.match(qt)||e.match(a.mimePattern)):null);return t};this.canPlayURL=function(e){var t;a.hasHTML5&&(t=dt({url:e}));!t&&ct&&(t=e&&a.ok()?!!e.match(a.filePattern):null);return t};this.canPlayLink=function(e){return"undefined"!=typeof e.type&&e.type&&a.canPlayMIME(e.type)?!0:a.canPlayURL(e.href)};this.getSoundById=function(e){if(!e)throw Error("soundManager.getSoundById(): sID is null/undefined");return a.sounds[e]};this.onready=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","onready");t||(t=h),A("onready",e,t),O();return!0};this.ontimeout=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","ontimeout");t||(t=h),A("ontimeout",e,t),O({type:"ontimeout"});return!0};this._wD=this._writeDebug=function(){return!0};this._debug=function(){};this.reboot=function(){var e,t;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].destruct();if(f)try{Lt&&(K=f.innerHTML);J=f.parentNode.removeChild(f)}catch(n){}K=J=ct=null;a.enabled=I=S=rt=it=w=E=x=a.swfLoaded=!1;a.soundIDs=[];a.sounds={};f=null;for(e in b)if(b.hasOwnProperty(e))for(t=b[e].length-1;0<=t;t--)b[e][t].fired=!1;h.setTimeout(a.beginDelayedInit,20)};this.getMoviePercent=function(){return f&&"undefined"!=typeof f.PercentLoaded?f.PercentLoaded():null};this.beginDelayedInit=function(){T=!0;j();setTimeout(function(){if(it)return!1;R();B();return it=!0},20);_()};this.destruct=function(){a.disable(!0)};u=function(e){var t,n,r=this,i,s,o,u,l,c,h=!1,p=[],d=0,v,m,g=null;t=null;n=null;this.sID=this.id=e.id;this.url=e.url;this._iO=this.instanceOptions=this.options=C(e);this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;this.id3={};this._debug=function(){};this.load=function(e){var t=null;if("undefined"!=typeof e)r._iO=C(e,r.options),r.instanceOptions=r._iO;else if(e=r.options,r._iO=e,r.instanceOptions=r._iO,g&&g!==r.url)r._iO.url=r.url,r.url=null;r._iO.url||(r._iO.url=r.url);r._iO.url=lt(r._iO.url);if(r._iO.url===r.url&&0!==r.readyState&&2!==r.readyState)return 3===r.readyState&&r._iO.onload&&r._iO.onload.apply(r,[!!r.duration]),r;e=r._iO;g=r.url&&r.url.toString?r.url.toString():null;r.loaded=!1;r.readyState=1;r.playState=0;r.id3={};if(pt(e)){if(t=r._setup_html5(e),!t._called_load){r._html5_canplay=!1;r._a.src!==e.url&&(r._a.src=e.url,r.setPosition(0));r._a.autobuffer="auto";r._a.preload="auto";t._called_load=!0;e.autoPlay&&r.play()}}else try{r.isHTML5=!1,r._iO=et(Z(e)),e=r._iO,8===y?f._load(r.id,e.url,e.stream,e.autoPlay,e.whileloading?1:0,e.loops||1,e.usePolicyFile):f._load(r.id,e.url,!!e.stream,!!e.autoPlay,e.loops||1,!!e.autoLoad,e.usePolicyFile)}catch(n){U({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}r.url=e.url;return r};this.unload=function(){if(0!==r.readyState){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a,"about:blank"),r.url="about:blank"}else 8===y?f._unload(r.id,"about:blank"):f._unload(r.id);i()}return r};this.destruct=function(e){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a),Et||o(),r._a._t=null,r._a=null}else r._iO.onfailure=null,f._destroySound(r.id);e||a.destroySound(r.id,!0)};this.start=this.play=function(e,t){var n,i;i=!0;i=null;t="undefined"==typeof t?!0:t;e||(e={});r.url&&(r._iO.url=r.url);r._iO=C(r._iO,r.options);r._iO=C(e,r._iO);r._iO.url=lt(r._iO.url);r.instanceOptions=r._iO;if(r._iO.serverURL&&!r.connected)return r.getAutoPlay()||r.setAutoPlay(!0),r;pt(r._iO)&&(r._setup_html5(r._iO),l());1===r.playState&&!r.paused&&((n=r._iO.multiShot)||(i=r));if(null!==i)return i;e.url&&e.url!==r.url&&r.load(r._iO);if(!r.loaded)if(0===r.readyState){r.isHTML5||(r._iO.autoPlay=!0);r.load(r._iO)}else 2===r.readyState&&(i=r);if(null!==i)return i;!r.isHTML5&&9===y&&0<r.position&&r.position===r.duration&&(e.position=0);if(r.paused&&0<=r.position&&(!r._iO.serverURL||0<r.position))r.resume();else{r._iO=C(e,r._iO);if(null!==r._iO.from&&null!==r._iO.to&&0===r.instanceCount&&0===r.playState&&!r._iO.serverURL){n=function(){r._iO=C(e,r._iO);r.play(r._iO)};r.isHTML5&&!r._html5_canplay?(r.load({_oncanplay:n}),i=!1):!r.isHTML5&&!r.loaded&&(!r.readyState||2!==r.readyState)&&(r.load({onload:n}),i=!1);if(null!==i)return i;r._iO=m()}(!r.instanceCount||r._iO.multiShotEvents||!r.isHTML5&&8<y&&!r.getAutoPlay())&&r.instanceCount++;r._iO.onposition&&0===r.playState&&c(r);r.playState=1;r.paused=!1;r.position="undefined"!=typeof r._iO.position&&!isNaN(r._iO.position)?r._iO.position:0;r.isHTML5||(r._iO=et(Z(r._iO)));r._iO.onplay&&t&&(r._iO.onplay.apply(r),h=!0);r.setVolume(r._iO.volume,!0);r.setPan(r._iO.pan,!0);r.isHTML5?(l(),i=r._setup_html5(),r.setPosition(r._iO.position),i.play()):(i=f._start(r.id,r._iO.loops||1,9===y?r._iO.position:r._iO.position/1e3,r._iO.multiShot),9===y&&!i&&r._iO.onplayerror&&r._iO.onplayerror.apply(r))}return r};this.stop=function(e){var t=r._iO;if(1===r.playState){r._onbufferchange(0);r._resetOnPosition(0);r.paused=!1;r.isHTML5||(r.playState=0);v();t.to&&r.clearOnPosition(t.to);r.isHTML5?r._a&&(e=r.position,r.setPosition(0),r.position=e,r._a.pause(),r.playState=0,r._onTimer(),u()):(f._stop(r.id,e),t.serverURL&&r.unload());r.instanceCount=0;r._iO={};t.onstop&&t.onstop.apply(r)}return r};this.setAutoPlay=function(e){r._iO.autoPlay=e;r.isHTML5||(f._setAutoPlay(r.id,e),e&&!r.instanceCount&&1===r.readyState&&r.instanceCount++)};this.getAutoPlay=function(){return r._iO.autoPlay};this.setPosition=function(e){"undefined"==typeof e&&(e=0);var t=r.isHTML5?Math.max(e,0):Math.min(r.duration||r._iO.duration,Math.max(e,0));r.position=t;e=r.position/1e3;r._resetOnPosition(r.position);r._iO.position=t;if(r.isHTML5){if(r._a&&r._html5_canplay&&r._a.currentTime!==e)try{r._a.currentTime=e,(0===r.playState||r.paused)&&r._a.pause()}catch(n){}}else e=9===y?r.position:e,r.readyState&&2!==r.readyState&&f._setPosition(r.id,e,r.paused||!r.playState,r._iO.multiShot);r.isHTML5&&r.paused&&r._onTimer(!0);return r};this.pause=function(e){if(r.paused||0===r.playState&&1!==r.readyState)return r;r.paused=!0;r.isHTML5?(r._setup_html5().pause(),u()):(e||"undefined"==typeof e)&&f._pause(r.id,r._iO.multiShot);r._iO.onpause&&r._iO.onpause.apply(r);return r};this.resume=function(){var e=r._iO;if(!r.paused)return r;r.paused=!1;r.playState=1;r.isHTML5?(r._setup_html5().play(),l()):(e.isMovieStar&&!e.serverURL&&r.setPosition(r.position),f._pause(r.id,e.multiShot));!h&&e.onplay?(e.onplay.apply(r),h=!0):e.onresume&&e.onresume.apply(r);return r};this.togglePause=function(){if(0===r.playState)return r.play({position:9===y&&!r.isHTML5?r.position:r.position/1e3}),r;r.paused?r.resume():r.pause();return r};this.setPan=function(e,t){"undefined"==typeof e&&(e=0);"undefined"==typeof t&&(t=!1);r.isHTML5||f._setPan(r.id,e);r._iO.pan=e;t||(r.pan=e,r.options.pan=e);return r};this.setVolume=function(e,t){"undefined"==typeof e&&(e=100);"undefined"==typeof t&&(t=!1);r.isHTML5?r._a&&(r._a.volume=Math.max(0,Math.min(1,e/100))):f._setVolume(r.id,a.muted&&!r.muted||r.muted?0:e);r._iO.volume=e;t||(r.volume=e,r.options.volume=e);return r};this.mute=function(){r.muted=!0;r.isHTML5?r._a&&(r._a.muted=!0):f._setVolume(r.id,0);return r};this.unmute=function(){r.muted=!1;var e="undefined"!=typeof r._iO.volume;r.isHTML5?r._a&&(r._a.muted=!1):f._setVolume(r.id,e?r._iO.volume:r.options.volume);return r};this.toggleMute=function(){return r.muted?r.unmute():r.mute()};this.onposition=this.onPosition=function(e,t,n){p.push({position:parseInt(e,10),method:t,scope:"undefined"!=typeof n?n:r,fired:!1});return r};this.clearOnPosition=function(e,t){var n,e=parseInt(e,10);if(isNaN(e))return!1;for(n=0;n<p.length;n++)e===p[n].position&&(!t||t===p[n].method)&&(p[n].fired&&d--,p.splice(n,1))};this._processOnPosition=function(){var e,t;e=p.length;if(!e||!r.playState||d>=e)return!1;for(e-=1;0<=e;e--)if(t=p[e],!t.fired&&r.position>=t.position)t.fired=!0,d++,t.method.apply(t.scope,[t.position]);return!0};this._resetOnPosition=function(e){var t,n;t=p.length;if(!t)return!1;for(t-=1;0<=t;t--)if(n=p[t],n.fired&&e<=n.position)n.fired=!1,d--;return!0};m=function(){var e=r._iO,t=e.from,n=e.to,i,s;s=function(){r.clearOnPosition(n,s);r.stop()};i=function(){null!==n&&!isNaN(n)&&r.onPosition(n,s)};null!==t&&!isNaN(t)&&(e.position=t,e.multiShot=!1,i());return e};c=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.onPosition(parseInt(e,10),t[e])};v=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.clearOnPosition(parseInt(e,10))};l=function(){r.isHTML5&&st(r)};u=function(){r.isHTML5&&ot(r)};i=function(e){e||(p=[],d=0);h=!1;r._hasTimer=null;r._a=null;r._html5_canplay=!1;r.bytesLoaded=null;r.bytesTotal=null;r.duration=r._iO&&r._iO.duration?r._iO.duration:null;r.durationEstimate=null;r.buffered=[];r.eqData=[];r.eqData.left=[];r.eqData.right=[];r.failures=0;r.isBuffering=!1;r.instanceOptions={};r.instanceCount=0;r.loaded=!1;r.metadata={};r.readyState=0;r.muted=!1;r.paused=!1;r.peakData={left:0,right:0};r.waveformData={left:[],right:[]};r.playState=0;r.position=null;r.id3={}};i();this._onTimer=function(e){var i,s=!1,o={};if(r._hasTimer||e){if(r._a&&(e||(0<r.playState||1===r.readyState)&&!r.paused)){i=r._get_html5_duration();i!==t&&(t=i,r.duration=i,s=!0);r.durationEstimate=r.duration;i=1e3*r._a.currentTime||0;i!==n&&(n=i,s=!0);(s||e)&&r._whileplaying(i,o,o,o,o)}return s}};this._get_html5_duration=function(){var e=r._iO;return(e=r._a&&r._a.duration?1e3*r._a.duration:e&&e.duration?e.duration:null)&&!isNaN(e)&&Infinity!==e?e:null};this._apply_loop=function(e,t){e.loop=1<t?"loop":""};this._setup_html5=function(e){var e=C(r._iO,e),t=decodeURI,n=Et?a._global_a:r._a,o=t(e.url),u=n&&n._t?n._t.instanceOptions:null,f;if(n){if(n._t){!Et&&o===t(g)?f=n:Et&&u.url===e.url&&(!g||g===u.url)&&(f=n);if(f)return r._apply_loop(n,e.loops),f}Et&&n._t&&n._t.playState&&e.url!==u.url&&n._t.stop();i(u&&u.url?e.url===u.url:g?g===e.url:!1);n.src=e.url;g=r.url=e.url;n._called_load=!1}else if(r._a=e.autoLoad||e.autoPlay?new Audio(e.url):Mt&&10>opera.version()?new Audio(null):new Audio,n=r._a,n._called_load=!1,Et)a._global_a=n;r.isHTML5=!0;r._a=n;n._t=r;s();r._apply_loop(n,e.loops);e.autoLoad||e.autoPlay?r.load():(n.autobuffer=!1,n.preload="auto");return n};s=function(){if(r._a._added_events)return!1;var e;r._a._added_events=!0;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.addEventListener(e,Nt[e],!1);return!0};o=function(){var e;r._a._added_events=!1;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.removeEventListener(e,Nt[e],!1)};this._onload=function(e){e=!!e||!r.isHTML5&&8===y&&r.duration;r.loaded=e;r.readyState=e?3:2;r._onbufferchange(0);r._iO.onload&&r._iO.onload.apply(r,[e]);return!0};this._onbufferchange=function(e){if(0===r.playState||e&&r.isBuffering||!e&&!r.isBuffering)return!1;r.isBuffering=1===e;r._iO.onbufferchange&&r._iO.onbufferchange.apply(r);return!0};this._onsuspend=function(){r._iO.onsuspend&&r._iO.onsuspend.apply(r);return!0};this._onfailure=function(e,t,n){r.failures++;r._iO.onfailure&&1===r.failures&&r._iO.onfailure(r,e,t,n)};this._onfinish=function(){var e=r._iO.onfinish;r._onbufferchange(0);r._resetOnPosition(0);if(r.instanceCount){r.instanceCount--;!r.instanceCount&&(v(),r.playState=0,r.paused=!1,r.instanceCount=0,r.instanceOptions={},r._iO={},u(),r.isHTML5)&&(r.position=0);(!r.instanceCount||r._iO.multiShotEvents)&&e&&e.apply(r)}};this._whileloading=function(e,t,n,i){var s=r._iO;r.bytesLoaded=e;r.bytesTotal=t;r.duration=Math.floor(n);r.bufferLength=i;r.durationEstimate=!r.isHTML5&&!s.isMovieStar?s.duration?r.duration>s.duration?r.duration:s.duration:parseInt(r.bytesTotal/r.bytesLoaded*r.duration,10):r.duration;r.isHTML5||(r.buffered=[{start:0,end:r.duration}]);(3!==r.readyState||r.isHTML5)&&s.whileloading&&s.whileloading.apply(r)};this._whileplaying=function(e,t,n,i,s){var o=r._iO;if(isNaN(e)||null===e)return!1;r.position=Math.max(0,e);r._processOnPosition();if(!r.isHTML5&&8<y){o.usePeakData&&"undefined"!=typeof t&&t&&(r.peakData={left:t.leftPeak,right:t.rightPeak});o.useWaveformData&&"undefined"!=typeof n&&n&&(r.waveformData={left:n.split(","),right:i.split(",")});o.useEQData&&"undefined"!=typeof s&&s&&s.leftEQ&&(e=s.leftEQ.split(","),r.eqData=e,r.eqData.left=e,"undefined"!=typeof s.rightEQ&&s.rightEQ)&&(r.eqData.right=s.rightEQ.split(","))}1===r.playState&&(!r.isHTML5&&8===y&&!r.position&&r.isBuffering&&r._onbufferchange(0),o.whileplaying&&o.whileplaying.apply(r));return!0};this._oncaptiondata=function(e){r.captiondata=e;r._iO.oncaptiondata&&r._iO.oncaptiondata.apply(r,[e])};this._onmetadata=function(e,t){var n={},i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.metadata=n;r._iO.onmetadata&&r._iO.onmetadata.apply(r)};this._onid3=function(e,t){var n=[],i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.id3=C(r.id3,n);r._iO.onid3&&r._iO.onid3.apply(r)};this._onconnect=function(e){e=1===e;if(r.connected=e)r.failures=0,nt(r.id)&&(r.getAutoPlay()?r.play(void 0,r.getAutoPlay()):r._iO.autoLoad&&r.load()),r._iO.onconnect&&r._iO.onconnect.apply(r,[e])};this._ondataerror=function(){0<r.playState&&r._iO.ondataerror&&r._iO.ondataerror.apply(r)}};q=function(){return d.body||d._docElement||d.getElementsByTagName("div")[0]};l=function(e){return d.getElementById(e)};C=function(e,t){var n=e||{},r,i;r="undefined"==typeof t?a.defaultOptions:t;for(i in r)r.hasOwnProperty(i)&&"undefined"==typeof n[i]&&(n[i]="object"!=typeof r[i]||null===r[i]?r[i]:C(n[i],r[i]));return n};L={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};k=function(e,t){var n,r=!0,i="undefined"!=typeof t,s=a.setupOptions;for(n in e)if(e.hasOwnProperty(n))if("object"!=typeof e[n]||null===e[n]||e[n]instanceof Array)i&&"undefined"!=typeof L[t]?a[t][n]=e[n]:"undefined"!=typeof s[n]?(a.setupOptions[n]=e[n],a[n]=e[n]):"undefined"==typeof L[n]?(tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1):a[n]instanceof Function?a[n].apply(a,e[n]instanceof Array?e[n]:[e[n]]):a[n]=e[n];else{if("undefined"!=typeof L[n])return k(e[n],n);tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1}return r};bt=function(){function e(e){var e=wt.call(e),t=e.length;n?(e[1]="on"+e[1],3<t&&e.pop()):3===t&&e.push(!1);return e}function t(e,t){var i=e.shift(),s=[r[t]];n?i[s](e[0],e[1]):i[s].apply(i,e)}var n=h.attachEvent,r={add:n?"attachEvent":"addEventListener",remove:n?"detachEvent":"removeEventListener"};return{add:function(){t(e(arguments),"add")},remove:function(){t(e(arguments),"remove")}}}();Nt={abort:i(function(){}),canplay:i(function(){var e=this._t,t;if(e._html5_canplay)return!0;e._html5_canplay=!0;e._onbufferchange(0);t="undefined"!=typeof e._iO.position&&!isNaN(e._iO.position)?e._iO.position/1e3:null;if(e.position&&this.currentTime!==t)try{this.currentTime=t}catch(n){}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:i(function(){var e=this._t;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),ended:i(function(){this._t._onfinish()}),error:i(function(){this._t._onload(!1)}),loadeddata:i(function(){var e=this._t;!e._loaded&&!Ot&&(e.duration=e._get_html5_duration())}),loadedmetadata:i(function(){}),loadstart:i(function(){this._t._onbufferchange(1)}),play:i(function(){this._t._onbufferchange(0)}),playing:i(function(){this._t._onbufferchange(0)}),progress:i(function(e){var t=this._t,n,r,i=0,i=e.target.buffered;n=e.loaded||0;var s=e.total||1;t.buffered=[];if(i&&i.length){for(n=0,r=i.length;n<r;n++)t.buffered.push
({start:1e3*i.start(n),end:1e3*i.end(n)});i=1e3*(i.end(0)-i.start(0));n=i/(1e3*e.target.duration)}isNaN(n)||(t._onbufferchange(0),t._whileloading(n,s,t._get_html5_duration()),n&&s&&n===s&&Nt.canplaythrough.call(this,e))}),ratechange:i(function(){}),suspend:i(function(e){var t=this._t;Nt.progress.call(this,e);t._onsuspend()}),stalled:i(function(){}),timeupdate:i(function(){this._t._onTimer()}),waiting:i(function(){this._t._onbufferchange(1)})};pt=function(e){return e.serverURL||e.type&&r(e.type)?!1:e.type?dt({type:e.type}):dt({url:e.url})||a.html5Only};mt=function(e,t){e&&(e.src=t)};dt=function(e){if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t=e.url||null,e=e.type||null,n=a.audioFormats,i;if(e&&"undefined"!=typeof a.html5[e])return a.html5[e]&&!r(e);if(!vt){vt=[];for(i in n)n.hasOwnProperty(i)&&(vt.push(i),n[i].related&&(vt=vt.concat(n[i].related)));vt=RegExp("\\.("+vt.join("|")+")(\\?.*)?$","i")}i=t?t.toLowerCase().match(vt):null;!i||!i.length?e&&(t=e.indexOf(";"),i=(-1!==t?e.substr(0,t):e).substr(6)):i=i[1];i&&"undefined"!=typeof a.html5[i]?t=a.html5[i]&&!r(i):(e="audio/"+i,t=a.html5.canPlayType({type:e}),t=(a.html5[i]=t)&&a.html5[e]&&!r(e));return t};yt=function(){function e(e){var n,r,i=n=!1;if(!t||"function"!=typeof t.canPlayType)return n;if(e instanceof Array){for(n=0,r=e.length;n<r;n++)if(a.html5[e[n]]||t.canPlayType(e[n]).match(a.html5Test))i=!0,a.html5[e[n]]=!0,a.flash[e[n]]=!!e[n].match(jt);n=i}else e=t&&"function"==typeof t.canPlayType?t.canPlayType(e):!1,n=!!e&&!!e.match(a.html5Test);return n}if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t="undefined"!=typeof Audio?Mt&&10>opera.version()?new Audio(null):new Audio:null,n,r,i={},s;s=a.audioFormats;for(n in s)if(s.hasOwnProperty(n)&&(r="audio/"+n,i[n]=e(s[n].type),i[r]=i[n],n.match(jt)?(a.flash[n]=!0,a.flash[r]=!0):(a.flash[n]=!1,a.flash[r]=!1),s[n]&&s[n].related))for(r=s[n].related.length-1;0<=r;r--)i["audio/"+s[n].related[r]]=i[n],a.html5[s[n].related[r]]=i[n],a.flash[s[n].related[r]]=i[n];i.canPlayType=t?e:null;a.html5=C(a.html5,i);return!0};Q=function(){};Z=function(e){8===y&&1<e.loops&&e.stream&&(e.stream=!1);return e};et=function(e){e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(e.usePolicyFile=!0);return e};tt=function(){};v=function(){return!1};X=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=v)};V=function(e){"undefined"==typeof e&&(e=!1);(x||e)&&a.disable(e)};$=function(e){var t=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");e=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+a.movieURL;a.noSWFCache&&(e+="?ts="+(new Date).getTime());return e};P=function(){y=parseInt(a.flashVersion,10);8!==y&&9!==y&&(a.flashVersion=y=8);var e=a.debugMode||a.debugFlash?"_debug.swf":".swf";a.useHTML5Audio&&!a.html5Only&&a.audioFormats.mp4.required&&9>y&&(a.flashVersion=y=9);a.version=a.versionNumber+(a.html5Only?" (HTML5-only mode)":9===y?" (AS3/Flash 9)":" (AS2/Flash 8)");8<y?(a.defaultOptions=C(a.defaultOptions,a.flash9Options),a.features.buffering=!0,a.defaultOptions=C(a.defaultOptions,a.movieStarOptions),a.filePatterns.flash9=RegExp("\\.(mp3|"+Rt.join("|")+")(\\?.*)?$","i"),a.features.movieStar=!0):a.features.movieStar=!1;a.filePattern=a.filePatterns[8!==y?"flash9":"flash8"];a.movieURL=(8===y?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e);a.features.peakData=a.features.waveformData=a.features.eqData=8<y};z=function(e,t){if(!f)return!1;f._setPolling(e,t)};W=function(){a.debugURLParam.test(p)&&(a.debugMode=!0)};nt=this.getSoundById;Y=function(){var e=[];a.debugMode&&e.push("sm2_debug");a.debugFlash&&e.push("flash_debug");a.useHighPerformance&&e.push("high_performance");return e.join(" ")};G=function(){Q("fbHandler");var e=a.getMoviePercent(),t={type:"FLASHBLOCK"};if(a.html5Only)return!1;if(a.ok())a.oMC&&(a.oMC.className=[Y(),"movieContainer","swf_loaded"+(a.didFlashBlock?" swf_unblocked":"")].join(" "));else{ct&&(a.oMC.className=Y()+" movieContainer "+(null===e?"swf_timedout":"swf_error"));a.didFlashBlock=!0;O({type:"ontimeout",ignoreInit:!0,error:t});U(t)}};A=function(e,t,n){"undefined"==typeof b[e]&&(b[e]=[]);b[e].push({method:t,scope:n||null,fired:!1})};O=function(e){e||(e={type:a.ok()?"onready":"ontimeout"});if(!S&&e&&!e.ignoreInit||"ontimeout"===e.type&&(a.ok()||x&&!e.ignoreInit))return!1;var t={success:e&&e.ignoreInit?a.ok():!x},n=e&&e.type?b[e.type]||[]:[],r=[],i,t=[t],s=ct&&a.useFlashBlock&&!a.ok();e.error&&(t[0].error=e.error);for(e=0,i=n.length;e<i;e++)!0!==n[e].fired&&r.push(n[e]);if(r.length)for(e=0,i=r.length;e<i;e++)if(r[e].scope?r[e].method.apply(r[e].scope,t):r[e].method.apply(this,t),!s)r[e].fired=!0;return!0};M=function(){h.setTimeout(function(){a.useFlashBlock&&G();O();"function"==typeof a.onload&&a.onload.apply(h);a.waitForWindowLoad&&bt.add(h,"load",M)},1)};xt=function(){if("undefined"!=typeof St)return St;var e=!1,t=navigator,n=t.plugins,r,i=h.ActiveXObject;if(n&&n.length)(t=t.mimeTypes)&&t["application/x-shockwave-flash"]&&t["application/x-shockwave-flash"].enabledPlugin&&t["application/x-shockwave-flash"].enabledPlugin.description&&(e=!0);else if("undefined"!=typeof i){try{r=new i("ShockwaveFlash.ShockwaveFlash")}catch(s){}e=!!r}return St=e};ht=function(){var e,t,n=a.audioFormats;if(kt&&c.match(/os (1|2|3_0|3_1)/i)){if(a.hasHTML5=!1,a.html5Only=!0,a.oMC)a.oMC.style.display="none"}else a.useHTML5Audio&&(!a.html5||!a.html5.canPlayType)&&(a.hasHTML5=!1);if(a.useHTML5Audio&&a.hasHTML5)for(t in n)n.hasOwnProperty(t)&&(n[t].required&&!a.html5.canPlayType(n[t].type)||a.preferFlash&&(a.flash[t]||a.flash[n[t].type]))&&(e=!0);a.ignoreFlash&&(e=!1);a.html5Only=a.hasHTML5&&a.useHTML5Audio&&!e;return!a.html5Only};lt=function(e){var t,n,r=0;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(a.canPlayMIME(e[t].type)){r=t;break}}else if(a.canPlayURL(e[t])){r=t;break}e[r].url&&(e[r]=e[r].url);e=e[r]}return e};st=function(e){e._hasTimer||(e._hasTimer=!0,!_t&&a.html5PollingInterval&&(null===ft&&0===at&&(ft=h.setInterval(ut,a.html5PollingInterval)),at++))};ot=function(e){e._hasTimer&&(e._hasTimer=!1,!_t&&a.html5PollingInterval&&at--)};ut=function(){var e;if(null!==ft&&!at)return h.clearInterval(ft),ft=null,!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].isHTML5&&a.sounds[a.soundIDs[e]]._hasTimer&&a.sounds[a.soundIDs[e]]._onTimer()};U=function(e){e="undefined"!=typeof e?e:{};"function"==typeof a.onerror&&a.onerror.apply(h,[{type:"undefined"!=typeof e.type?e.type:null}]);"undefined"!=typeof e.fatal&&e.fatal&&a.disable()};Tt=function(){if(!Dt||!xt())return!1;var e=a.audioFormats,t,n;for(n in e)if(e.hasOwnProperty(n)&&("mp3"===n||"mp4"===n))if(a.html5[n]=!1,e[n]&&e[n].related)for(t=e[n].related.length-1;0<=t;t--)a.html5[e[n].related[t]]=!1};this._setSandboxType=function(){};this._externalInterfaceOK=function(){if(a.swfLoaded)return!1;(new Date).getTime();a.swfLoaded=!0;Ht=!1;Dt&&Tt();setTimeout(g,Lt?100:1)};R=function(e,t){function n(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(w&&E)return!1;if(a.html5Only)return P(),a.oMC=l(a.movieID),g(),E=w=!0,!1;var r=t||a.url,i=a.altURL||r,s=q(),o=Y(),u=null,u=d.getElementsByTagName("html")[0],f,h,p,u=u&&u.dir&&u.dir.match(/rtl/i),e="undefined"==typeof e?a.id:e;P();a.url=$(Ft?r:i);t=a.url;a.wmode=!a.wmode&&a.useHighPerformance?"transparent":a.wmode;null!==a.wmode&&(c.match(/msie 8/i)||!Lt&&!a.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(a.wmode=null);s={name:e,id:e,src:t,quality:"high",allowScriptAccess:a.allowScriptAccess,bgcolor:a.bgColor,pluginspage:It+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:a.wmode,hasPriority:"true"};a.debugFlash&&(s.FlashVars="debug=1");a.wmode||delete s.wmode;if(Lt)r=d.createElement("div"),h=['<object id="'+e+'" data="'+t+'" type="'+s.type+'" title="'+s.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+It+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',n("movie",t),n("AllowScriptAccess",a.allowScriptAccess),n("quality",s.quality),a.wmode?n("wmode",a.wmode):"",n("bgcolor",a.bgColor),n("hasPriority","true"),a.debugFlash?n("FlashVars",s.FlashVars):"","</object>"].join("");else for(f in r=d.createElement("embed"),s)s.hasOwnProperty(f)&&r.setAttribute(f,s[f]);W();o=Y();if(s=q())if(a.oMC=l(a.movieID)||d.createElement("div"),a.oMC.id){p=a.oMC.className;a.oMC.className=(p?p+" ":"movieContainer")+(o?" "+o:"");a.oMC.appendChild(r);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}else{a.oMC.id=a.movieID;a.oMC.className="movieContainer "+o;f=o=null;if(!a.useFlashBlock)if(a.useHighPerformance)o={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"};else if(o={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},u)o.left=Math.abs(parseInt(o.left,10))+"px";At&&(a.oMC.style.zIndex=1e4);if(!a.debugFlash)for(p in o)o.hasOwnProperty(p)&&(a.oMC.style[p]=o[p]);try{Lt||a.oMC.appendChild(r);s.appendChild(a.oMC);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}catch(v){throw Error(Q("domError")+" \n"+v.toString())}}return w=!0};B=function(){if(a.html5Only)return R(),!1;if(f||!a.url)return!1;f=a.getMovie(a.id);f||(J?(Lt?a.oMC.innerHTML=K:a.oMC.appendChild(J),J=null,w=!0):R(a.id,a.url),f=a.getMovie(a.id));"function"==typeof a.oninitmovie&&setTimeout(a.oninitmovie,1);return!0};_=function(){setTimeout(D,1e3)};D=function(){var e,t=!1;if(!a.url||rt)return!1;rt=!0;bt.remove(h,"load",_);if(Ht&&!Pt)return!1;S||(e=a.getMoviePercent(),0<e&&100>e&&(t=!0));setTimeout(function(){e=a.getMoviePercent();if(t)return rt=!1,h.setTimeout(_,1),!1;!S&&Bt&&(null===e?a.useFlashBlock||0===a.flashLoadTimeout?a.useFlashBlock&&G():V(!0):0!==a.flashLoadTimeout&&V(!0))},a.flashLoadTimeout)};H=function(){if(Pt||!Ht)return bt.remove(h,"focus",H),!0;Pt=Bt=!0;rt=!1;_();bt.remove(h,"focus",H);return!0};Ct=function(){};N=function(e){if(S)return!1;if(a.html5Only)return S=!0,M(),!0;var t=!0,n;if(!a.useFlashBlock||!a.flashLoadTimeout||a.getMoviePercent())S=!0,x&&(n={type:!St&&ct?"NO_FLASH":"INIT_TIMEOUT"});if(x||e){a.useFlashBlock&&a.oMC&&(a.oMC.className=Y()+" "+(null===a.getMoviePercent()?"swf_timedout":"swf_error"));O({type:"ontimeout",error:n,ignoreInit:!0});U(n);t=!1}x||(a.waitForWindowLoad&&!T?bt.add(h,"load",M):M());return t};m=function(){var e,t=a.setupOptions;for(e in t)t.hasOwnProperty(e)&&("undefined"==typeof a[e]?a[e]=t[e]:a[e]!==t[e]&&(a.setupOptions[e]=a[e]))};g=function(){if(S)return!1;if(a.html5Only){S||(bt.remove(h,"load",a.beginDelayedInit),a.enabled=!0,N());return!0}B();try{f._externalInterfaceTest(!1),z(!0,a.flashPollingInterval||(a.useHighPerformance?10:50)),a.debugMode||f._disableDebug(),a.enabled=!0,a.html5Only||bt.add(h,"unload",v)}catch(e){return U({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),V(!0),N(),!1}N();bt.remove(h,"load",a.beginDelayedInit);return!0};j=function(){if(I)return!1;I=!0;m();W();!St&&a.hasHTML5&&a.setup({useHTML5Audio:!0,preferFlash:!1});yt();a.html5.usingFlash=ht();ct=a.html5.usingFlash;Ct();!St&&ct&&a.setup({flashLoadTimeout:1});d.removeEventListener&&d.removeEventListener("DOMContentLoaded",j,!1);B();return!0};gt=function(){"complete"===d.readyState&&(j(),d.detachEvent("onreadystatechange",gt));return!0};F=function(){T=!0;bt.remove(h,"load",F)};xt();bt.add(h,"focus",H);bt.add(h,"load",_);bt.add(h,"load",F);d.addEventListener?d.addEventListener("DOMContentLoaded",j,!1):d.attachEvent?d.attachEvent("onreadystatechange",gt):U({type:"NO_DOM2_EVENTS",fatal:!0})}var n=null;if("undefined"==typeof SM2_DEFER||!SM2_DEFER)n=new t;e.SoundManager=t;e.soundManager=n})(window);__slice=[].slice;typeof soundManager!="undefined"&&soundManager.setup({url:"swf/",flashVersion:9,useFlashBlock:!1,useHighPerformance:!0,wmode:"transparent",useFastPolling:!0,debugFlash:!1,debugMode:!1});var SoundCloudPlayer=function(e,t){var n={loop:!1,start_on:0,autoplay:!1,autoswitch:!0,volume:100,toggle_pause:!0,cache:!0,preload:!1,debug:!1},r="http://api.soundcloud.com/resolve?url=http://soundcloud.com",i=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi),s=this,o=jQuery(this);this.tracks=[];this.config=jQuery.extend(n,t);this.current_track_index=this.config.start_on;this.current_track=null;this.sound=null;this.inited=!1;this.play_when_ready=!1;this.cache={};this.init=function(){if(s.inited)return;s.change_track();s.trigger("scplayer.init");s.config.autoplay&&s.play();s.inited=!0};this.change_track=function(e){s.log("change_track");if(s.sound){s.sound.destruct();s.sound=null}var t=typeof e!="undefined"?e:s.current_track_index;if(e!=s.current_track_index||!e){var n=s.tracks[t];s.resolve_track(n,s.set_sound);s.trigger("scplayer.changing_track",t)}return s};this.play=function(){s.log("play");s.sound&&s.sound.readyState==3?s.sound.play():s.play_when_ready=!0;s.trigger("scplayer.play",s.current_track_index);return s};this.pause=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.pause();s.trigger("scplayer.pause",s.sound.paused)}return s};this.resume=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.resume();s.trigger("scplayer.pause",s.sound.paused)}return s};this.stop=function(){s.sound&&s.sound.stop();s.trigger("scplayer.stop");s.log("stop");return s};this.next=function(e){s.log("next");s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;s.log(s.play_when_ready);if(s.tracks[s.current_track_index+1]){s.current_track_index++;s.change_track();s.trigger("scplayer.playlist.next",s.current_track_index-1,s.current_track_index);s.log("has next")}else if(s.config.loop){s.current_track_index=0;s.change_track();s.trigger("scplayer.playlist.looped");s.log("looped")}else{s.current_track_index=s.tracks.length-1;s.trigger("scplayer.playlist.ended");s.log("no mas")}return s};this.prev=function(e){s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;if(s.tracks[s.current_track_index-1]){s.current_track_index--;s.change_track();s.trigger("scplayer.playlist.prev")}else if(s.config.loop){s.current_track_index=s.tracks.length-1;s.change_track();s.trigger("scplayer.playlist.looped")}else{s.current_track_index=0;s.trigger("scplayer.playlist.restarted")}return s};this.goto=function(e,t){s.log("goto");s.play_when_ready=typeof t!="undefined"?t:s.config.autoswitch;if(s.tracks[e]){s.current_track_index=e;s.trigger("scplayer.playlist.goto");s.change_track()}return s};this.restart_track=function(){s.position(0);return s};this.mute=function(){s.sound&&s.sound.toggleMute();s.trigger("scplayer.mute",s.sound.muted);return s};this.has_next=function(){s.log("has next");return s.tracks[s.current_track_index+1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.has_prev=function(){return s.tracks[s.current_track_index-1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.get_time=function(){var e=this.position(),t=e%1e3,n=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),i=Math.floor(e/36e5%24),o=r+":"+s.pad(n);i>0&&(o=i+":"+o);return o};this.position=function(e){if(s.sound){if(e||e===0){e=Math.min(s.sound.duration,e);e=Math.max(0,e);s.trigger("scplayer.position",e);return s.sound.setPosition(e)}s.trigger("scplayer.position",s.sound.position);return s.sound.position}return 0};this.volume=function(e){if(s.sound){if(e||e===0){e=Math.min(100,e);e=Math.max(0,e);s.trigger("scplayer.volume",e);s.config.volume=e;return s.sound.setVolume(e)}s.trigger("scplayer.volume",s.sound.volume);return s.sound.volume}return s.config.volume};this.seek=function(e){var t=s.current_track.duration*e;s.position(t);return s};this.loop=function(e){if(e){s.config.loop=e;s.trigger("scplayer.loop_changed",s.config.loop)}return s.config.loop};this.track_info=function(e){s.isNumeric(e)&&(e=s.tracks[e]);return s.resolve_track(e)};this.on=function(e,t){return o.on(e,t)};this.trigger=function(e){var t=arguments.length>1?__slice.call(arguments,1):[];return o.trigger(e,t)};this.destroy=function(){s.sound&&s.sound.destruct();s.tracks=[];o.off();o.remove();s.tracks=null;s.track=null;s=null;delete s.tracks;delete s.track;delete s;delete this};s.get_track=function(){return s.current_track};s.get_track_index=function(){return s.current_track_index};s.get_sound=function(){return s.sound};s.get_playlist=function(){return s.tracks};s.set_cache=function(e,t){s.config.cache===!0&&(s.cache[e]=t)};s.get_cache=function(e){return s.config.cache===!0?s.cache[e]||null:null};s.set_sound=function(e){s.log("set_sound");s.trigger("scplayer.track.info_loaded",e);s.current_track=e;var t=e.stream_url;t+=t.indexOf("secret_token")==-1?"?":"&";t+="consumer_key="+s.config.consumer_key;s.sound=soundManager.createSound({autoLoad:!0,id:"track_"+e.id,multiShot:!1,loops:1,url:t,volume:s.config.volume,whileloading:function(){var e=Math.round(this.bytesLoaded/this.bytesTotal*100);s.trigger("scplayer.track.whileloading",e)},whileplaying:function(){var t=Math.round(this.position/e.duration*100*10)/10;s.trigger("scplayer.track.whileplaying",t)},onplay:function(){s.log("track.onplay");s.trigger("scplayer.track.played")},onresume:function(){s.trigger("scplayer.track.resumed")},onstop:function(){s.trigger("scplayer.track.stopped")},onpause:function(){s.trigger("scplayer.track.paused")},onfinish:function(){s.trigger("scplayer.track.finished")},onload:function(){s.log("onload");s.trigger("scplayer.track.ready",s.current_track_index,s.current_track)}});s.trigger("scplayer.track.bindable",e,s.sound)};s.resolve_track=function(e,t){var n=new jQuery.Deferred;if(e.match(i)&&e.search(/soundcloud\.com/i)===-1){var o={stream_url:e,id:0,permalink_url:e,duration:0};n.resolve(o)}e=e.replace(/https?\:\/\/soundcloud\.com/gi,"");if(s.config.cache===!0){var u=s.get_cache(e);if(u&&t){n.done(function(){t(u)}).resolve();return n}}n.done(function(n){if(n.tracks&&n.tracks.length>0){var r=s.parse_tracks(e,n.tracks);n=r[0]}else s.config.cache===!0&&s.set_cache(e,n);t&&t(n)});jQuery.ajax({url:r+e+"&format=json"+"&consumer_key="+s.config.consumer_key+"&callback=?",dataType:"jsonp",error:function(e,t,r){n.reject(e,t,r)},success:function(e){n.resolve(e)}});return n};s.preload_sc_tracks=function(e){var t=[];for(var n=0,r=s.tracks.length;n<r;n++){var i=s.tracks[n],o=s.resolve_track(i);t.push(o)}jQuery.when.apply(jQuery,t).then(function(){s.trigger("scplayer.playlist.preloaded");e&&e()},function(){s.log("promises failed to preload tracks")})};s.parse_tracks=function(e,t){var n=[],r=[],i=s.tracks.indexOf(e);for(var o=0,u=t.length;o<u;o++){var a=t[o],f=a.permalink_url.substring(21);s.config.cache===!0&&s.set_cache(f,a);n.push(a);r.push(f)}var l=[i,1].concat(r);s.tracks.splice.apply(s.tracks,l);return n};s.add_tracks=function(e){typeof e=="string"&&(e=[e]);if(e!=null&&e.length>0){s.tracks=s.tracks.concat(e);s.config.preload==1?s.preload_sc_tracks.call(s,s.init):s.init.call(s)}};s.log=function(){s.config.debug&&window.console&&console.log.apply(console,arguments)};s.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};s.pad=function(e){return(e<10?"0":"")+e};s.on("scplayer.track.ready",function(e){s.log("track.onready!!!");if(s.play_when_ready==1){s.play();s.play_when_ready=!1}});s.on("scplayer.track.finished",function(e){s.log("track finished");if(s.config.autoswitch&&(s.config.loop||s.has_next())){s.log("finished and autoswitch");s.next().play()}});s.on("scplayer.playlist.ended",function(e){s.log("playlist ended");s.config.loop||s.stop()});soundManager.onready(function(){s.log("SOUNDMANAGER2 ready!!");s.add_tracks(e)});soundManager.ontimeout(function(){window.console&&console.log("SOUNDMANAGER2 TIMEDOUT!!")});return{play:this.play,pause:this.pause,resume:this.resume,stop:this.stop,next:this.next,prev:this.prev,mute:this.mute,get_time:this.get_time,volume:this.volume,restart_track:this.restart_track,"goto":this.goto,position:this.position,seek:this.seek,track_info:this.track_info,has_next:this.has_next,has_prev:this.has_prev,on:this.on,trigger:this.trigger,track:this.get_track,track_index:this.get_track_index,sound:this.get_sound,playlist:this.get_playlist,destroy:this.destroy,add_tracks:this.add_tracks}};(function(e){function t(t,n){function r(e){return a.preferFlash&&St&&!a.ignoreFlash&&"undefined"!=typeof a.flash[e]&&a.flash[e]}function i(e){return function(t){var n=this._t;return!n||!n._a?null:e.call(this,t)}}this.setupOptions={url:t||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=n||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20120916";this.altURL=this.movieURL=this.version=null;this.enabled=this.swfLoaded=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.didFlashBlock=this.muted=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={};var s;try{s="undefined"!=typeof Audio&&"undefined"!=typeof (Mt&&10>opera.version()?new Audio(null):new Audio).canPlayType}catch(o){s=!1}this.hasHTML5=s;this.html5={usingFlash:null};this.flash={};this.ignoreFlash=this.html5Only=!1;var u,a=this,f=null,l,c=navigator.userAgent,h=e,p=h.location.href.toString(),d=document,v,m,g,y,b=[],w=!1,E=!1,S=!1,x=!1,T=!1,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J=null,K=null,Q,G,Y,Z,et,tt,nt,rt=!1,it=!1,st,ot,ut,at=0,ft=null,lt,ct=null,ht,pt,dt,vt,mt,gt,yt,bt,wt=Array.prototype.slice,Et=!1,St,xt,Tt,Nt,Ct,kt=c.match(/(ipad|iphone|ipod)/i),Lt=c.match(/msie/i),At=c.match(/webkit/i),Ot=c.match(/safari/i)&&!c.match(/chrome/i),Mt=c.match(/opera/i),_t=c.match(/(mobile|pre\/|xoom)/i)||kt,Dt=!p.match(/usehtml5audio/i)&&!p.match(/sm2\-ignorebadua/i)&&Ot&&!c.match(/silk/i)&&c.match(/OS X 10_6_([3-7])/i),Pt="undefined"!=typeof d.hasFocus?d.hasFocus():null,Ht=Ot&&("undefined"==typeof d.hasFocus||!d.hasFocus()),Bt=!Ht,jt=/(mp3|mp4|mpa|m4a|m4b)/i,Ft=d.location?d.location.protocol.match(/http/i):null,It=Ft?"":"http://",qt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Rt="mpeg4,aac,flv,mov,mp4,m4v,f4v,m4a,m4b,mp4v,3gp,3g2".split(","),Ut=RegExp("\\.("+Rt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!Ft;this._global_a=null;_t&&(a.useHTML5Audio=!0,a.preferFlash=!1,kt)&&(Et=a.ignoreFlash=!0);this.setup=function(e){var t=!a.url;"undefined"!=typeof e&&S&&ct&&a.ok()&&("undefined"!=typeof e.flashVersion||"undefined"!=typeof e.url)&&tt(Q("setupLate"));k(e);t&&I&&"undefined"!=typeof e.url&&a.beginDelayedInit();!I&&"undefined"!=typeof e.url&&"complete"===d.readyState&&setTimeout(j,1);return a};this.supported=this.ok=function(){return ct?S&&!x:a.useHTML5Audio&&a.hasHTML5};this.getMovie=function(e){return l(e)||d[e]||h[e]};this.createSound=function(e,t){function n(){r=Z(r);a.sounds[s.id]=new u(s);a.soundIDs.push(s.id);return a.sounds[s.id]}var r=null,i=null,s=null;if(!S||!a.ok())return tt(void 0),!1;"undefined"!=typeof t&&(e={id:e,url:t});r=C(e);r.url=lt(r.url);s=r;if(nt(s.id,!0))return a.sounds[s.id];if(pt(s))i=n(),i._setup_html5(s);else{8<y&&null===s.isMovieStar&&(s.isMovieStar=!!s.serverURL||!!(s.type&&s.type.match(qt)||s.url.match(Ut)));s=et(s,void 0);i=n();if(8===y)f._createSound(s.id,s.loops||1,s.usePolicyFile);else if(f._createSound(s.id,s.url,s.usePeakData,s.useWaveformData,s.useEQData,s.isMovieStar,s.isMovieStar?s.bufferTime:!1,s.loops||1,s.serverURL,s.duration||null,s.autoPlay,!0,s.autoLoad,s.usePolicyFile),!s.serverURL)i.connected=!0,s.onconnect&&s.onconnect.apply(i);!s.serverURL&&(s.autoLoad||s.autoPlay)&&i.load(s)}!s.serverURL&&s.autoPlay&&i.play();return i};this.destroySound=function(e,t){if(!nt(e))return!1;var n=a.sounds[e],r;n._iO={};n.stop();n.unload();for(r=0;r<a.soundIDs.length;r++)if(a.soundIDs[r]===e){a.soundIDs.splice(r,1);break}t||n.destruct(!0);delete a.sounds[e];return!0};this.load=function(e,t){return nt(e)?a.sounds[e].load(t):!1};this.unload=function(e){return nt(e)?a.sounds[e].unload():!1};this.onposition=this.onPosition=function(e,t,n,r){return nt(e)?a.sounds[e].onposition(t,n,r):!1};this.clearOnPosition=function(e,t,n){return nt(e)?a.sounds[e].clearOnPosition(t,n):!1};this.start=this.play=function(e,t){var n=!1;if(!S||!a.ok())return tt("soundManager.play(): "+Q(S?"notOK":"notReady")),n;if(!nt(e)){t instanceof Object||(t={url:t});t&&t.url&&(t.id=e,n=a.createSound(t).play());return n}return a.sounds[e].play(t)};this.setPosition=function(e,t){return nt(e)?a.sounds[e].setPosition(t):!1};this.stop=function(e){return nt(e)?a.sounds[e].stop():!1};this.stopAll=function(){for(var e in a.sounds)a.sounds.hasOwnProperty(e)&&a.sounds[e].stop()};this.pause=function(e){return nt(e)?a.sounds[e].pause():!1};this.pauseAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].pause()};this.resume=function(e){return nt(e)?a.sounds[e].resume():!1};this.resumeAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].resume()};this.togglePause=function(e){return nt(e)?a.sounds[e].togglePause():!1};this.setPan=function(e,t){return nt(e)?a.sounds[e].setPan(t):!1};this.setVolume=function(e,t){return nt(e)?a.sounds[e].setVolume(t):!1};this.mute=function(e){var t=0;"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].mute():!1;for(t=a.soundIDs.length-1;0<=t;t--)a.sounds[a.soundIDs[t]].mute();return a.muted=!0};this.muteAll=function(){a.mute()};this.unmute=function(e){"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].unmute():!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].unmute();a.muted=!1;return!0};this.unmuteAll=function(){a.unmute()};this.toggleMute=function(e){return nt(e)?a.sounds[e].toggleMute():!1};this.getMemoryUse=function(){var e=0;f&&8!==y&&(e=parseInt(f._getMemoryUse(),10));return e};this.disable=function(e){var t;"undefined"==typeof e&&(e=!1);if(x)return!1;x=!0;for(t=a.soundIDs.length-1;0<=t;t--)X(a.sounds[a.soundIDs[t]]);N(e);bt.remove(h,"load",M);return!0};this.canPlayMIME=function(e){var t;a.hasHTML5&&(t=dt({type:e}));!t&&ct&&(t=e&&a.ok()?!!(8<y&&e.match(qt)||e.match(a.mimePattern)):null);return t};this.canPlayURL=function(e){var t;a.hasHTML5&&(t=dt({url:e}));!t&&ct&&(t=e&&a.ok()?!!e.match(a.filePattern):null);return t};this.canPlayLink=function(e){return"undefined"!=typeof e.type&&e.type&&a.canPlayMIME(e.type)?!0:a.canPlayURL(e.href)};this.getSoundById=function(e){if(!e)throw Error("soundManager.getSoundById(): sID is null/undefined");return a.sounds[e]};this.onready=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","onready");t||(t=h),A("onready",e,t),O();return!0};this.ontimeout=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","ontimeout");t||(t=h),A("ontimeout",e,t),O({type:"ontimeout"});return!0};this._wD=this._writeDebug=function(){return!0};this._debug=function(){};this.reboot=function(){var e,t;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].destruct();if(f)try{Lt&&(K=f.innerHTML);J=f.parentNode.removeChild(f)}catch(n){}K=J=ct=null;a.enabled=I=S=rt=it=w=E=x=a.swfLoaded=!1;a.soundIDs=[];a.sounds={};f=null;for(e in b)if(b.hasOwnProperty(e))for(t=b[e].length-1;0<=t;t--)b[e][t].fired=!1;h.setTimeout(a.beginDelayedInit,20)};this.getMoviePercent=function(){return f&&"undefined"!=typeof f.PercentLoaded?f.PercentLoaded():null};this.beginDelayedInit=function(){T=!0;j();setTimeout(function(){if(it)return!1;R();B();return it=!0},20);_()};this.destruct=function(){a.disable(!0)};u=function(e){var t,n,r=this,i,s,o,u,l,c,h=!1,p=[],d=0,v,m,g=null;t=null;n=null;this.sID=this.id=e.id;this.url=e.url;this._iO=this.instanceOptions=this.options=C(e);this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;this.id3={};this._debug=function(){};this.load=function(e){var t=null;if("undefined"!=typeof e)r._iO=C(e,r.options),r.instanceOptions=r._iO;else if(e=r.options,r._iO=e,r.instanceOptions=r._iO,g&&g!==r.url)r._iO.url=r.url,r.url=null;r._iO.url||(r._iO.url=r.url);r._iO.url=lt(r._iO.url);if(r._iO.url===r.url&&0!==r.readyState&&2!==r.readyState)return 3===r.readyState&&r._iO.onload&&r._iO.onload.apply(r,[!!r.duration]),r;e=r._iO;g=r.url&&r.url.toString?r.url.toString():null;r.loaded=!1;r.readyState=1;r.playState=0;r.id3={};if(pt(e)){if(t=r._setup_html5(e),!t._called_load){r._html5_canplay=!1;r._a.src!==e.url&&(r._a.src=e.url,r.setPosition(0));r._a.autobuffer="auto";r._a.preload="auto";t._called_load=!0;e.autoPlay&&r.play()}}else try{r.isHTML5=!1,r._iO=et(Z(e)),e=r._iO,8===y?f._load(r.id,e.url,e.stream,e.autoPlay,e.whileloading?1:0,e.loops||1,e.usePolicyFile):f._load(r.id,e.url,!!e.stream,!!e.autoPlay,e.loops||1,!!e.autoLoad,e.usePolicyFile)}catch(n){U({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}r.url=e.url;return r};this.unload=function(){if(0!==r.readyState){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a,"about:blank"),r.url="about:blank"}else 8===y?f._unload(r.id,"about:blank"):f._unload(r.id);i()}return r};this.destruct=function(e){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a),Et||o(),r._a._t=null,r._a=null}else r._iO.onfailure=null,f._destroySound(r.id);e||a.destroySound(r.id,!0)};this.start=this.play=function(e,t){var n,i;i=!0;i=null;t="undefined"==typeof t?!0:t;e||(e={});r.url&&(r._iO.url=r.url);r._iO=C(r._iO,r.options);r._iO=C(e,r._iO);r._iO.url=lt(r._iO.url);r.instanceOptions=r._iO;if(r._iO.serverURL&&!r.connected)return r.getAutoPlay()||r.setAutoPlay(!0),r;pt(r._iO)&&(r._setup_html5(r._iO),l());1===r.playState&&!r.paused&&((n=r._iO.multiShot)||(i=r));if(null!==i)return i;e.url&&e.url!==r.url&&r.load(r._iO);if(!r.loaded)if(0===r.readyState){r.isHTML5||(r._iO.autoPlay=!0);r.load(r._iO)}else 2===r.readyState&&(i=r);if(null!==i)return i;!r.isHTML5&&9===y&&0<r.position&&r.position===r.duration&&(e.position=0);if(r.paused&&0<=r.position&&(!r._iO.serverURL||0<r.position))r.resume();else{r._iO=C(e,r._iO);if(null!==r._iO.from&&null!==r._iO.to&&0===r.instanceCount&&0===r.playState&&!r._iO.serverURL){n=function(){r._iO=C(e,r._iO);r.play(r._iO)};r.isHTML5&&!r._html5_canplay?(r.load({_oncanplay:n}),i=!1):!r.isHTML5&&!r.loaded&&(!r.readyState||2!==r.readyState)&&(r.load({onload:n}),i=!1);if(null!==i)return i;r._iO=m()}(!r.instanceCount||r._iO.multiShotEvents||!r.isHTML5&&8<y&&!r.getAutoPlay())&&r.instanceCount++;r._iO.onposition&&0===r.playState&&c(r);r.playState=1;r.paused=!1;r.position="undefined"!=typeof r._iO.position&&!isNaN(r._iO.position)?r._iO.position:0;r.isHTML5||(r._iO=et(Z(r._iO)));r._iO.onplay&&t&&(r._iO.onplay.apply(r),h=!0);r.setVolume(r._iO.volume,!0);r.setPan(r._iO.pan,!0);r.isHTML5?(l(),i=r._setup_html5(),r.setPosition(r._iO.position),i.play()):(i=f._start(r.id,r._iO.loops||1,9===y?r._iO.position:r._iO.position/1e3,r._iO.multiShot),9===y&&!i&&r._iO.onplayerror&&r._iO.onplayerror.apply(r))}return r};this.stop=function(e){var t=r._iO;if(1===r.playState){r._onbufferchange(0);r._resetOnPosition(0);r.paused=!1;r.isHTML5||(r.playState=0);v();t.to&&r.clearOnPosition(t.to);r.isHTML5?r._a&&(e=r.position,r.setPosition(0),r.position=e,r._a.pause(),r.playState=0,r._onTimer(),u()):(f._stop(r.id,e),t.serverURL&&r.unload());r.instanceCount=0;r._iO={};t.onstop&&t.onstop.apply(r)}return r};this.setAutoPlay=function(e){r._iO.autoPlay=e;r.isHTML5||(f._setAutoPlay(r.id,e),e&&!r.instanceCount&&1===r.readyState&&r.instanceCount++)};this.getAutoPlay=function(){return r._iO.autoPlay
};this.setPosition=function(e){"undefined"==typeof e&&(e=0);var t=r.isHTML5?Math.max(e,0):Math.min(r.duration||r._iO.duration,Math.max(e,0));r.position=t;e=r.position/1e3;r._resetOnPosition(r.position);r._iO.position=t;if(r.isHTML5){if(r._a&&r._html5_canplay&&r._a.currentTime!==e)try{r._a.currentTime=e,(0===r.playState||r.paused)&&r._a.pause()}catch(n){}}else e=9===y?r.position:e,r.readyState&&2!==r.readyState&&f._setPosition(r.id,e,r.paused||!r.playState,r._iO.multiShot);r.isHTML5&&r.paused&&r._onTimer(!0);return r};this.pause=function(e){if(r.paused||0===r.playState&&1!==r.readyState)return r;r.paused=!0;r.isHTML5?(r._setup_html5().pause(),u()):(e||"undefined"==typeof e)&&f._pause(r.id,r._iO.multiShot);r._iO.onpause&&r._iO.onpause.apply(r);return r};this.resume=function(){var e=r._iO;if(!r.paused)return r;r.paused=!1;r.playState=1;r.isHTML5?(r._setup_html5().play(),l()):(e.isMovieStar&&!e.serverURL&&r.setPosition(r.position),f._pause(r.id,e.multiShot));!h&&e.onplay?(e.onplay.apply(r),h=!0):e.onresume&&e.onresume.apply(r);return r};this.togglePause=function(){if(0===r.playState)return r.play({position:9===y&&!r.isHTML5?r.position:r.position/1e3}),r;r.paused?r.resume():r.pause();return r};this.setPan=function(e,t){"undefined"==typeof e&&(e=0);"undefined"==typeof t&&(t=!1);r.isHTML5||f._setPan(r.id,e);r._iO.pan=e;t||(r.pan=e,r.options.pan=e);return r};this.setVolume=function(e,t){"undefined"==typeof e&&(e=100);"undefined"==typeof t&&(t=!1);r.isHTML5?r._a&&(r._a.volume=Math.max(0,Math.min(1,e/100))):f._setVolume(r.id,a.muted&&!r.muted||r.muted?0:e);r._iO.volume=e;t||(r.volume=e,r.options.volume=e);return r};this.mute=function(){r.muted=!0;r.isHTML5?r._a&&(r._a.muted=!0):f._setVolume(r.id,0);return r};this.unmute=function(){r.muted=!1;var e="undefined"!=typeof r._iO.volume;r.isHTML5?r._a&&(r._a.muted=!1):f._setVolume(r.id,e?r._iO.volume:r.options.volume);return r};this.toggleMute=function(){return r.muted?r.unmute():r.mute()};this.onposition=this.onPosition=function(e,t,n){p.push({position:parseInt(e,10),method:t,scope:"undefined"!=typeof n?n:r,fired:!1});return r};this.clearOnPosition=function(e,t){var n,e=parseInt(e,10);if(isNaN(e))return!1;for(n=0;n<p.length;n++)e===p[n].position&&(!t||t===p[n].method)&&(p[n].fired&&d--,p.splice(n,1))};this._processOnPosition=function(){var e,t;e=p.length;if(!e||!r.playState||d>=e)return!1;for(e-=1;0<=e;e--)if(t=p[e],!t.fired&&r.position>=t.position)t.fired=!0,d++,t.method.apply(t.scope,[t.position]);return!0};this._resetOnPosition=function(e){var t,n;t=p.length;if(!t)return!1;for(t-=1;0<=t;t--)if(n=p[t],n.fired&&e<=n.position)n.fired=!1,d--;return!0};m=function(){var e=r._iO,t=e.from,n=e.to,i,s;s=function(){r.clearOnPosition(n,s);r.stop()};i=function(){null!==n&&!isNaN(n)&&r.onPosition(n,s)};null!==t&&!isNaN(t)&&(e.position=t,e.multiShot=!1,i());return e};c=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.onPosition(parseInt(e,10),t[e])};v=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.clearOnPosition(parseInt(e,10))};l=function(){r.isHTML5&&st(r)};u=function(){r.isHTML5&&ot(r)};i=function(e){e||(p=[],d=0);h=!1;r._hasTimer=null;r._a=null;r._html5_canplay=!1;r.bytesLoaded=null;r.bytesTotal=null;r.duration=r._iO&&r._iO.duration?r._iO.duration:null;r.durationEstimate=null;r.buffered=[];r.eqData=[];r.eqData.left=[];r.eqData.right=[];r.failures=0;r.isBuffering=!1;r.instanceOptions={};r.instanceCount=0;r.loaded=!1;r.metadata={};r.readyState=0;r.muted=!1;r.paused=!1;r.peakData={left:0,right:0};r.waveformData={left:[],right:[]};r.playState=0;r.position=null;r.id3={}};i();this._onTimer=function(e){var i,s=!1,o={};if(r._hasTimer||e){if(r._a&&(e||(0<r.playState||1===r.readyState)&&!r.paused)){i=r._get_html5_duration();i!==t&&(t=i,r.duration=i,s=!0);r.durationEstimate=r.duration;i=1e3*r._a.currentTime||0;i!==n&&(n=i,s=!0);(s||e)&&r._whileplaying(i,o,o,o,o)}return s}};this._get_html5_duration=function(){var e=r._iO;return(e=r._a&&r._a.duration?1e3*r._a.duration:e&&e.duration?e.duration:null)&&!isNaN(e)&&Infinity!==e?e:null};this._apply_loop=function(e,t){e.loop=1<t?"loop":""};this._setup_html5=function(e){var e=C(r._iO,e),t=decodeURI,n=Et?a._global_a:r._a,o=t(e.url),u=n&&n._t?n._t.instanceOptions:null,f;if(n){if(n._t){!Et&&o===t(g)?f=n:Et&&u.url===e.url&&(!g||g===u.url)&&(f=n);if(f)return r._apply_loop(n,e.loops),f}Et&&n._t&&n._t.playState&&e.url!==u.url&&n._t.stop();i(u&&u.url?e.url===u.url:g?g===e.url:!1);n.src=e.url;g=r.url=e.url;n._called_load=!1}else if(r._a=e.autoLoad||e.autoPlay?new Audio(e.url):Mt&&10>opera.version()?new Audio(null):new Audio,n=r._a,n._called_load=!1,Et)a._global_a=n;r.isHTML5=!0;r._a=n;n._t=r;s();r._apply_loop(n,e.loops);e.autoLoad||e.autoPlay?r.load():(n.autobuffer=!1,n.preload="auto");return n};s=function(){if(r._a._added_events)return!1;var e;r._a._added_events=!0;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.addEventListener(e,Nt[e],!1);return!0};o=function(){var e;r._a._added_events=!1;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.removeEventListener(e,Nt[e],!1)};this._onload=function(e){e=!!e||!r.isHTML5&&8===y&&r.duration;r.loaded=e;r.readyState=e?3:2;r._onbufferchange(0);r._iO.onload&&r._iO.onload.apply(r,[e]);return!0};this._onbufferchange=function(e){if(0===r.playState||e&&r.isBuffering||!e&&!r.isBuffering)return!1;r.isBuffering=1===e;r._iO.onbufferchange&&r._iO.onbufferchange.apply(r);return!0};this._onsuspend=function(){r._iO.onsuspend&&r._iO.onsuspend.apply(r);return!0};this._onfailure=function(e,t,n){r.failures++;r._iO.onfailure&&1===r.failures&&r._iO.onfailure(r,e,t,n)};this._onfinish=function(){var e=r._iO.onfinish;r._onbufferchange(0);r._resetOnPosition(0);if(r.instanceCount){r.instanceCount--;!r.instanceCount&&(v(),r.playState=0,r.paused=!1,r.instanceCount=0,r.instanceOptions={},r._iO={},u(),r.isHTML5)&&(r.position=0);(!r.instanceCount||r._iO.multiShotEvents)&&e&&e.apply(r)}};this._whileloading=function(e,t,n,i){var s=r._iO;r.bytesLoaded=e;r.bytesTotal=t;r.duration=Math.floor(n);r.bufferLength=i;r.durationEstimate=!r.isHTML5&&!s.isMovieStar?s.duration?r.duration>s.duration?r.duration:s.duration:parseInt(r.bytesTotal/r.bytesLoaded*r.duration,10):r.duration;r.isHTML5||(r.buffered=[{start:0,end:r.duration}]);(3!==r.readyState||r.isHTML5)&&s.whileloading&&s.whileloading.apply(r)};this._whileplaying=function(e,t,n,i,s){var o=r._iO;if(isNaN(e)||null===e)return!1;r.position=Math.max(0,e);r._processOnPosition();if(!r.isHTML5&&8<y){o.usePeakData&&"undefined"!=typeof t&&t&&(r.peakData={left:t.leftPeak,right:t.rightPeak});o.useWaveformData&&"undefined"!=typeof n&&n&&(r.waveformData={left:n.split(","),right:i.split(",")});o.useEQData&&"undefined"!=typeof s&&s&&s.leftEQ&&(e=s.leftEQ.split(","),r.eqData=e,r.eqData.left=e,"undefined"!=typeof s.rightEQ&&s.rightEQ)&&(r.eqData.right=s.rightEQ.split(","))}1===r.playState&&(!r.isHTML5&&8===y&&!r.position&&r.isBuffering&&r._onbufferchange(0),o.whileplaying&&o.whileplaying.apply(r));return!0};this._oncaptiondata=function(e){r.captiondata=e;r._iO.oncaptiondata&&r._iO.oncaptiondata.apply(r,[e])};this._onmetadata=function(e,t){var n={},i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.metadata=n;r._iO.onmetadata&&r._iO.onmetadata.apply(r)};this._onid3=function(e,t){var n=[],i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.id3=C(r.id3,n);r._iO.onid3&&r._iO.onid3.apply(r)};this._onconnect=function(e){e=1===e;if(r.connected=e)r.failures=0,nt(r.id)&&(r.getAutoPlay()?r.play(void 0,r.getAutoPlay()):r._iO.autoLoad&&r.load()),r._iO.onconnect&&r._iO.onconnect.apply(r,[e])};this._ondataerror=function(){0<r.playState&&r._iO.ondataerror&&r._iO.ondataerror.apply(r)}};q=function(){return d.body||d._docElement||d.getElementsByTagName("div")[0]};l=function(e){return d.getElementById(e)};C=function(e,t){var n=e||{},r,i;r="undefined"==typeof t?a.defaultOptions:t;for(i in r)r.hasOwnProperty(i)&&"undefined"==typeof n[i]&&(n[i]="object"!=typeof r[i]||null===r[i]?r[i]:C(n[i],r[i]));return n};L={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};k=function(e,t){var n,r=!0,i="undefined"!=typeof t,s=a.setupOptions;for(n in e)if(e.hasOwnProperty(n))if("object"!=typeof e[n]||null===e[n]||e[n]instanceof Array)i&&"undefined"!=typeof L[t]?a[t][n]=e[n]:"undefined"!=typeof s[n]?(a.setupOptions[n]=e[n],a[n]=e[n]):"undefined"==typeof L[n]?(tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1):a[n]instanceof Function?a[n].apply(a,e[n]instanceof Array?e[n]:[e[n]]):a[n]=e[n];else{if("undefined"!=typeof L[n])return k(e[n],n);tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1}return r};bt=function(){function e(e){var e=wt.call(e),t=e.length;n?(e[1]="on"+e[1],3<t&&e.pop()):3===t&&e.push(!1);return e}function t(e,t){var i=e.shift(),s=[r[t]];n?i[s](e[0],e[1]):i[s].apply(i,e)}var n=h.attachEvent,r={add:n?"attachEvent":"addEventListener",remove:n?"detachEvent":"removeEventListener"};return{add:function(){t(e(arguments),"add")},remove:function(){t(e(arguments),"remove")}}}();Nt={abort:i(function(){}),canplay:i(function(){var e=this._t,t;if(e._html5_canplay)return!0;e._html5_canplay=!0;e._onbufferchange(0);t="undefined"!=typeof e._iO.position&&!isNaN(e._iO.position)?e._iO.position/1e3:null;if(e.position&&this.currentTime!==t)try{this.currentTime=t}catch(n){}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:i(function(){var e=this._t;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),ended:i(function(){this._t._onfinish()}),error:i(function(){this._t._onload(!1)}),loadeddata:i(function(){var e=this._t;!e._loaded&&!Ot&&(e.duration=e._get_html5_duration())}),loadedmetadata:i(function(){}),loadstart:i(function(){this._t._onbufferchange(1)}),play:i(function(){this._t._onbufferchange(0)}),playing:i(function(){this._t._onbufferchange(0)}),progress:i(function(e){var t=this._t,n,r,i=0,i=e.target.buffered;n=e.loaded||0;var s=e.total||1;t.buffered=[];if(i&&i.length){for(n=0,r=i.length;n<r;n++)t.buffered.push({start:1e3*i.start(n),end:1e3*i.end(n)});i=1e3*(i.end(0)-i.start(0));n=i/(1e3*e.target.duration)}isNaN(n)||(t._onbufferchange(0),t._whileloading(n,s,t._get_html5_duration()),n&&s&&n===s&&Nt.canplaythrough.call(this,e))}),ratechange:i(function(){}),suspend:i(function(e){var t=this._t;Nt.progress.call(this,e);t._onsuspend()}),stalled:i(function(){}),timeupdate:i(function(){this._t._onTimer()}),waiting:i(function(){this._t._onbufferchange(1)})};pt=function(e){return e.serverURL||e.type&&r(e.type)?!1:e.type?dt({type:e.type}):dt({url:e.url})||a.html5Only};mt=function(e,t){e&&(e.src=t)};dt=function(e){if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t=e.url||null,e=e.type||null,n=a.audioFormats,i;if(e&&"undefined"!=typeof a.html5[e])return a.html5[e]&&!r(e);if(!vt){vt=[];for(i in n)n.hasOwnProperty(i)&&(vt.push(i),n[i].related&&(vt=vt.concat(n[i].related)));vt=RegExp("\\.("+vt.join("|")+")(\\?.*)?$","i")}i=t?t.toLowerCase().match(vt):null;!i||!i.length?e&&(t=e.indexOf(";"),i=(-1!==t?e.substr(0,t):e).substr(6)):i=i[1];i&&"undefined"!=typeof a.html5[i]?t=a.html5[i]&&!r(i):(e="audio/"+i,t=a.html5.canPlayType({type:e}),t=(a.html5[i]=t)&&a.html5[e]&&!r(e));return t};yt=function(){function e(e){var n,r,i=n=!1;if(!t||"function"!=typeof t.canPlayType)return n;if(e instanceof Array){for(n=0,r=e.length;n<r;n++)if(a.html5[e[n]]||t.canPlayType(e[n]).match(a.html5Test))i=!0,a.html5[e[n]]=!0,a.flash[e[n]]=!!e[n].match(jt);n=i}else e=t&&"function"==typeof t.canPlayType?t.canPlayType(e):!1,n=!!e&&!!e.match(a.html5Test);return n}if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t="undefined"!=typeof Audio?Mt&&10>opera.version()?new Audio(null):new Audio:null,n,r,i={},s;s=a.audioFormats;for(n in s)if(s.hasOwnProperty(n)&&(r="audio/"+n,i[n]=e(s[n].type),i[r]=i[n],n.match(jt)?(a.flash[n]=!0,a.flash[r]=!0):(a.flash[n]=!1,a.flash[r]=!1),s[n]&&s[n].related))for(r=s[n].related.length-1;0<=r;r--)i["audio/"+s[n].related[r]]=i[n],a.html5[s[n].related[r]]=i[n],a.flash[s[n].related[r]]=i[n];i.canPlayType=t?e:null;a.html5=C(a.html5,i);return!0};Q=function(){};Z=function(e){8===y&&1<e.loops&&e.stream&&(e.stream=!1);return e};et=function(e){e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(e.usePolicyFile=!0);return e};tt=function(){};v=function(){return!1};X=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=v)};V=function(e){"undefined"==typeof e&&(e=!1);(x||e)&&a.disable(e)};$=function(e){var t=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");e=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+a.movieURL;a.noSWFCache&&(e+="?ts="+(new Date).getTime());return e};P=function(){y=parseInt(a.flashVersion,10);8!==y&&9!==y&&(a.flashVersion=y=8);var e=a.debugMode||a.debugFlash?"_debug.swf":".swf";a.useHTML5Audio&&!a.html5Only&&a.audioFormats.mp4.required&&9>y&&(a.flashVersion=y=9);a.version=a.versionNumber+(a.html5Only?" (HTML5-only mode)":9===y?" (AS3/Flash 9)":" (AS2/Flash 8)");8<y?(a.defaultOptions=C(a.defaultOptions,a.flash9Options),a.features.buffering=!0,a.defaultOptions=C(a.defaultOptions,a.movieStarOptions),a.filePatterns.flash9=RegExp("\\.(mp3|"+Rt.join("|")+")(\\?.*)?$","i"),a.features.movieStar=!0):a.features.movieStar=!1;a.filePattern=a.filePatterns[8!==y?"flash9":"flash8"];a.movieURL=(8===y?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e);a.features.peakData=a.features.waveformData=a.features.eqData=8<y};z=function(e,t){if(!f)return!1;f._setPolling(e,t)};W=function(){a.debugURLParam.test(p)&&(a.debugMode=!0)};nt=this.getSoundById;Y=function(){var e=[];a.debugMode&&e.push("sm2_debug");a.debugFlash&&e.push("flash_debug");a.useHighPerformance&&e.push("high_performance");return e.join(" ")};G=function(){Q("fbHandler");var e=a.getMoviePercent(),t={type:"FLASHBLOCK"};if(a.html5Only)return!1;if(a.ok())a.oMC&&(a.oMC.className=[Y(),"movieContainer","swf_loaded"+(a.didFlashBlock?" swf_unblocked":"")].join(" "));else{ct&&(a.oMC.className=Y()+" movieContainer "+(null===e?"swf_timedout":"swf_error"));a.didFlashBlock=!0;O({type:"ontimeout",ignoreInit:!0,error:t});U(t)}};A=function(e,t,n){"undefined"==typeof b[e]&&(b[e]=[]);b[e].push({method:t,scope:n||null,fired:!1})};O=function(e){e||(e={type:a.ok()?"onready":"ontimeout"});if(!S&&e&&!e.ignoreInit||"ontimeout"===e.type&&(a.ok()||x&&!e.ignoreInit))return!1;var t={success:e&&e.ignoreInit?a.ok():!x},n=e&&e.type?b[e.type]||[]:[],r=[],i,t=[t],s=ct&&a.useFlashBlock&&!a.ok();e.error&&(t[0].error=e.error);for(e=0,i=n.length;e<i;e++)!0!==n[e].fired&&r.push(n[e]);if(r.length)for(e=0,i=r.length;e<i;e++)if(r[e].scope?r[e].method.apply(r[e].scope,t):r[e].method.apply(this,t),!s)r[e].fired=!0;return!0};M=function(){h.setTimeout(function(){a.useFlashBlock&&G();O();"function"==typeof a.onload&&a.onload.apply(h);a.waitForWindowLoad&&bt.add(h,"load",M)},1)};xt=function(){if("undefined"!=typeof St)return St;var e=!1,t=navigator,n=t.plugins,r,i=h.ActiveXObject;if(n&&n.length)(t=t.mimeTypes)&&t["application/x-shockwave-flash"]&&t["application/x-shockwave-flash"].enabledPlugin&&t["application/x-shockwave-flash"].enabledPlugin.description&&(e=!0);else if("undefined"!=typeof i){try{r=new i("ShockwaveFlash.ShockwaveFlash")}catch(s){}e=!!r}return St=e};ht=function(){var e,t,n=a.audioFormats;if(kt&&c.match(/os (1|2|3_0|3_1)/i)){if(a.hasHTML5=!1,a.html5Only=!0,a.oMC)a.oMC.style.display="none"}else a.useHTML5Audio&&(!a.html5||!a.html5.canPlayType)&&(a.hasHTML5=!1);if(a.useHTML5Audio&&a.hasHTML5)for(t in n)n.hasOwnProperty(t)&&(n[t].required&&!a.html5.canPlayType(n[t].type)||a.preferFlash&&(a.flash[t]||a.flash[n[t].type]))&&(e=!0);a.ignoreFlash&&(e=!1);a.html5Only=a.hasHTML5&&a.useHTML5Audio&&!e;return!a.html5Only};lt=function(e){var t,n,r=0;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(a.canPlayMIME(e[t].type)){r=t;break}}else if(a.canPlayURL(e[t])){r=t;break}e[r].url&&(e[r]=e[r].url);e=e[r]}return e};st=function(e){e._hasTimer||(e._hasTimer=!0,!_t&&a.html5PollingInterval&&(null===ft&&0===at&&(ft=h.setInterval(ut,a.html5PollingInterval)),at++))};ot=function(e){e._hasTimer&&(e._hasTimer=!1,!_t&&a.html5PollingInterval&&at--)};ut=function(){var e;if(null!==ft&&!at)return h.clearInterval(ft),ft=null,!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].isHTML5&&a.sounds[a.soundIDs[e]]._hasTimer&&a.sounds[a.soundIDs[e]]._onTimer()};U=function(e){e="undefined"!=typeof e?e:{};"function"==typeof a.onerror&&a.onerror.apply(h,[{type:"undefined"!=typeof e.type?e.type:null}]);"undefined"!=typeof e.fatal&&e.fatal&&a.disable()};Tt=function(){if(!Dt||!xt())return!1;var e=a.audioFormats,t,n;for(n in e)if(e.hasOwnProperty(n)&&("mp3"===n||"mp4"===n))if(a.html5[n]=!1,e[n]&&e[n].related)for(t=e[n].related.length-1;0<=t;t--)a.html5[e[n].related[t]]=!1};this._setSandboxType=function(){};this._externalInterfaceOK=function(){if(a.swfLoaded)return!1;(new Date).getTime();a.swfLoaded=!0;Ht=!1;Dt&&Tt();setTimeout(g,Lt?100:1)};R=function(e,t){function n(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(w&&E)return!1;if(a.html5Only)return P(),a.oMC=l(a.movieID),g(),E=w=!0,!1;var r=t||a.url,i=a.altURL||r,s=q(),o=Y(),u=null,u=d.getElementsByTagName("html")[0],f,h,p,u=u&&u.dir&&u.dir.match(/rtl/i),e="undefined"==typeof e?a.id:e;P();a.url=$(Ft?r:i);t=a.url;a.wmode=!a.wmode&&a.useHighPerformance?"transparent":a.wmode;null!==a.wmode&&(c.match(/msie 8/i)||!Lt&&!a.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(a.wmode=null);s={name:e,id:e,src:t,quality:"high",allowScriptAccess:a.allowScriptAccess,bgcolor:a.bgColor,pluginspage:It+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:a.wmode,hasPriority:"true"};a.debugFlash&&(s.FlashVars="debug=1");a.wmode||delete s.wmode;if(Lt)r=d.createElement("div"),h=['<object id="'+e+'" data="'+t+'" type="'+s.type+'" title="'+s.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+It+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',n("movie",t),n("AllowScriptAccess",a.allowScriptAccess),n("quality",s.quality),a.wmode?n("wmode",a.wmode):"",n("bgcolor",a.bgColor),n("hasPriority","true"),a.debugFlash?n("FlashVars",s.FlashVars):"","</object>"].join("");else for(f in r=d.createElement("embed"),s)s.hasOwnProperty(f)&&r.setAttribute(f,s[f]);W();o=Y();if(s=q())if(a.oMC=l(a.movieID)||d.createElement("div"),a.oMC.id){p=a.oMC.className;a.oMC.className=(p?p+" ":"movieContainer")+(o?" "+o:"");a.oMC.appendChild(r);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}else{a.oMC.id=a.movieID;a.oMC.className="movieContainer "+o;f=o=null;if(!a.useFlashBlock)if(a.useHighPerformance)o={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"};else if(o={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},u)o.left=Math.abs(parseInt(o.left,10))+"px";At&&(a.oMC.style.zIndex=1e4);if(!a.debugFlash)for(p in o)o.hasOwnProperty(p)&&(a.oMC.style[p]=o[p]);try{Lt||a.oMC.appendChild(r);s.appendChild(a.oMC);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}catch(v){throw Error(Q("domError")+" \n"+v.toString())}}return w=!0};B=function(){if(a.html5Only)return R(),!1;if(f||!a.url)return!1;f=a.getMovie(a.id);f||(J?(Lt?a.oMC.innerHTML=K:a.oMC.appendChild(J),J=null,w=!0):R(a.id,a.url),f=a.getMovie(a.id));"function"==typeof a.oninitmovie&&setTimeout(a.oninitmovie,1);return!0};_=function(){setTimeout(D,1e3)};D=function(){var e,t=!1;if(!a.url||rt)return!1;rt=!0;bt.remove(h,"load",_);if(Ht&&!Pt)return!1;S||(e=a.getMoviePercent(),0<e&&100>e&&(t=!0));setTimeout(function(){e=a.getMoviePercent();if(t)return rt=!1,h.setTimeout(_,1),!1;!S&&Bt&&(null===e?a.useFlashBlock||0===a.flashLoadTimeout?a.useFlashBlock&&G():V(!0):0!==a.flashLoadTimeout&&V(!0))},a.flashLoadTimeout)};H=function(){if(Pt||!Ht)return bt.remove(h,"focus",H),!0;Pt=Bt=!0;rt=!1;_();bt.remove(h,"focus",H);return!0};Ct=function(){};N=function(e){if(S)return!1;if(a.html5Only)return S=!0,M(),!0;var t=!0,n;if(!a.useFlashBlock||!a.flashLoadTimeout||a.getMoviePercent())S=!0,x&&(n={type:!St&&ct?"NO_FLASH":"INIT_TIMEOUT"});if(x||e){a.useFlashBlock&&a.oMC&&(a.oMC.className=Y()+" "+(null===a.getMoviePercent()?"swf_timedout":"swf_error"));O({type:"ontimeout",error:n,ignoreInit:!0});U(n);t=!1}x||(a.waitForWindowLoad&&!T?bt.add(h,"load",M):M());return t};m=function(){var e,t=a.setupOptions;for(e in t)t.hasOwnProperty(e)&&("undefined"==typeof a[e]?a[e]=t[e]:a[e]!==t[e]&&(a.setupOptions[e]=a[e]))};g=function(){if(S)return!1;if(a.html5Only){S||(bt.remove(h,"load",a.beginDelayedInit),a.enabled=!0,N());return!0}B();try{f._externalInterfaceTest(!1),z(!0,a.flashPollingInterval||(a.useHighPerformance?10:50)),a.debugMode||f._disableDebug(),a.enabled=!0,a.html5Only||bt.add(h,"unload",v)}catch(e){return U({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),V(!0),N(),!1}N();bt.remove(h,"load",a.beginDelayedInit);return!0};j=function(){if(I)return!1;I=!0;m();W();!St&&a.hasHTML5&&a.setup({useHTML5Audio:!0,preferFlash:!1});yt();a.html5.usingFlash=ht();ct=a.html5.usingFlash;Ct();!St&&ct&&a.setup({flashLoadTimeout:1});d.removeEventListener&&d.removeEventListener("DOMContentLoaded",j,!1);B();return!0};gt=function(){"complete"===d.readyState&&(j(),d.detachEvent("onreadystatechange",gt));return!0};F=function(){T=!0;bt.remove(h,"load",F)};xt();bt.add(h,"focus",H);bt.add(h,"load",_);bt.add(h,"load",F);d.addEventListener?d.addEventListener("DOMContentLoaded",j,!1):d.attachEvent?d.attachEvent("onreadystatechange",gt):U({type:"NO_DOM2_EVENTS",fatal:!0})}var n=null;if("undefined"==typeof SM2_DEFER||!SM2_DEFER)n=new t;e.SoundManager=t;e.soundManager=n})(window);__slice=[].slice;typeof soundManager!="undefined"&&soundManager.setup({url:"swf/",flashVersion:9,useFlashBlock:!1,useHighPerformance:!0,wmode:"transparent",useFastPolling:!0,debugFlash:!1,debugMode:!1});var SoundCloudPlayer=function(e,t){var n={loop:!1,start_on:0,autoplay:!1,autoswitch:!0,volume:100,toggle_pause:!0,cache:!0,preload:!1,debug:!1},r="http://api.soundcloud.com/resolve?url=http://soundcloud.com",i=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi),s=this,o=jQuery(this);this.tracks=[];this.config=jQuery.extend(n,t);this.current_track_index=this.config.start_on;this.current_track=null;this.sound=null;this.inited=!1;this.play_when_ready=!1;this.cache={};this.init=function(){if(s.inited)return;s.change_track();s.trigger("scplayer.init");s.config.autoplay&&s.play();s.inited=!0};this.change_track=function(e){s.log("change_track");if(s.sound){s.sound.destruct();s.sound=null}var t=typeof e!="undefined"?e:s.current_track_index;if(e!=s.current_track_index||!e){var n=s.tracks[t];s.resolve_track(n,s.set_sound);s.trigger("scplayer.changing_track",t)}return s};this.play=function(){s.log("play");s.sound&&s.sound.readyState==3?s.sound.play():s.play_when_ready=!0;s.trigger("scplayer.play",s.current_track_index);return s};this.pause=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.pause();s.trigger("scplayer.pause",s.sound.paused)}return s};this.resume=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.resume();s.trigger("scplayer.pause",s.sound.paused)}return s};this.stop=function(){s.sound&&s.sound.stop();s.trigger("scplayer.stop");s.log("stop");return s};this.next=function(e){s.log("next");s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;s.log(s.play_when_ready);if(s.tracks[s.current_track_index+1]){s.current_track_index++;s.change_track();s.trigger("scplayer.playlist.next",s.current_track_index-1,s.current_track_index);s.log("has next")}else if(s.config.loop){s.current_track_index=0;s.change_track();s.trigger("scplayer.playlist.looped");s.log("looped")}else{s.current_track_index=s.tracks.length-1;s.trigger("scplayer.playlist.ended");s.log("no mas")}return s};this.prev=function(e){s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;if(s.tracks[s.current_track_index-1]){s.current_track_index--;s.change_track();s.trigger("scplayer.playlist.prev")}else if(s.config.loop){s.current_track_index=s.tracks.length-1;s.change_track();s.trigger("scplayer.playlist.looped")}else{s.current_track_index=0;s.trigger("scplayer.playlist.restarted")}return s};this.goto=function(e,t){s.log("goto");s.play_when_ready=typeof t!="undefined"?t:s.config.autoswitch;if(s.tracks[e]){s.current_track_index=e;s.trigger("scplayer.playlist.goto");s.change_track()}return s};this.restart_track=function(){s.position(0);return s};this.mute=function(){s.sound&&s.sound.toggleMute();s.trigger("scplayer.mute",s.sound.muted);return s};this.has_next=function(){s.log("has next");return s.tracks[s.current_track_index+1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.has_prev=function(){return s.tracks[s.current_track_index-1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.get_time=function(){var e=this.position(),t=e%1e3,n=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),i=Math.floor(e/36e5%24),o=r+":"+s.pad(n);i>0&&(o=i+":"+o);return o};this.position=function(e){if(s.sound){if(e||e===0){e=Math.min(s.sound.duration,e);e=Math.max(0,e);s.trigger("scplayer.position",e);return s.sound.setPosition(e)}s.trigger("scplayer.position",s.sound.position);return s.sound.position}return 0};this.volume=function(e){if(s.sound){if(e||e===0){e=Math.min(100,e);e=Math.max(0,e);s.trigger("scplayer.volume",e);s.config.volume=e;return s.sound.setVolume(e)}s.trigger("scplayer.volume",s.sound.volume);return s.sound.volume}return s.config.volume};this.seek=function(e){var t=s.current_track.duration*e;s.position(t);return s};this.loop=function(e){if(e){s.config.loop=e;s.trigger("scplayer.loop_changed",s.config.loop)}return s.config.loop};this.track_info=function(e){s.isNumeric(e)&&(e=s.tracks[e]);return s.resolve_track(e)};this.on=function(e,t){return o.on(e,t)};this.trigger=function(e){var t=arguments.length>1?__slice.call(arguments,1):[];return o.trigger(e,t)};this.destroy=function(){s.sound&&s.sound.destruct();s.tracks=[];o.off();o.remove();s.tracks=null;s.track=null;s=null;delete s.tracks;delete s.track;delete s;delete this};s.get_track=function(){return s.current_track};s.get_track_index=function(){return s.current_track_index};s.get_sound=function(){return s.sound};s.get_playlist=function(){return s.tracks};s.set_cache=function(e,t){s.config.cache===!0&&(s.cache[e]=t)};s.get_cache=function(e){return s.config.cache===!0?s.cache[e]||null:null};s.set_sound=function(e){s.log("set_sound");s.trigger("scplayer.track.info_loaded",e);s.current_track=e;var t=e.stream_url;t+=t.indexOf("secret_token")==-1?"?":"&";t+="consumer_key="+s.config.consumer_key;s.sound=soundManager.createSound({autoLoad:!0,id:"track_"+e.id,multiShot:!1,loops:1,url:t,volume:s.config.volume,whileloading:function(){var e=Math.round(this.bytesLoaded/this.bytesTotal*100);s.trigger("scplayer.track.whileloading",e)},whileplaying:function(){var t=Math.round(this.position/e.duration*100*10)/10;s.trigger("scplayer.track.whileplaying",t)},onplay:function(){s.log("track.onplay");s.trigger("scplayer.track.played")},onresume:function(){s.trigger("scplayer.track.resumed")},onstop:function(){s.trigger("scplayer.track.stopped")},onpause:function(){s.trigger("scplayer.track.paused")},onfinish:function(){s.trigger("scplayer.track.finished")},onload:function(){s.log("onload");s.trigger("scplayer.track.ready",s.current_track_index,s.current_track)}});s.trigger("scplayer.track.bindable",e,s.sound)};s.resolve_track=function(e,t){var n=new jQuery.Deferred;if(e.match(i)&&e.search(/soundcloud\.com/i)===-1){var o={stream_url:e,id:0,permalink_url:e,duration:0};n.resolve(o)}e=e.replace(/https?\:\/\/soundcloud\.com/gi,"");if(s.config.cache===!0){var u=s.get_cache(e);if(u&&t){n.done(function(){t(u)}).resolve();return n}}n.done(function(n){if(n.tracks&&n.tracks.length>0){var r=s.parse_tracks(e,n.tracks);n=r[0]}else s.config.cache===!0&&s.set_cache(e,n);t&&t(n)});jQuery.ajax({url:r+e+"&format=json"+"&consumer_key="+s.config.consumer_key+"&callback=?",dataType:"jsonp",error:function(e,t,r){n.reject(e,t,r)},success:function(e){n.resolve(e)}});return n};s.preload_sc_tracks=function(e){var t=[];for(var n=0,r=s.tracks.length;n<r;n++){var i=s.tracks[n],o=s.resolve_track(i);t.push(o)}jQuery.when.apply(jQuery,t).then(function(){s.trigger("scplayer.playlist.preloaded");e&&e()},function(){s.log("promises failed to preload tracks")})};s.parse_tracks=function(e,t){var n=[],r=[],i=s.tracks.indexOf(e);for(var o=0,u=t.length;o<u;o++){var a=t[o],f=a.permalink_url.substring(21);s.config.cache===!0&&s.set_cache(f,a);n.push(a);r.push(f)}var l=[i,1].concat(r);s.tracks.splice.apply(s.tracks,l);return n};s.add_tracks=function(e){typeof e=="string"&&(e=[e]);if(e!=null&&e.length>0){s.tracks=s.tracks.concat(e);s.config.preload==1?s.preload_sc_tracks.call(s,s.init):s.init.call(s)}};s.log=function(){s.config.debug&&window.console&&console.log.apply(console,arguments)};s.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};s.pad=function(e){return(e<10?"0":"")+e};s.on("scplayer.track.ready",function(e){s.log("track.onready!!!");if(s.play_when_ready==1){s.play();s.play_when_ready=!1}});s.on("scplayer.track.finished",function(e){s.log("track finished");if(s.config.autoswitch&&(s.config.loop||s.has_next())){s.log("finished and autoswitch");s.next().play()}});s.on("scplayer.playlist.ended",function(e){s.log("playlist ended");s.config.loop||s.stop()});soundManager.onready(function(){s.log("SOUNDMANAGER2 ready!!");s.add_tracks(e)});soundManager.ontimeout(function(){window.console&&console.log("SOUNDMANAGER2 TIMEDOUT!!")});return{play:this.play,pause:this.pause,resume:this.resume,stop:this.stop,next:this.next,prev:this.prev,mute:this.mute,get_time:this.get_time,volume:this.volume,restart_track:this.restart_track,"goto":this.goto,position:this.position,seek:this.seek,track_info:this.track_info,has_next:this.has_next,has_prev:this.has_prev,on:this.on,trigger:this.trigger,track:this.get_track,track_index:this.get_track_index,sound:this.get_sound,playlist:this.get_playlist,destroy:this.destroy,add_tracks:this.add_tracks}};(function(e){function t(t,n){function r(e){return a.preferFlash&&St&&!a.ignoreFlash&&"undefined"!=typeof a.flash[e]&&a.flash[e]}function i(e){return function(t){var n=this._t;return!n||!n._a?null:e.call(this,t)}}this.setupOptions={url:t||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=n||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20120916";this.altURL=this.movieURL=this.version=null;this.enabled=this.swfLoaded=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.didFlashBlock=this.muted=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={};var s;try{s="undefined"!=typeof Audio&&"undefined"!=typeof (Mt&&10>opera.version()?new Audio(null):new Audio).canPlayType}catch(o){s=!1}this.hasHTML5=s;this.html5={usingFlash:null};this.flash={};this.ignoreFlash=this.html5Only=!1;var u,a=this,f=null,l,c=navigator.userAgent,h=e,p=h.location.href.toString(),d=document,v,m,g,y,b=[],w=!1,E=!1,S=!1,x=!1,T=!1,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J=null,K=null,Q,G,Y,Z,et,tt
,nt,rt=!1,it=!1,st,ot,ut,at=0,ft=null,lt,ct=null,ht,pt,dt,vt,mt,gt,yt,bt,wt=Array.prototype.slice,Et=!1,St,xt,Tt,Nt,Ct,kt=c.match(/(ipad|iphone|ipod)/i),Lt=c.match(/msie/i),At=c.match(/webkit/i),Ot=c.match(/safari/i)&&!c.match(/chrome/i),Mt=c.match(/opera/i),_t=c.match(/(mobile|pre\/|xoom)/i)||kt,Dt=!p.match(/usehtml5audio/i)&&!p.match(/sm2\-ignorebadua/i)&&Ot&&!c.match(/silk/i)&&c.match(/OS X 10_6_([3-7])/i),Pt="undefined"!=typeof d.hasFocus?d.hasFocus():null,Ht=Ot&&("undefined"==typeof d.hasFocus||!d.hasFocus()),Bt=!Ht,jt=/(mp3|mp4|mpa|m4a|m4b)/i,Ft=d.location?d.location.protocol.match(/http/i):null,It=Ft?"":"http://",qt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Rt="mpeg4,aac,flv,mov,mp4,m4v,f4v,m4a,m4b,mp4v,3gp,3g2".split(","),Ut=RegExp("\\.("+Rt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!Ft;this._global_a=null;_t&&(a.useHTML5Audio=!0,a.preferFlash=!1,kt)&&(Et=a.ignoreFlash=!0);this.setup=function(e){var t=!a.url;"undefined"!=typeof e&&S&&ct&&a.ok()&&("undefined"!=typeof e.flashVersion||"undefined"!=typeof e.url)&&tt(Q("setupLate"));k(e);t&&I&&"undefined"!=typeof e.url&&a.beginDelayedInit();!I&&"undefined"!=typeof e.url&&"complete"===d.readyState&&setTimeout(j,1);return a};this.supported=this.ok=function(){return ct?S&&!x:a.useHTML5Audio&&a.hasHTML5};this.getMovie=function(e){return l(e)||d[e]||h[e]};this.createSound=function(e,t){function n(){r=Z(r);a.sounds[s.id]=new u(s);a.soundIDs.push(s.id);return a.sounds[s.id]}var r=null,i=null,s=null;if(!S||!a.ok())return tt(void 0),!1;"undefined"!=typeof t&&(e={id:e,url:t});r=C(e);r.url=lt(r.url);s=r;if(nt(s.id,!0))return a.sounds[s.id];if(pt(s))i=n(),i._setup_html5(s);else{8<y&&null===s.isMovieStar&&(s.isMovieStar=!!s.serverURL||!!(s.type&&s.type.match(qt)||s.url.match(Ut)));s=et(s,void 0);i=n();if(8===y)f._createSound(s.id,s.loops||1,s.usePolicyFile);else if(f._createSound(s.id,s.url,s.usePeakData,s.useWaveformData,s.useEQData,s.isMovieStar,s.isMovieStar?s.bufferTime:!1,s.loops||1,s.serverURL,s.duration||null,s.autoPlay,!0,s.autoLoad,s.usePolicyFile),!s.serverURL)i.connected=!0,s.onconnect&&s.onconnect.apply(i);!s.serverURL&&(s.autoLoad||s.autoPlay)&&i.load(s)}!s.serverURL&&s.autoPlay&&i.play();return i};this.destroySound=function(e,t){if(!nt(e))return!1;var n=a.sounds[e],r;n._iO={};n.stop();n.unload();for(r=0;r<a.soundIDs.length;r++)if(a.soundIDs[r]===e){a.soundIDs.splice(r,1);break}t||n.destruct(!0);delete a.sounds[e];return!0};this.load=function(e,t){return nt(e)?a.sounds[e].load(t):!1};this.unload=function(e){return nt(e)?a.sounds[e].unload():!1};this.onposition=this.onPosition=function(e,t,n,r){return nt(e)?a.sounds[e].onposition(t,n,r):!1};this.clearOnPosition=function(e,t,n){return nt(e)?a.sounds[e].clearOnPosition(t,n):!1};this.start=this.play=function(e,t){var n=!1;if(!S||!a.ok())return tt("soundManager.play(): "+Q(S?"notOK":"notReady")),n;if(!nt(e)){t instanceof Object||(t={url:t});t&&t.url&&(t.id=e,n=a.createSound(t).play());return n}return a.sounds[e].play(t)};this.setPosition=function(e,t){return nt(e)?a.sounds[e].setPosition(t):!1};this.stop=function(e){return nt(e)?a.sounds[e].stop():!1};this.stopAll=function(){for(var e in a.sounds)a.sounds.hasOwnProperty(e)&&a.sounds[e].stop()};this.pause=function(e){return nt(e)?a.sounds[e].pause():!1};this.pauseAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].pause()};this.resume=function(e){return nt(e)?a.sounds[e].resume():!1};this.resumeAll=function(){var e;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].resume()};this.togglePause=function(e){return nt(e)?a.sounds[e].togglePause():!1};this.setPan=function(e,t){return nt(e)?a.sounds[e].setPan(t):!1};this.setVolume=function(e,t){return nt(e)?a.sounds[e].setVolume(t):!1};this.mute=function(e){var t=0;"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].mute():!1;for(t=a.soundIDs.length-1;0<=t;t--)a.sounds[a.soundIDs[t]].mute();return a.muted=!0};this.muteAll=function(){a.mute()};this.unmute=function(e){"string"!=typeof e&&(e=null);if(e)return nt(e)?a.sounds[e].unmute():!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].unmute();a.muted=!1;return!0};this.unmuteAll=function(){a.unmute()};this.toggleMute=function(e){return nt(e)?a.sounds[e].toggleMute():!1};this.getMemoryUse=function(){var e=0;f&&8!==y&&(e=parseInt(f._getMemoryUse(),10));return e};this.disable=function(e){var t;"undefined"==typeof e&&(e=!1);if(x)return!1;x=!0;for(t=a.soundIDs.length-1;0<=t;t--)X(a.sounds[a.soundIDs[t]]);N(e);bt.remove(h,"load",M);return!0};this.canPlayMIME=function(e){var t;a.hasHTML5&&(t=dt({type:e}));!t&&ct&&(t=e&&a.ok()?!!(8<y&&e.match(qt)||e.match(a.mimePattern)):null);return t};this.canPlayURL=function(e){var t;a.hasHTML5&&(t=dt({url:e}));!t&&ct&&(t=e&&a.ok()?!!e.match(a.filePattern):null);return t};this.canPlayLink=function(e){return"undefined"!=typeof e.type&&e.type&&a.canPlayMIME(e.type)?!0:a.canPlayURL(e.href)};this.getSoundById=function(e){if(!e)throw Error("soundManager.getSoundById(): sID is null/undefined");return a.sounds[e]};this.onready=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","onready");t||(t=h),A("onready",e,t),O();return!0};this.ontimeout=function(e,t){var n=!1;if("function"!=typeof e)throw Q("needFunction","ontimeout");t||(t=h),A("ontimeout",e,t),O({type:"ontimeout"});return!0};this._wD=this._writeDebug=function(){return!0};this._debug=function(){};this.reboot=function(){var e,t;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].destruct();if(f)try{Lt&&(K=f.innerHTML);J=f.parentNode.removeChild(f)}catch(n){}K=J=ct=null;a.enabled=I=S=rt=it=w=E=x=a.swfLoaded=!1;a.soundIDs=[];a.sounds={};f=null;for(e in b)if(b.hasOwnProperty(e))for(t=b[e].length-1;0<=t;t--)b[e][t].fired=!1;h.setTimeout(a.beginDelayedInit,20)};this.getMoviePercent=function(){return f&&"undefined"!=typeof f.PercentLoaded?f.PercentLoaded():null};this.beginDelayedInit=function(){T=!0;j();setTimeout(function(){if(it)return!1;R();B();return it=!0},20);_()};this.destruct=function(){a.disable(!0)};u=function(e){var t,n,r=this,i,s,o,u,l,c,h=!1,p=[],d=0,v,m,g=null;t=null;n=null;this.sID=this.id=e.id;this.url=e.url;this._iO=this.instanceOptions=this.options=C(e);this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;this.id3={};this._debug=function(){};this.load=function(e){var t=null;if("undefined"!=typeof e)r._iO=C(e,r.options),r.instanceOptions=r._iO;else if(e=r.options,r._iO=e,r.instanceOptions=r._iO,g&&g!==r.url)r._iO.url=r.url,r.url=null;r._iO.url||(r._iO.url=r.url);r._iO.url=lt(r._iO.url);if(r._iO.url===r.url&&0!==r.readyState&&2!==r.readyState)return 3===r.readyState&&r._iO.onload&&r._iO.onload.apply(r,[!!r.duration]),r;e=r._iO;g=r.url&&r.url.toString?r.url.toString():null;r.loaded=!1;r.readyState=1;r.playState=0;r.id3={};if(pt(e)){if(t=r._setup_html5(e),!t._called_load){r._html5_canplay=!1;r._a.src!==e.url&&(r._a.src=e.url,r.setPosition(0));r._a.autobuffer="auto";r._a.preload="auto";t._called_load=!0;e.autoPlay&&r.play()}}else try{r.isHTML5=!1,r._iO=et(Z(e)),e=r._iO,8===y?f._load(r.id,e.url,e.stream,e.autoPlay,e.whileloading?1:0,e.loops||1,e.usePolicyFile):f._load(r.id,e.url,!!e.stream,!!e.autoPlay,e.loops||1,!!e.autoLoad,e.usePolicyFile)}catch(n){U({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}r.url=e.url;return r};this.unload=function(){if(0!==r.readyState){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a,"about:blank"),r.url="about:blank"}else 8===y?f._unload(r.id,"about:blank"):f._unload(r.id);i()}return r};this.destruct=function(e){if(r.isHTML5){if(u(),r._a)r._a.pause(),mt(r._a),Et||o(),r._a._t=null,r._a=null}else r._iO.onfailure=null,f._destroySound(r.id);e||a.destroySound(r.id,!0)};this.start=this.play=function(e,t){var n,i;i=!0;i=null;t="undefined"==typeof t?!0:t;e||(e={});r.url&&(r._iO.url=r.url);r._iO=C(r._iO,r.options);r._iO=C(e,r._iO);r._iO.url=lt(r._iO.url);r.instanceOptions=r._iO;if(r._iO.serverURL&&!r.connected)return r.getAutoPlay()||r.setAutoPlay(!0),r;pt(r._iO)&&(r._setup_html5(r._iO),l());1===r.playState&&!r.paused&&((n=r._iO.multiShot)||(i=r));if(null!==i)return i;e.url&&e.url!==r.url&&r.load(r._iO);if(!r.loaded)if(0===r.readyState){r.isHTML5||(r._iO.autoPlay=!0);r.load(r._iO)}else 2===r.readyState&&(i=r);if(null!==i)return i;!r.isHTML5&&9===y&&0<r.position&&r.position===r.duration&&(e.position=0);if(r.paused&&0<=r.position&&(!r._iO.serverURL||0<r.position))r.resume();else{r._iO=C(e,r._iO);if(null!==r._iO.from&&null!==r._iO.to&&0===r.instanceCount&&0===r.playState&&!r._iO.serverURL){n=function(){r._iO=C(e,r._iO);r.play(r._iO)};r.isHTML5&&!r._html5_canplay?(r.load({_oncanplay:n}),i=!1):!r.isHTML5&&!r.loaded&&(!r.readyState||2!==r.readyState)&&(r.load({onload:n}),i=!1);if(null!==i)return i;r._iO=m()}(!r.instanceCount||r._iO.multiShotEvents||!r.isHTML5&&8<y&&!r.getAutoPlay())&&r.instanceCount++;r._iO.onposition&&0===r.playState&&c(r);r.playState=1;r.paused=!1;r.position="undefined"!=typeof r._iO.position&&!isNaN(r._iO.position)?r._iO.position:0;r.isHTML5||(r._iO=et(Z(r._iO)));r._iO.onplay&&t&&(r._iO.onplay.apply(r),h=!0);r.setVolume(r._iO.volume,!0);r.setPan(r._iO.pan,!0);r.isHTML5?(l(),i=r._setup_html5(),r.setPosition(r._iO.position),i.play()):(i=f._start(r.id,r._iO.loops||1,9===y?r._iO.position:r._iO.position/1e3,r._iO.multiShot),9===y&&!i&&r._iO.onplayerror&&r._iO.onplayerror.apply(r))}return r};this.stop=function(e){var t=r._iO;if(1===r.playState){r._onbufferchange(0);r._resetOnPosition(0);r.paused=!1;r.isHTML5||(r.playState=0);v();t.to&&r.clearOnPosition(t.to);r.isHTML5?r._a&&(e=r.position,r.setPosition(0),r.position=e,r._a.pause(),r.playState=0,r._onTimer(),u()):(f._stop(r.id,e),t.serverURL&&r.unload());r.instanceCount=0;r._iO={};t.onstop&&t.onstop.apply(r)}return r};this.setAutoPlay=function(e){r._iO.autoPlay=e;r.isHTML5||(f._setAutoPlay(r.id,e),e&&!r.instanceCount&&1===r.readyState&&r.instanceCount++)};this.getAutoPlay=function(){return r._iO.autoPlay};this.setPosition=function(e){"undefined"==typeof e&&(e=0);var t=r.isHTML5?Math.max(e,0):Math.min(r.duration||r._iO.duration,Math.max(e,0));r.position=t;e=r.position/1e3;r._resetOnPosition(r.position);r._iO.position=t;if(r.isHTML5){if(r._a&&r._html5_canplay&&r._a.currentTime!==e)try{r._a.currentTime=e,(0===r.playState||r.paused)&&r._a.pause()}catch(n){}}else e=9===y?r.position:e,r.readyState&&2!==r.readyState&&f._setPosition(r.id,e,r.paused||!r.playState,r._iO.multiShot);r.isHTML5&&r.paused&&r._onTimer(!0);return r};this.pause=function(e){if(r.paused||0===r.playState&&1!==r.readyState)return r;r.paused=!0;r.isHTML5?(r._setup_html5().pause(),u()):(e||"undefined"==typeof e)&&f._pause(r.id,r._iO.multiShot);r._iO.onpause&&r._iO.onpause.apply(r);return r};this.resume=function(){var e=r._iO;if(!r.paused)return r;r.paused=!1;r.playState=1;r.isHTML5?(r._setup_html5().play(),l()):(e.isMovieStar&&!e.serverURL&&r.setPosition(r.position),f._pause(r.id,e.multiShot));!h&&e.onplay?(e.onplay.apply(r),h=!0):e.onresume&&e.onresume.apply(r);return r};this.togglePause=function(){if(0===r.playState)return r.play({position:9===y&&!r.isHTML5?r.position:r.position/1e3}),r;r.paused?r.resume():r.pause();return r};this.setPan=function(e,t){"undefined"==typeof e&&(e=0);"undefined"==typeof t&&(t=!1);r.isHTML5||f._setPan(r.id,e);r._iO.pan=e;t||(r.pan=e,r.options.pan=e);return r};this.setVolume=function(e,t){"undefined"==typeof e&&(e=100);"undefined"==typeof t&&(t=!1);r.isHTML5?r._a&&(r._a.volume=Math.max(0,Math.min(1,e/100))):f._setVolume(r.id,a.muted&&!r.muted||r.muted?0:e);r._iO.volume=e;t||(r.volume=e,r.options.volume=e);return r};this.mute=function(){r.muted=!0;r.isHTML5?r._a&&(r._a.muted=!0):f._setVolume(r.id,0);return r};this.unmute=function(){r.muted=!1;var e="undefined"!=typeof r._iO.volume;r.isHTML5?r._a&&(r._a.muted=!1):f._setVolume(r.id,e?r._iO.volume:r.options.volume);return r};this.toggleMute=function(){return r.muted?r.unmute():r.mute()};this.onposition=this.onPosition=function(e,t,n){p.push({position:parseInt(e,10),method:t,scope:"undefined"!=typeof n?n:r,fired:!1});return r};this.clearOnPosition=function(e,t){var n,e=parseInt(e,10);if(isNaN(e))return!1;for(n=0;n<p.length;n++)e===p[n].position&&(!t||t===p[n].method)&&(p[n].fired&&d--,p.splice(n,1))};this._processOnPosition=function(){var e,t;e=p.length;if(!e||!r.playState||d>=e)return!1;for(e-=1;0<=e;e--)if(t=p[e],!t.fired&&r.position>=t.position)t.fired=!0,d++,t.method.apply(t.scope,[t.position]);return!0};this._resetOnPosition=function(e){var t,n;t=p.length;if(!t)return!1;for(t-=1;0<=t;t--)if(n=p[t],n.fired&&e<=n.position)n.fired=!1,d--;return!0};m=function(){var e=r._iO,t=e.from,n=e.to,i,s;s=function(){r.clearOnPosition(n,s);r.stop()};i=function(){null!==n&&!isNaN(n)&&r.onPosition(n,s)};null!==t&&!isNaN(t)&&(e.position=t,e.multiShot=!1,i());return e};c=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.onPosition(parseInt(e,10),t[e])};v=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.clearOnPosition(parseInt(e,10))};l=function(){r.isHTML5&&st(r)};u=function(){r.isHTML5&&ot(r)};i=function(e){e||(p=[],d=0);h=!1;r._hasTimer=null;r._a=null;r._html5_canplay=!1;r.bytesLoaded=null;r.bytesTotal=null;r.duration=r._iO&&r._iO.duration?r._iO.duration:null;r.durationEstimate=null;r.buffered=[];r.eqData=[];r.eqData.left=[];r.eqData.right=[];r.failures=0;r.isBuffering=!1;r.instanceOptions={};r.instanceCount=0;r.loaded=!1;r.metadata={};r.readyState=0;r.muted=!1;r.paused=!1;r.peakData={left:0,right:0};r.waveformData={left:[],right:[]};r.playState=0;r.position=null;r.id3={}};i();this._onTimer=function(e){var i,s=!1,o={};if(r._hasTimer||e){if(r._a&&(e||(0<r.playState||1===r.readyState)&&!r.paused)){i=r._get_html5_duration();i!==t&&(t=i,r.duration=i,s=!0);r.durationEstimate=r.duration;i=1e3*r._a.currentTime||0;i!==n&&(n=i,s=!0);(s||e)&&r._whileplaying(i,o,o,o,o)}return s}};this._get_html5_duration=function(){var e=r._iO;return(e=r._a&&r._a.duration?1e3*r._a.duration:e&&e.duration?e.duration:null)&&!isNaN(e)&&Infinity!==e?e:null};this._apply_loop=function(e,t){e.loop=1<t?"loop":""};this._setup_html5=function(e){var e=C(r._iO,e),t=decodeURI,n=Et?a._global_a:r._a,o=t(e.url),u=n&&n._t?n._t.instanceOptions:null,f;if(n){if(n._t){!Et&&o===t(g)?f=n:Et&&u.url===e.url&&(!g||g===u.url)&&(f=n);if(f)return r._apply_loop(n,e.loops),f}Et&&n._t&&n._t.playState&&e.url!==u.url&&n._t.stop();i(u&&u.url?e.url===u.url:g?g===e.url:!1);n.src=e.url;g=r.url=e.url;n._called_load=!1}else if(r._a=e.autoLoad||e.autoPlay?new Audio(e.url):Mt&&10>opera.version()?new Audio(null):new Audio,n=r._a,n._called_load=!1,Et)a._global_a=n;r.isHTML5=!0;r._a=n;n._t=r;s();r._apply_loop(n,e.loops);e.autoLoad||e.autoPlay?r.load():(n.autobuffer=!1,n.preload="auto");return n};s=function(){if(r._a._added_events)return!1;var e;r._a._added_events=!0;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.addEventListener(e,Nt[e],!1);return!0};o=function(){var e;r._a._added_events=!1;for(e in Nt)Nt.hasOwnProperty(e)&&r._a&&r._a.removeEventListener(e,Nt[e],!1)};this._onload=function(e){e=!!e||!r.isHTML5&&8===y&&r.duration;r.loaded=e;r.readyState=e?3:2;r._onbufferchange(0);r._iO.onload&&r._iO.onload.apply(r,[e]);return!0};this._onbufferchange=function(e){if(0===r.playState||e&&r.isBuffering||!e&&!r.isBuffering)return!1;r.isBuffering=1===e;r._iO.onbufferchange&&r._iO.onbufferchange.apply(r);return!0};this._onsuspend=function(){r._iO.onsuspend&&r._iO.onsuspend.apply(r);return!0};this._onfailure=function(e,t,n){r.failures++;r._iO.onfailure&&1===r.failures&&r._iO.onfailure(r,e,t,n)};this._onfinish=function(){var e=r._iO.onfinish;r._onbufferchange(0);r._resetOnPosition(0);if(r.instanceCount){r.instanceCount--;!r.instanceCount&&(v(),r.playState=0,r.paused=!1,r.instanceCount=0,r.instanceOptions={},r._iO={},u(),r.isHTML5)&&(r.position=0);(!r.instanceCount||r._iO.multiShotEvents)&&e&&e.apply(r)}};this._whileloading=function(e,t,n,i){var s=r._iO;r.bytesLoaded=e;r.bytesTotal=t;r.duration=Math.floor(n);r.bufferLength=i;r.durationEstimate=!r.isHTML5&&!s.isMovieStar?s.duration?r.duration>s.duration?r.duration:s.duration:parseInt(r.bytesTotal/r.bytesLoaded*r.duration,10):r.duration;r.isHTML5||(r.buffered=[{start:0,end:r.duration}]);(3!==r.readyState||r.isHTML5)&&s.whileloading&&s.whileloading.apply(r)};this._whileplaying=function(e,t,n,i,s){var o=r._iO;if(isNaN(e)||null===e)return!1;r.position=Math.max(0,e);r._processOnPosition();if(!r.isHTML5&&8<y){o.usePeakData&&"undefined"!=typeof t&&t&&(r.peakData={left:t.leftPeak,right:t.rightPeak});o.useWaveformData&&"undefined"!=typeof n&&n&&(r.waveformData={left:n.split(","),right:i.split(",")});o.useEQData&&"undefined"!=typeof s&&s&&s.leftEQ&&(e=s.leftEQ.split(","),r.eqData=e,r.eqData.left=e,"undefined"!=typeof s.rightEQ&&s.rightEQ)&&(r.eqData.right=s.rightEQ.split(","))}1===r.playState&&(!r.isHTML5&&8===y&&!r.position&&r.isBuffering&&r._onbufferchange(0),o.whileplaying&&o.whileplaying.apply(r));return!0};this._oncaptiondata=function(e){r.captiondata=e;r._iO.oncaptiondata&&r._iO.oncaptiondata.apply(r,[e])};this._onmetadata=function(e,t){var n={},i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.metadata=n;r._iO.onmetadata&&r._iO.onmetadata.apply(r)};this._onid3=function(e,t){var n=[],i,s;for(i=0,s=e.length;i<s;i++)n[e[i]]=t[i];r.id3=C(r.id3,n);r._iO.onid3&&r._iO.onid3.apply(r)};this._onconnect=function(e){e=1===e;if(r.connected=e)r.failures=0,nt(r.id)&&(r.getAutoPlay()?r.play(void 0,r.getAutoPlay()):r._iO.autoLoad&&r.load()),r._iO.onconnect&&r._iO.onconnect.apply(r,[e])};this._ondataerror=function(){0<r.playState&&r._iO.ondataerror&&r._iO.ondataerror.apply(r)}};q=function(){return d.body||d._docElement||d.getElementsByTagName("div")[0]};l=function(e){return d.getElementById(e)};C=function(e,t){var n=e||{},r,i;r="undefined"==typeof t?a.defaultOptions:t;for(i in r)r.hasOwnProperty(i)&&"undefined"==typeof n[i]&&(n[i]="object"!=typeof r[i]||null===r[i]?r[i]:C(n[i],r[i]));return n};L={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};k=function(e,t){var n,r=!0,i="undefined"!=typeof t,s=a.setupOptions;for(n in e)if(e.hasOwnProperty(n))if("object"!=typeof e[n]||null===e[n]||e[n]instanceof Array)i&&"undefined"!=typeof L[t]?a[t][n]=e[n]:"undefined"!=typeof s[n]?(a.setupOptions[n]=e[n],a[n]=e[n]):"undefined"==typeof L[n]?(tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1):a[n]instanceof Function?a[n].apply(a,e[n]instanceof Array?e[n]:[e[n]]):a[n]=e[n];else{if("undefined"!=typeof L[n])return k(e[n],n);tt(Q("undefined"==typeof a[n]?"setupUndef":"setupError",n),2),r=!1}return r};bt=function(){function e(e){var e=wt.call(e),t=e.length;n?(e[1]="on"+e[1],3<t&&e.pop()):3===t&&e.push(!1);return e}function t(e,t){var i=e.shift(),s=[r[t]];n?i[s](e[0],e[1]):i[s].apply(i,e)}var n=h.attachEvent,r={add:n?"attachEvent":"addEventListener",remove:n?"detachEvent":"removeEventListener"};return{add:function(){t(e(arguments),"add")},remove:function(){t(e(arguments),"remove")}}}();Nt={abort:i(function(){}),canplay:i(function(){var e=this._t,t;if(e._html5_canplay)return!0;e._html5_canplay=!0;e._onbufferchange(0);t="undefined"!=typeof e._iO.position&&!isNaN(e._iO.position)?e._iO.position/1e3:null;if(e.position&&this.currentTime!==t)try{this.currentTime=t}catch(n){}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:i(function(){var e=this._t;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),ended:i(function(){this._t._onfinish()}),error:i(function(){this._t._onload(!1)}),loadeddata:i(function(){var e=this._t;!e._loaded&&!Ot&&(e.duration=e._get_html5_duration())}),loadedmetadata:i(function(){}),loadstart:i(function(){this._t._onbufferchange(1)}),play:i(function(){this._t._onbufferchange(0)}),playing:i(function(){this._t._onbufferchange(0)}),progress:i(function(e){var t=this._t,n,r,i=0,i=e.target.buffered;n=e.loaded||0;var s=e.total||1;t.buffered=[];if(i&&i.length){for(n=0,r=i.length;n<r;n++)t.buffered.push({start:1e3*i.start(n),end:1e3*i.end(n)});i=1e3*(i.end(0)-i.start(0));n=i/(1e3*e.target.duration)}isNaN(n)||(t._onbufferchange(0),t._whileloading(n,s,t._get_html5_duration()),n&&s&&n===s&&Nt.canplaythrough.call(this,e))}),ratechange:i(function(){}),suspend:i(function(e){var t=this._t;Nt.progress.call(this,e);t._onsuspend()}),stalled:i(function(){}),timeupdate:i(function(){this._t._onTimer()}),waiting:i(function(){this._t._onbufferchange(1)})};pt=function(e){return e.serverURL||e.type&&r(e.type)?!1:e.type?dt({type:e.type}):dt({url:e.url})||a.html5Only};mt=function(e,t){e&&(e.src=t)};dt=function(e){if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t=e.url||null,e=e.type||null,n=a.audioFormats,i;if(e&&"undefined"!=typeof a.html5[e])return a.html5[e]&&!r(e);if(!vt){vt=[];for(i in n)n.hasOwnProperty(i)&&(vt.push(i),n[i].related&&(vt=vt.concat(n[i].related)));vt=RegExp("\\.("+vt.join("|")+")(\\?.*)?$","i")}i=t?t.toLowerCase().match(vt):null;!i||!i.length?e&&(t=e.indexOf(";"),i=(-1!==t?e.substr(0,t):e).substr(6)):i=i[1];i&&"undefined"!=typeof a.html5[i]?t=a.html5[i]&&!r(i):(e="audio/"+i,t=a.html5.canPlayType({type:e}),t=(a.html5[i]=t)&&a.html5[e]&&!r(e));return t};yt=function(){function e(e){var n,r,i=n=!1;if(!t||"function"!=typeof t.canPlayType)return n;if(e instanceof Array){for(n=0,r=e.length;n<r;n++)if(a.html5[e[n]]||t.canPlayType(e[n]).match(a.html5Test))i=!0,a.html5[e[n]]=!0,a.flash[e[n]]=!!e[n].match(jt);n=i}else e=t&&"function"==typeof t.canPlayType?t.canPlayType(e):!1,n=!!e&&!!e.match(a.html5Test);return n}if(!a.useHTML5Audio||!a.hasHTML5)return!1;var t="undefined"!=typeof Audio?Mt&&10>opera.version()?new Audio(null):new Audio:null,n,r,i={},s;s=a.audioFormats;for(n in s)if(s.hasOwnProperty(n)&&(r="audio/"+n,i[n]=e(s[n].type),i[r]=i[n],n.match(jt)?(a.flash[n]=!0,a.flash[r]=!0):(a.flash[n]=!1,a.flash[r]=!1),s[n]&&s[n].related))for(r=s[n].related.length-1;0<=r;r--)i["audio/"+s[n].related[r]]=i[n],a.html5[s[n].related[r]]=i[n],a.flash[s[n].related[r]]=i[n];i.canPlayType=t?e:null;a.html5=C(a.html5,i);return!0};Q=function(){};Z=function(e){8===y&&1<e.loops&&e.stream&&(e.stream=!1);return e};et=function(e){e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(e.usePolicyFile=!0);return e};tt=function(){};v=function(){return!1};X=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=v)};V=function(e){"undefined"==typeof e&&(e=!1);(x||e)&&a.disable(e)};$=function(e){var t=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");e=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+a.movieURL;a.noSWFCache&&(e+="?ts="+(new Date).getTime());return e};P=function(){y=parseInt(a.flashVersion,10);8!==y&&9!==y&&(a.flashVersion=y=8);var e=a.debugMode||a.debugFlash?"_debug.swf":".swf";a.useHTML5Audio&&!a.html5Only&&a.audioFormats.mp4.required&&9>y&&(a.flashVersion=y=9);a.version=a.versionNumber+(a.html5Only?" (HTML5-only mode)":9===y?" (AS3/Flash 9)":" (AS2/Flash 8)");8<y?(a.defaultOptions=C(a.defaultOptions,a.flash9Options),a.features.buffering=!0,a.defaultOptions=C(a.defaultOptions,a.movieStarOptions),a.filePatterns.flash9=RegExp("\\.(mp3|"+Rt.join("|")+")(\\?.*)?$","i"),a.features.movieStar=!0):a.features.movieStar=!1;a.filePattern=a.filePatterns[8!==y?"flash9":"flash8"];a.movieURL=(8===y?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e);a.features.peakData=a.features.waveformData=a.features.eqData=8<y};z=function(e,t){if(!f)return!1;f._setPolling(e,t)};W=function(){a.debugURLParam.test(p)&&(a.debugMode=!0)};nt=this.getSoundById;Y=function(){var e=[];a.debugMode&&e.push("sm2_debug");a.debugFlash&&e.push("flash_debug");a.useHighPerformance&&e.push("high_performance");return e.join(" ")};G=function(){Q("fbHandler");var e=a.getMoviePercent(),t={type:"FLASHBLOCK"};if(a.html5Only)return!1;if(a.ok())a.oMC&&(a.oMC.className=[Y(),"movieContainer","swf_loaded"+(a.didFlashBlock?" swf_unblocked":"")].join(" "));else{ct&&(a.oMC.className=Y()+" movieContainer "+(null===e?"swf_timedout":"swf_error"));a.didFlashBlock=!0;O({type:"ontimeout",ignoreInit:!0,error:t});U(t)}};A=function(e,t,n){"undefined"==typeof b[e]&&(b[e]=[]);b[e].push({method:t,scope:n||null,fired:!1})};O=function(e){e||(e={type:a.ok()?"onready":"ontimeout"});if(!S&&e&&!e.ignoreInit||"ontimeout"===e.type&&(a.ok()||x&&!e.ignoreInit))return!1;var t={success:e&&e.ignoreInit?a.ok():!x},n=e&&e.type?b[e.type]||[]:[],r=[],i,t=[t],s=ct&&a.useFlashBlock&&!a.ok();e.error&&(t[0].error=e.error);for(e=0,i=n.length;e<i;e++)!0!==n[e].fired&&r.push(n[e]);if(r.length)for(e=0,i=r.length;e<i;e++)if(r[e].scope?r[e].method.apply(r[e].scope,t):r[e].method.apply(this,t),!s)r[e].fired=!0;return!0};M=function(){h.setTimeout(function(){a.useFlashBlock&&G();O();"function"==typeof a.onload&&a.onload.apply(h);a.waitForWindowLoad&&bt.add(h,"load",M)},1)};xt=function(){if("undefined"!=typeof St)return St;var e=!1,t=navigator,n=t.plugins,r,i=h.ActiveXObject;if(n&&n.length)(t=t.mimeTypes)&&t["application/x-shockwave-flash"]&&t["application/x-shockwave-flash"].enabledPlugin&&t["application/x-shockwave-flash"].enabledPlugin.description&&(e=!0);else if("undefined"!=typeof i){try{r=new i("ShockwaveFlash.ShockwaveFlash")}catch(s){}e=!!r}return St=e};ht=function(){var e,t,n=a.audioFormats;if(kt&&c.match(/os (1|2|3_0|3_1)/i)){if(a.hasHTML5=!1,a.html5Only=!0,a.oMC)a.oMC.style.display="none"}else a.useHTML5Audio&&(!a.html5||!a.html5.canPlayType)&&(a.hasHTML5=!1);if(a.useHTML5Audio&&a.hasHTML5)for(t in n)n.hasOwnProperty(t)&&(n[t].required&&!a.html5.canPlayType(n[t].type)||a.preferFlash&&(a.flash[t]||a.flash[n[t].type]))&&(e=!0);a.ignoreFlash&&(e=!1);a.html5Only=a.hasHTML5&&a.useHTML5Audio&&!e;return!a.html5Only};lt=function(e){var t,n,r=0;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(a.canPlayMIME(e[t].type)){r=t;break}}else if(a.canPlayURL(e[t])){r=t;break}e[r].url&&(e[r]=e[r].url);e=e[r]}return e};st=function(e){e._hasTimer||(e._hasTimer=!0,!_t&&a.html5PollingInterval&&(null===ft&&0===at&&(ft=h.setInterval(ut,a.html5PollingInterval)),at++))};ot=function(e){e._hasTimer&&(e._hasTimer=!1,!_t&&a.html5PollingInterval&&at--)};ut=function(){var e;if(null!==ft&&!at)return h.clearInterval(ft),ft=null,!1;for(e=a.soundIDs.length-1;0<=e;e--)a.sounds[a.soundIDs[e]].isHTML5&&a.sounds[a.soundIDs[e]]._hasTimer&&a.sounds[a.soundIDs[e]]._onTimer()};U=function(e){e="undefined"!=typeof e?e:{};"function"==typeof a.onerror&&a.onerror.apply(h,[{type:"undefined"!=typeof e.type?e.type:null}]);"undefined"!=typeof e.fatal&&e.fatal&&a.disable()};Tt=function(){if(!Dt||!xt())return!1;var e=a.audioFormats,t,n;for(n in e)if(e.hasOwnProperty(n)&&("mp3"===n||"mp4"===n))if(a.html5[n]=!1,e[n]&&e[n].related)for(t=e[n].related.length-1;0<=t;t--)a.html5[e[n].related[t]]=!1};this._setSandboxType=function(){};this._externalInterfaceOK=function(){if(a.swfLoaded)return!1;(new Date).getTime();a.swfLoaded=!0;Ht=!1;Dt&&Tt();setTimeout(g,Lt?100:1)};R=function(e,t){function n(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(w&&E)return!1;if(a.html5Only)return P(),a.oMC=l(a.movieID),g(),E=w=!0,!1;var r=t||a.url,i=a.altURL||r,s=q(),o=Y(),u=null,u=d.getElementsByTagName("html")[0],f,h,p,u=u&&u.dir&&u.dir.match(/rtl/i),e="undefined"==typeof e?a.id:e;P();a.url=$(Ft?r:i);t=a.url;a.wmode=!a.wmode&&a.useHighPerformance?"transparent":a.wmode;null!==a.wmode&&(c.match(/msie 8/i)||!Lt&&!a.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(a.wmode=null);s={name:e,id:e,src:t,quality:"high",allowScriptAccess:a.allowScriptAccess,bgcolor:a.bgColor,pluginspage:It+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:a.wmode,hasPriority:"true"};a.debugFlash&&(s.FlashVars="debug=1");a.wmode||delete s.wmode;if(Lt)r=d.createElement("div"),h=['<object id="'+e+'" data="'+t+'" type="'+s.type+'" title="'+s.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+It+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',n("movie",t),n("AllowScriptAccess",a.allowScriptAccess),n("quality",s.quality),a.wmode?n("wmode",a.wmode):"",n("bgcolor",a.bgColor),n("hasPriority","true"),a.debugFlash?n("FlashVars",s.FlashVars):"","</object>"].join("");else for(f in r=d.createElement("embed"),s)s.hasOwnProperty(f)&&r.setAttribute(f,s[f]);W();o=Y();if(s=q())if(a.oMC=l(a.movieID)||d.createElement("div"),a.oMC.id){p=a.oMC.className;a.oMC.className=(p?p+" ":"movieContainer")+(o?" "+o:"");a.oMC.appendChild(r);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}else{a.oMC.id=a.movieID;a.oMC.className="movieContainer "+o;f=o=null;if(!a.useFlashBlock)if(a.useHighPerformance)o={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"};else if(o={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},u)o.left=Math.abs(parseInt(o.left,10))+"px";At&&(a.oMC.style.zIndex=1e4);if(!a.debugFlash)for(p in o)o.hasOwnProperty(p)&&(a.oMC.style[p]=o[p]);try{Lt||a.oMC.appendChild(r);s.appendChild(a.oMC);Lt&&(f=a.oMC.appendChild(d.createElement("div")),f.className="sm2-object-box",f.innerHTML=h);E=!0}catch(v){throw Error(Q("domError")+" \n"+v.toString())}}return w=!0};B=function(){if(a.html5Only)return R(),!1;if(f||!a.url)return!1;f=a.getMovie(a.id);f||(J?(Lt?a.oMC.innerHTML=K:a.oMC.appendChild(J),J=null,w=!0):R(a.id,a.url),f=a.getMovie(a.id));"function"==typeof a.oninitmovie&&setTimeout(a.oninitmovie,1);return!0};_=function(){setTimeout(D,1e3)};D=function(){var e,t=!1;if(!a.url||rt)return!1;rt=!0;bt.remove(h,"load",_);if(Ht&&!Pt)return!1;S||(e=a.getMoviePercent(),0<e&&100>e&&(t=!0));setTimeout(function(){e=a.getMoviePercent();if(t)return rt=!1,h.setTimeout(_,1),!1;!S&&Bt&&(null===e?a.useFlashBlock||0===a.flashLoadTimeout?a.useFlashBlock&&G():V(!0):0!==a.flashLoadTimeout&&V(!0))},a.flashLoadTimeout)};H=function(){if(Pt||!Ht)return bt.remove(h,"focus",H),!0;Pt=Bt=!0;rt=!1;_();bt.remove(h,"focus",H);return!0};Ct=function(){};N=function(e){if(S)return!1;if(a.html5Only)return S=!0,M(),!0;var t=!0,n;if(!a.useFlashBlock||!a.flashLoadTimeout||a.getMoviePercent())S=!0,x&&(n={type:!St&&ct?"NO_FLASH":"INIT_TIMEOUT"});if(x||e){a.useFlashBlock&&a.oMC&&(a.oMC.className=Y()+" "+(null===a.getMoviePercent()?"swf_timedout":"swf_error"));O({type:"ontimeout",error:n,ignoreInit:!0});U(n);t=!1}x||(a.waitForWindowLoad&&!T?bt.add(h,"load",M):M());return t};m=function(){var e,t=a.setupOptions;for(e in t)t.hasOwnProperty(e)&&("undefined"==typeof a[e]?a[e]=t[e]:a[e]!==t[e]&&(a.setupOptions[e]=a[e]))};g=function(){if(S)return!1;if(a.html5Only){S||(bt.remove(h,"load",a.beginDelayedInit),a.enabled=!0,N());return!0}B();try{f._externalInterfaceTest(!1),z(!0,a.flashPollingInterval||(a.useHighPerformance?10:50)),a.debugMode||f._disableDebug(),a.enabled=!0,a.html5Only||bt.add(h,"unload",v)}catch(e){return U({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),V(!0),N(),!1}N();bt.remove(h,"load",a.beginDelayedInit);return!0};j=function(){if(I)return!1;I=!0;m();W();!St&&a.hasHTML5&&a.setup({useHTML5Audio:!0,preferFlash:!1});yt();a.html5.usingFlash=ht();ct=a.html5.usingFlash;Ct();!St&&ct&&a.setup({flashLoadTimeout:1});d.removeEventListener&&d.removeEventListener("DOMContentLoaded",j,!1);B();return!0};gt=function(){"complete"===d.readyState&&(j(),d.detachEvent("onreadystatechange",gt));return!0};F=function(){T=!0;bt.remove(h,"load",F)};xt();bt.add(h,"focus",H);bt.add(h,"load",_);bt.add(h,"load",F);d.addEventListener?d.addEventListener("DOMContentLoaded",j,!1):d.attachEvent?d.attachEvent("onreadystatechange",gt):U({type:"NO_DOM2_EVENTS",fatal:!0})}var n=null;if("undefined"==typeof SM2_DEFER||!SM2_DEFER)n=new t;e.SoundManager=t;e.soundManager=n})(window);__slice=[].slice;typeof soundManager!="undefined"&&soundManager.setup({url:"swf/",flashVersion:9,useFlashBlock:!1,useHighPerformance:!0,wmode:"transparent",useFastPolling:!0,debugFlash:!1,debugMode:!1});var SoundCloudPlayer=function(e,t){var n={loop:!1,start_on:0,autoplay:!1,autoswitch:!0,volume:100,toggle_pause:!0,cache:!0,preload:!1,debug:!1},r="http://api.soundcloud.com/resolve?url=http://soundcloud.com",i=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi),s=this,o=jQuery(this);this.tracks=[];this.config=jQuery.extend(n,t);this.current_track_index=this.config.start_on;this.current_track=null;this.sound=null;this.inited=!1;this.play_when_ready=!1;this.cache={};this.init=function(){if(s.inited)return;s.change_track();s.trigger("scplayer.init");s.config.autoplay&&s.play();s.inited=!0};this.change_track=function(e){s.log("change_track");if(s.sound){s.sound.destruct();
s.sound=null}var t=typeof e!="undefined"?e:s.current_track_index;if(e!=s.current_track_index||!e){var n=s.tracks[t];s.resolve_track(n,s.set_sound);s.trigger("scplayer.changing_track",t)}return s};this.play=function(){s.log("play");s.sound&&s.sound.readyState==3?s.sound.play():s.play_when_ready=!0;s.trigger("scplayer.play",s.current_track_index);return s};this.pause=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.pause();s.trigger("scplayer.pause",s.sound.paused)}return s};this.resume=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.resume();s.trigger("scplayer.pause",s.sound.paused)}return s};this.stop=function(){s.sound&&s.sound.stop();s.trigger("scplayer.stop");s.log("stop");return s};this.next=function(e){s.log("next");s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;s.log(s.play_when_ready);if(s.tracks[s.current_track_index+1]){s.current_track_index++;s.change_track();s.trigger("scplayer.playlist.next",s.current_track_index-1,s.current_track_index);s.log("has next")}else if(s.config.loop){s.current_track_index=0;s.change_track();s.trigger("scplayer.playlist.looped");s.log("looped")}else{s.current_track_index=s.tracks.length-1;s.trigger("scplayer.playlist.ended");s.log("no mas")}return s};this.prev=function(e){s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;if(s.tracks[s.current_track_index-1]){s.current_track_index--;s.change_track();s.trigger("scplayer.playlist.prev")}else if(s.config.loop){s.current_track_index=s.tracks.length-1;s.change_track();s.trigger("scplayer.playlist.looped")}else{s.current_track_index=0;s.trigger("scplayer.playlist.restarted")}return s};this.goto=function(e,t){s.log("goto");s.play_when_ready=typeof t!="undefined"?t:s.config.autoswitch;if(s.tracks[e]){s.current_track_index=e;s.trigger("scplayer.playlist.goto");s.change_track()}return s};this.restart_track=function(){s.position(0);return s};this.mute=function(){s.sound&&s.sound.toggleMute();s.trigger("scplayer.mute",s.sound.muted);return s};this.has_next=function(){s.log("has next");return s.tracks[s.current_track_index+1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.has_prev=function(){return s.tracks[s.current_track_index-1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.get_time=function(){var e=this.position(),t=e%1e3,n=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),i=Math.floor(e/36e5%24),o=r+":"+s.pad(n);i>0&&(o=i+":"+o);return o};this.position=function(e){if(s.sound){if(e||e===0){e=Math.min(s.sound.duration,e);e=Math.max(0,e);s.trigger("scplayer.position",e);return s.sound.setPosition(e)}s.trigger("scplayer.position",s.sound.position);return s.sound.position}return 0};this.volume=function(e){if(s.sound){if(e||e===0){e=Math.min(100,e);e=Math.max(0,e);s.trigger("scplayer.volume",e);s.config.volume=e;return s.sound.setVolume(e)}s.trigger("scplayer.volume",s.sound.volume);return s.sound.volume}return s.config.volume};this.seek=function(e){var t=s.current_track.duration*e;s.position(t);return s};this.loop=function(e){if(e){s.config.loop=e;s.trigger("scplayer.loop_changed",s.config.loop)}return s.config.loop};this.track_info=function(e){s.isNumeric(e)&&(e=s.tracks[e]);return s.resolve_track(e)};this.on=function(e,t){return o.on(e,t)};this.trigger=function(e){var t=arguments.length>1?__slice.call(arguments,1):[];return o.trigger(e,t)};this.destroy=function(){s.sound&&s.sound.destruct();s.tracks=[];o.off();o.remove();s.tracks=null;s.track=null;s=null;delete s.tracks;delete s.track;delete s;delete this};s.get_track=function(){return s.current_track};s.get_track_index=function(){return s.current_track_index};s.get_sound=function(){return s.sound};s.get_playlist=function(){return s.tracks};s.set_cache=function(e,t){s.config.cache===!0&&(s.cache[e]=t)};s.get_cache=function(e){return s.config.cache===!0?s.cache[e]||null:null};s.set_sound=function(e){s.log("set_sound");s.trigger("scplayer.track.info_loaded",e);s.current_track=e;var t=e.stream_url;t+=t.indexOf("secret_token")==-1?"?":"&";t+="consumer_key="+s.config.consumer_key;s.sound=soundManager.createSound({autoLoad:!0,id:"track_"+e.id,multiShot:!1,loops:1,url:t,volume:s.config.volume,whileloading:function(){var e=Math.round(this.bytesLoaded/this.bytesTotal*100);s.trigger("scplayer.track.whileloading",e)},whileplaying:function(){var t=Math.round(this.position/e.duration*100*10)/10;s.trigger("scplayer.track.whileplaying",t)},onplay:function(){s.log("track.onplay");s.trigger("scplayer.track.played")},onresume:function(){s.trigger("scplayer.track.resumed")},onstop:function(){s.trigger("scplayer.track.stopped")},onpause:function(){s.trigger("scplayer.track.paused")},onfinish:function(){s.trigger("scplayer.track.finished")},onload:function(){s.log("onload");s.trigger("scplayer.track.ready",s.current_track_index,s.current_track)}});s.trigger("scplayer.track.bindable",e,s.sound)};s.resolve_track=function(e,t){var n=new jQuery.Deferred;if(e.match(i)&&e.search(/soundcloud\.com/i)===-1){var o={stream_url:e,id:0,permalink_url:e,duration:0};n.resolve(o)}e=e.replace(/https?\:\/\/soundcloud\.com/gi,"");if(s.config.cache===!0){var u=s.get_cache(e);if(u&&t){n.done(function(){t(u)}).resolve();return n}}n.done(function(n){if(n.tracks&&n.tracks.length>0){var r=s.parse_tracks(e,n.tracks);n=r[0]}else s.config.cache===!0&&s.set_cache(e,n);t&&t(n)});jQuery.ajax({url:r+e+"&format=json"+"&consumer_key="+s.config.consumer_key+"&callback=?",dataType:"jsonp",error:function(e,t,r){n.reject(e,t,r)},success:function(e){n.resolve(e)}});return n};s.preload_sc_tracks=function(e){var t=[];for(var n=0,r=s.tracks.length;n<r;n++){var i=s.tracks[n],o=s.resolve_track(i);t.push(o)}jQuery.when.apply(jQuery,t).then(function(){s.trigger("scplayer.playlist.preloaded");e&&e()},function(){s.log("promises failed to preload tracks")})};s.parse_tracks=function(e,t){var n=[],r=[],i=s.tracks.indexOf(e);for(var o=0,u=t.length;o<u;o++){var a=t[o],f=a.permalink_url.substring(21);s.config.cache===!0&&s.set_cache(f,a);n.push(a);r.push(f)}var l=[i,1].concat(r);s.tracks.splice.apply(s.tracks,l);return n};s.add_tracks=function(e){typeof e=="string"&&(e=[e]);if(e!=null&&e.length>0){s.tracks=s.tracks.concat(e);s.config.preload==1?s.preload_sc_tracks.call(s,s.init):s.init.call(s)}};s.log=function(){s.config.debug&&window.console&&console.log.apply(console,arguments)};s.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};s.pad=function(e){return(e<10?"0":"")+e};s.on("scplayer.track.ready",function(e){s.log("track.onready!!!");if(s.play_when_ready==1){s.play();s.play_when_ready=!1}});s.on("scplayer.track.finished",function(e){s.log("track finished");if(s.config.autoswitch&&(s.config.loop||s.has_next())){s.log("finished and autoswitch");s.next().play()}});s.on("scplayer.playlist.ended",function(e){s.log("playlist ended");s.config.loop||s.stop()});soundManager.onready(function(){s.log("SOUNDMANAGER2 ready!!");s.add_tracks(e)});soundManager.ontimeout(function(){window.console&&console.log("SOUNDMANAGER2 TIMEDOUT!!")});return{play:this.play,pause:this.pause,resume:this.resume,stop:this.stop,next:this.next,prev:this.prev,mute:this.mute,get_time:this.get_time,volume:this.volume,restart_track:this.restart_track,"goto":this.goto,position:this.position,seek:this.seek,track_info:this.track_info,has_next:this.has_next,has_prev:this.has_prev,on:this.on,trigger:this.trigger,track:this.get_track,track_index:this.get_track_index,sound:this.get_sound,playlist:this.get_playlist,destroy:this.destroy,add_tracks:this.add_tracks}};(function(e,t){"use strict";function n(n,r){function i(e){return u.preferFlash&&Ft&&!u.ignoreFlash&&u.flash[e]!==t&&u.flash[e]}function s(e){return function(t){var n=this._s,r;if(!n||!n._a){n&&n.id?u._wD(n.id+": Ignoring "+t.type):u._wD(h+"Ignoring "+t.type);r=null}else r=e.call(this,t);return r}}this.setupOptions={url:n||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=r||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20131201";this.version=null;this.movieURL=null;this.altURL=null;this.swfLoaded=!1;this.enabled=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.muted=!1;this.didFlashBlock=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null};this.html5={usingFlash:null};this.flash={};this.html5Only=!1;this.ignoreFlash=!1;var o,u=this,a=null,f=null,l="soundManager",c=l+": ",h="HTML5::",p,d=navigator.userAgent,v=e.location.href.toString(),m=document,g,y,b,w,E=[],S=!0,x,T=!1,N=!1,C=!1,k=!1,L=!1,A,O=0,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et=["log","info","warn","error"],tt=8,nt,rt,it,st=null,ot=null,ut,at,ft,lt,ct,ht,pt,dt,vt,mt=!1,gt=!1,yt,bt,wt,Et=0,St=null,xt,Tt=[],Nt,Ct=null,kt,Lt,At,Ot,Mt,_t,Dt,Pt,Ht=Array.prototype.slice,Bt=!1,jt,Ft,It,qt,Rt,Ut,zt,Wt,Xt=0,Vt=d.match(/(ipad|iphone|ipod)/i),$t=d.match(/android/i),Jt=d.match(/msie/i),Kt=d.match(/webkit/i),Qt=d.match(/safari/i)&&!d.match(/chrome/i),Gt=d.match(/opera/i),Yt=d.match(/(mobile|pre\/|xoom)/i)||Vt||$t,Zt=!v.match(/usehtml5audio/i)&&!v.match(/sm2\-ignorebadua/i)&&Qt&&!d.match(/silk/i)&&d.match(/OS X 10_6_([3-7])/i),en=e.console!==t&&console.log!==t,tn=m.hasFocus!==t?m.hasFocus():null,nn=Qt&&(m.hasFocus===t||!m.hasFocus()),rn=!nn,sn=/(mp3|mp4|mpa|m4a|m4b)/i,on=1e3,un="about:blank",an="data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==",fn=m.location?m.location.protocol.match(/http/i):null,ln=fn?"":"http://",cn=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,hn=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],pn=new RegExp("\\.("+hn.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!fn;lt={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"};this.hasHTML5=function(){try{return Audio!==t&&(Gt&&opera!==t&&opera.version()<10?new Audio(null):new Audio).canPlayType!==t}catch(e){return!1}}();this.setup=function(e){var n=!u.url;e!==t&&C&&Ct&&u.ok()&&(e.flashVersion!==t||e.url!==t||e.html5Test!==t)&&dt(ut("setupLate"));D(e);if(e){n&&J&&e.url!==t&&u.beginDelayedInit();!J&&e.url!==t&&m.readyState==="complete"&&setTimeout(V,1)}return u};this.ok=function(){return Ct?C&&!k:u.useHTML5Audio&&u.hasHTML5};this.supported=this.ok;this.getMovie=function(t){return p(t)||m[t]||e[t]};this.createSound=function(e,n){function r(){a=ht(a);u.sounds[a.id]=new o(a);u.soundIDs.push(a.id);return u.sounds[a.id]}var i,s,a,c=null;i=l+".createSound(): ";s=i+ut(C?"notOK":"notReady");if(!C||!u.ok()){dt(s);return!1}n!==t&&(e={id:e,url:n});a=_(e);a.url=xt(a.url);a.id===undefined&&(a.id=u.setupOptions.idPrefix+Xt++);a.id.toString().charAt(0).match(/^[0-9]$/)&&u._wD(i+ut("badID",a.id),2);u._wD(i+a.id+(a.url?" ("+a.url+")":""),1);if(vt(a.id,!0)){u._wD(i+a.id+" exists",1);return u.sounds[a.id]}if(Lt(a)){c=r();u._wD(a.id+": Using HTML5");c._setup_html5(a)}else{if(u.html5Only){u._wD(a.id+": No HTML5 support for this sound, and no Flash. Exiting.");return r()}if(u.html5.usingFlash&&a.url&&a.url.match(/data\:/i)){u._wD(a.id+": data: URIs not supported via Flash. Exiting.");return r()}if(w>8){a.isMovieStar===null&&(a.isMovieStar=!!(a.serverURL||(a.type?a.type.match(cn):!1)||a.url&&a.url.match(pn)));if(a.isMovieStar){u._wD(i+"using MovieStar handling");a.loops>1&&A("noNSLoop")}}a=pt(a,i);c=r();if(w===8)f._createSound(a.id,a.loops||1,a.usePolicyFile);else{f._createSound(a.id,a.url,a.usePeakData,a.useWaveformData,a.useEQData,a.isMovieStar,a.isMovieStar?a.bufferTime:!1,a.loops||1,a.serverURL,a.duration||null,a.autoPlay,!0,a.autoLoad,a.usePolicyFile);if(!a.serverURL){c.connected=!0;a.onconnect&&a.onconnect.apply(c)}}!a.serverURL&&(a.autoLoad||a.autoPlay)&&c.load(a)}!a.serverURL&&a.autoPlay&&c.play();return c};this.destroySound=function(e,t){if(!vt(e))return!1;var n=u.sounds[e],r;n._iO={};n.stop();n.unload();for(r=0;r<u.soundIDs.length;r++)if(u.soundIDs[r]===e){u.soundIDs.splice(r,1);break}t||n.destruct(!0);n=null;delete u.sounds[e];return!0};this.load=function(e,t){return vt(e)?u.sounds[e].load(t):!1};this.unload=function(e){return vt(e)?u.sounds[e].unload():!1};this.onPosition=function(e,t,n,r){return vt(e)?u.sounds[e].onposition(t,n,r):!1};this.onposition=this.onPosition;this.clearOnPosition=function(e,t,n){return vt(e)?u.sounds[e].clearOnPosition(t,n):!1};this.play=function(e,t){var n=null,r=t&&!(t instanceof Object);if(!C||!u.ok()){dt(l+".play(): "+ut(C?"notOK":"notReady"));return!1}if(!vt(e,r)){if(!r)return!1;r&&(t={url:t});if(t&&t.url){u._wD(l+'.play(): Attempting to create "'+e+'"',1);t.id=e;n=u.createSound(t).play()}}else r&&(t={url:t});n===null&&(n=u.sounds[e].play(t));return n};this.start=this.play;this.setPosition=function(e,t){return vt(e)?u.sounds[e].setPosition(t):!1};this.stop=function(e){if(!vt(e))return!1;u._wD(l+".stop("+e+")",1);return u.sounds[e].stop()};this.stopAll=function(){var e;u._wD(l+".stopAll()",1);for(e in u.sounds)u.sounds.hasOwnProperty(e)&&u.sounds[e].stop()};this.pause=function(e){return vt(e)?u.sounds[e].pause():!1};this.pauseAll=function(){var e;for(e=u.soundIDs.length-1;e>=0;e--)u.sounds[u.soundIDs[e]].pause()};this.resume=function(e){return vt(e)?u.sounds[e].resume():!1};this.resumeAll=function(){var e;for(e=u.soundIDs.length-1;e>=0;e--)u.sounds[u.soundIDs[e]].resume()};this.togglePause=function(e){return vt(e)?u.sounds[e].togglePause():!1};this.setPan=function(e,t){return vt(e)?u.sounds[e].setPan(t):!1};this.setVolume=function(e,t){return vt(e)?u.sounds[e].setVolume(t):!1};this.mute=function(e){var t=0;e instanceof String&&(e=null);if(!!e){if(!vt(e))return!1;u._wD(l+'.mute(): Muting "'+e+'"');return u.sounds[e].mute()}u._wD(l+".mute(): Muting all sounds");for(t=u.soundIDs.length-1;t>=0;t--)u.sounds[u.soundIDs[t]].mute();u.muted=!0;return!0};this.muteAll=function(){u.mute()};this.unmute=function(e){var t;e instanceof String&&(e=null);if(!!e){if(!vt(e))return!1;u._wD(l+'.unmute(): Unmuting "'+e+'"');return u.sounds[e].unmute()}u._wD(l+".unmute(): Unmuting all sounds");for(t=u.soundIDs.length-1;t>=0;t--)u.sounds[u.soundIDs[t]].unmute();u.muted=!1;return!0};this.unmuteAll=function(){u.unmute()};this.toggleMute=function(e){return vt(e)?u.sounds[e].toggleMute():!1};this.getMemoryUse=function(){var e=0;f&&w!==8&&(e=parseInt(f._getMemoryUse(),10));return e};this.disable=function(n){var r;n===t&&(n=!1);if(k)return!1;k=!0;A("shutdown",1);for(r=u.soundIDs.length-1;r>=0;r--)nt(u.sounds[u.soundIDs[r]]);M(n);Pt.remove(e,"load",j);return!0};this.canPlayMIME=function(e){var t;u.hasHTML5&&(t=At({type:e}));!t&&Ct&&(t=e&&u.ok()?!!((w>8?e.match(cn):null)||e.match(u.mimePattern)):null);return t};this.canPlayURL=function(e){var t;u.hasHTML5&&(t=At({url:e}));!t&&Ct&&(t=e&&u.ok()?!!e.match(u.filePattern):null);return t};this.canPlayLink=function(e){return e.type!==t&&e.type&&u.canPlayMIME(e.type)?!0:u.canPlayURL(e.href)};this.getSoundById=function(e,t){if(!e)return null;var n=u.sounds[e];!n&&!t&&u._wD(l+'.getSoundById(): Sound "'+e+'" not found.',2);return n};this.onready=function(t,n){var r="onready",i=!1;if(typeof t!="function")throw ut("needFunction",r);C&&u._wD(ut("queue",r));n||(n=e);H(r,t,n);B();i=!0;return i};this.ontimeout=function(t,n){var r="ontimeout",i=!1;if(typeof t!="function")throw ut("needFunction",r);C&&u._wD(ut("queue",r));n||(n=e);H(r,t,n);B({type:r});i=!0;return i};this._writeDebug=function(e,n){var r="soundmanager-debug",i,s;if(!u.debugMode)return!1;if(en&&u.useConsole){n&&typeof n=="object"?console.log(e,n):et[n]!==t?console[et[n]](e):console.log(e);if(u.consoleOnly)return!0}i=p(r);if(!i)return!1;s=m.createElement("div");++O%2===0&&(s.className="sm2-alt");n===t?n=0:n=parseInt(n,10);s.appendChild(m.createTextNode(e));if(n){n>=2&&(s.style.fontWeight="bold");n===3&&(s.style.color="#ff3333")}i.insertBefore(s,i.firstChild);i=null;return!0};v.indexOf("sm2-debug=alert")!==-1&&(this._writeDebug=function(t){e.alert(t)});this._wD=this._writeDebug;this._debug=function(){var e,t;A("currentObj",1);for(e=0,t=u.soundIDs.length;e<t;e++)u.sounds[u.soundIDs[e]]._debug()};this.reboot=function(t,n){u.soundIDs.length&&u._wD("Destroying "+u.soundIDs.length+" SMSound object"+(u.soundIDs.length!==1?"s":"")+"...");var r,i,s;for(r=u.soundIDs.length-1;r>=0;r--)u.sounds[u.soundIDs[r]].destruct();if(f)try{Jt&&(ot=f.innerHTML);st=f.parentNode.removeChild(f)}catch(o){A("badRemove",2)}ot=st=Ct=f=null;u.enabled=J=C=mt=gt=T=N=k=Bt=u.swfLoaded=!1;u.soundIDs=[];u.sounds={};Xt=0;if(!t){for(r in E)if(E.hasOwnProperty(r))for(i=0,s=E[r].length;i<s;i++)E[r][i].fired=!1}else E=[];n||u._wD(l+": Rebooting...");u.html5={usingFlash:null};u.flash={};u.html5Only=!1;u.ignoreFlash=!1;e.setTimeout(function(){X();n||u.beginDelayedInit()},20);return u};this.reset=function(){A("reset");return u.reboot(!0,!0)};this.getMoviePercent=function(){return f&&"PercentLoaded"in f?f.PercentLoaded():null};this.beginDelayedInit=function(){L=!0;V();setTimeout(function(){if(gt)return!1;Q();W();gt=!0;return!0},20);F()};this.destruct=function(){u._wD(l+".destruct()");u.disable(!0)};o=function(e){var n=this,r,i,s,o,l,c,h=!1,p=[],d=0,v,m,g=null,y,b;y={duration:null,time:null};this.id=e.id;this.sID=this.id;this.url=e.url;this.options=_(e);this.instanceOptions=this.options;this._iO=this.instanceOptions;this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;b=this.url?!1:!0;this.id3={};this._debug=function(){u._wD(n.id+": Merged options:",n.options)};this.load=function(e){var r=null,i;if(e!==t)n._iO=_(e,n.options);else{e=n.options;n._iO=e;if(g&&g!==n.url){A("manURL");n._iO.url=n.url;n.url=null}}n._iO.url||(n._iO.url=n.url);n._iO.url=xt(n._iO.url);n.instanceOptions=n._iO;i=n._iO;u._wD(n.id+": load ("+i.url+")");if(!i.url&&!n.url){u._wD(n.id+": load(): url is unassigned. Exiting.",2);return n}!n.isHTML5&&w===8&&!n.url&&!i.autoPlay&&u._wD(n.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1);if(i.url===n.url&&n.readyState!==0&&n.readyState!==2){A("onURL",1);n.readyState===3&&i.onload&&Wt(n,function(){i.onload.apply(n,[!!n.duration])});return n}n.loaded=!1;n.readyState=1;n.playState=0;n.id3={};if(Lt(i)){r=n._setup_html5(i);if(!r._called_load){n._html5_canplay=!1;if(n.url!==i.url){u._wD(A("manURL")+": "+i.url);n._a.src=i.url;n.setPosition(0)}n._a.autobuffer="auto";n._a.preload="auto";n._a._called_load=!0}else u._wD(n.id+": Ignoring request to load again")}else{if(u.html5Only){u._wD(n.id+": No flash support. Exiting.");return n}if(n._iO.url&&n._iO.url.match(/data\:/i)){u._wD(n.id+": data: URIs not supported via Flash. Exiting.");return n}try{n.isHTML5=!1;n._iO=pt(ht(i));i=n._iO;w===8?f._load(n.id,i.url,i.stream,i.autoPlay,i.usePolicyFile):f._load(n.id,i.url,!!i.stream,!!i.autoPlay,i.loops||1,!!i.autoLoad,i.usePolicyFile)}catch(s){A("smError",2);x("onload",!1);G({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}n.url=i.url;return n};this.unload=function(){if(n.readyState!==0){u._wD(n.id+": unload()");if(!n.isHTML5)w===8?f._unload(n.id,un):f._unload(n.id);else{o();if(n._a){n._a.pause();g=Mt(n._a)}}r()}return n};this.destruct=function(e){u._wD(n.id+": Destruct");if(!n.isHTML5){n._iO.onfailure=null;f._destroySound(n.id)}else{o();if(n._a){n._a.pause();Mt(n._a);Bt||s();n._a._s=null;n._a=null}}e||u.destroySound(n.id,!0)};this.play=function(e,r){var i,s,o,a,p,d,v,g=!0,y=null;i=n.id+": play(): ";r=r===t?!0:r;e||(e={});n.url&&(n._iO.url=n.url);n._iO=_(n._iO,n.options);n._iO=_(e,n._iO);n._iO.url=xt(n._iO.url);n.instanceOptions=n._iO;if(!n.isHTML5&&n._iO.serverURL&&!n.connected){if(!n.getAutoPlay()){u._wD(i+" Netstream not connected yet - setting autoPlay");n.setAutoPlay(!0)}return n}if(Lt(n._iO)){n._setup_html5(n._iO);l()}if(n.playState===1&&!n.paused){s=n._iO.multiShot;if(!s){u._wD(i+"Already playing (one-shot)",1);n.isHTML5&&n.setPosition(n._iO.position);y=n}else u._wD(i+"Already playing (multi-shot)",1)}if(y!==null)return y;e.url&&e.url!==n.url&&(!n.readyState&&!n.isHTML5&&w===8&&b?b=!1:n.load(n._iO));if(!n.loaded)if(n.readyState===0){u._wD(i+"Attempting to load");if(!n.isHTML5&&!u.html5Only){n._iO.autoPlay=!0;n.load(n._iO)}else if(n.isHTML5)n.load(n._iO);else{u._wD(i+"Unsupported type. Exiting.");y=n}n.instanceOptions=n._iO}else if(n.readyState===2){u._wD(i+"Could not load - exiting",2);y=n}else u._wD(i+"Loading - attempting to play...");else u._wD(i.substr(0,i.lastIndexOf(":")));if(y!==null)return y;if(!n.isHTML5&&w===9&&n.position>0&&n.position===n.duration){u._wD(i+"Sound at end, resetting to position:0");e.position=0}if(n.paused&&n.position>=0&&(!n._iO.serverURL||n.position>0)){u._wD(i+"Resuming from paused state",1);n.resume()}else{n._iO=_(e,n._iO);if(n._iO.from!==null&&n._iO.to!==null&&n.instanceCount===0&&n.playState===0&&!n._iO.serverURL){a=function(){n._iO=_(e,n._iO);n.play(n._iO)};if(n.isHTML5&&!n._html5_canplay){u._wD(i+"Beginning load for from/to case");n.load({_oncanplay:a});y=!1}else if(!n.isHTML5&&!n.loaded&&(!n.readyState||n.readyState!==2)){u._wD(i+"Preloading for from/to case");n.load({onload:a});y=!1}if(y!==null)return y;n._iO=m()}(!n.instanceCount||n._iO.multiShotEvents||n.isHTML5&&n._iO.multiShot&&!Bt||!n.isHTML5&&w>8&&!n.getAutoPlay())&&n.instanceCount++;n._iO.onposition&&n.playState===0&&c(n);n.playState=1;n.paused=!1;n.position=n._iO.position!==t&&!isNaN(n._iO.position)?n._iO.position:0;n.isHTML5||(n._iO=pt(ht(n._iO)));if(n._iO.onplay&&r){n._iO.onplay.apply(n);h=!0}n.setVolume(n._iO.volume,!0);n.setPan(n._iO.pan,!0);if(!n.isHTML5){g=f._start(n.id,n._iO.loops||1,w===9?n.position:n.position/on,n._iO.multiShot||!1);if(w===9&&!g){u._wD(i+"No sound hardware, or 32-sound ceiling hit",2);n._iO.onplayerror&&n._iO.onplayerror.apply(n)}}else if(n.instanceCount<2){l();o=n._setup_html5();n.setPosition(n._iO.position);o.play()}else{u._wD(n.id+": Cloning Audio() for instance #"+n.instanceCount+"...");p=new Audio(n._iO.url);d=function(){Pt.remove(p,"ended",d);n._onfinish(n);Mt(p);p=null};v=function(){Pt.remove(p,"canplay",v);try{p.currentTime=n._iO.position/on}catch(e){dt(n.id+": multiShot play() failed to apply position of "+n._iO.position/on)}p.play()};Pt.add(p,"ended",d);n._iO.volume!==undefined&&(p.volume=Math.max(0,Math.min(1,n._iO.volume/100)));n.muted&&(p.muted=!0);n._iO.position?Pt.add(p,"canplay",v):p.play()}}return n};this.start=this.play;this.stop=function(e){var t=n._iO,r;if(n.playState===1){u._wD(n.id+": stop()");n._onbufferchange(0);n._resetOnPosition(0);n.paused=!1;n.isHTML5||(n.playState=0);v();t.to&&n.clearOnPosition(t.to);if(!n.isHTML5){f._stop(n.id,e);t.serverURL&&n.unload()}else if(n._a){r=n.position;n.setPosition(0);n.position=r;n._a.pause();n.playState=0;n._onTimer();o()}n.instanceCount=0;n._iO={};t.onstop&&t.onstop.apply(n)}return n};this.setAutoPlay=function(e){u._wD(n.id+": Autoplay turned "+(e?"on":"off"));n._iO.autoPlay=e;if(!n.isHTML5){f._setAutoPlay(n.id,e);if(e&&!n.instanceCount&&n.readyState===1){n.instanceCount++;u._wD(n.id+": Incremented instance count to "+n.instanceCount)}}};this.getAutoPlay=function(){return n._iO.autoPlay};this.setPosition=function(e){e===t&&(e=0);var r,i,s=n.isHTML5?Math.max(e,0):Math.min(n.duration||n._iO.duration,Math.max(e,0));n.position=s;i=n.position/on;n._resetOnPosition(n.position);n._iO.position=s;if(!n.isHTML5){r=w===9?n.position:i;n.readyState&&n.readyState!==2&&f._setPosition(n.id,r,n.paused||!n.playState,n._iO.multiShot)}else if(n._a){if(n._html5_canplay){if(n._a.currentTime!==i){u._wD(n.id+": setPosition("+i+")");try{n._a.currentTime=i;(n.playState===0||n.paused)&&n._a.pause()}catch(o){u._wD(n.id+": setPosition("+i+") failed: "+o.message,2)}}}else if(i){u._wD(n.id+": setPosition("+i+"): Cannot seek yet, sound not ready",2);return n}n.paused&&n._onTimer(!0)}return n};this.pause=function(e){if(n.paused||n.playState===0&&n.readyState!==1)return n;u._wD(n.id+": pause()");n.paused=!0;if(!n.isHTML5)(e||e===t)&&f._pause(n.id,n._iO.multiShot);else{n._setup_html5().pause();o()}n._iO.onpause&&n._iO.onpause.apply(n);return n};this.resume=function(){var e=n._iO;if(!n.paused)return n;u._wD(n.id+": resume()");n.paused=!1;n.playState=1;if(!n.isHTML5){e.isMovieStar&&!e.serverURL&&n.setPosition(n.position);f._pause(n.id,e.multiShot)}else{n._setup_html5().play();l()}if(!h&&e.onplay){e.onplay.apply(n);h=!0}else e.onresume&&e.onresume.apply(n);return n};this.togglePause=function(){u._wD(n.id+": togglePause()");if(n.playState===0){n.play({position:w===9&&!n.isHTML5?n.position:n.position/on});return n}n.paused?n.resume():n.pause();return n};this.setPan=function(e,r){e===t&&(e=0);r===t&&(r=!1);n.isHTML5||f._setPan(n.id,e);n._iO.pan=e;if(!r){n.pan=e;n.options.pan=e}return n};this.setVolume=function(e,r){e===t&&(e=100);r===t&&(r=!1);if(!n.isHTML5)f._setVolume(n.id,u.muted&&!n.muted||n.muted?0:e);else if(n._a){if(u.muted&&!n.muted){n.muted=!0;n._a.muted=!0}n._a.volume=Math.max(0,Math.min(1,e/100))}n._iO.volume=e;if(!r){n.volume=e;n.options.volume=e}return n};this.mute=function(){n.muted=!0;n.isHTML5?n._a&&(n._a.muted=!0):f._setVolume(n.id,0);return n};this.unmute=function(){n.muted=!1;var e=n._iO.volume!==t;n.isHTML5?n._a&&(n._a.muted=!1):f._setVolume(n.id,e?n._iO.volume:n.options.volume);return n};this.toggleMute=function(){return n.muted?n.unmute():n.mute()};this.onPosition=function(e,r,i){p.push({position:parseInt(e,10),method:r,scope:i!==t?i:n,fired:!1});return n};this.onposition=this.onPosition;this.clearOnPosition=function(e,t){var n;e=parseInt(e,10);if(isNaN(e))return!1;for(n=0;n<p.length;n++)if(e===p[n].position)if(!t||t===p[n].method){p[n].fired&&d--;p.splice(n,1)}};this._processOnPosition=function(){var e,t,r=p.length;if(!r||!n.playState||d>=r)return!1;for(e=r-1;e>=0;e--){t=p[e];if(!t.fired&&n.position>=t.position){t.fired=!0;d++;t.method.apply(t.scope,[t.position]);r=p.length}}return!0};this._resetOnPosition=function(e){var t,n,r=p.length;if(!r)return!1;for(t=r-1;t>=0;t--){n=p[t];if(n.fired&&e<=n.position){n.fired=!1;d--}}return!0};m=function(){var e=n._iO,t=e.from,r=e.to,i,s;s=function(){u._wD(n.id+': "To" time of '+r+" reached.");n.clearOnPosition(r,s);n.stop()};i=function(){u._wD(n.id+': Playing "from" '+t);r!==null&&!isNaN(r)&&n.onPosition(r,s)};if(t!==null&&!isNaN(t)){e.position=t;e.multiShot=!1;i()}return e};c=function(){var e,t=n._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&n.onPosition(parseInt(e,10),t[e])};v=function(){var e,t=n._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&n.clearOnPosition(parseInt(e,10))};l=function(){n.isHTML5&&yt(n)};o=function(){n.isHTML5&&bt(n)};r=function(e){if(!e){p=[];d=0}h=!1;n._hasTimer=null;n._a=null;n._html5_canplay=!1;n.bytesLoaded=null;n.bytesTotal=null;n.duration=n._iO&&n._iO.duration?n._iO.duration:null;n.durationEstimate=null;n.buffered=[];n.eqData=[];n.eqData.left=[];n.eqData.right=[];n.failures=0;n.isBuffering=!1;n.instanceOptions={};n.instanceCount=0;n.loaded=!1;n.metadata={};n.readyState=0;n.muted=!1;n.paused=!1;n.peakData={left:0,right:0};n.waveformData={left:[],right:[]};n.playState=0;n.position=null;n.id3={}};r();this._onTimer=function(e){var t,r=!1,i,s={};if(n._hasTimer||e){if(n._a&&(e||(n.playState>0||n.readyState===1)&&!n.paused)){t=n._get_html5_duration();if(t!==y.duration){y.duration=t;n.duration=t;r=!0}n.durationEstimate=n.duration;i=n._a.currentTime*on||0;if(i!==y.time){y.time=i;r=!0}(r||e)&&n._whileplaying(i,s,s,s,s)}return r}};this._get_html5_duration=function(){var e=n._iO,t=n._a&&n._a.duration?n._a.duration*on:e&&e.duration?e.duration:null,r=t&&!isNaN(t)&&t!==Infinity?t:null;return r};this._apply_loop=function(e,t){!e.loop&&t>1&&u._wD("Note: Native HTML5 looping is infinite.",1);e.loop=t>1?"loop":""};this._setup_html5=function(e){var t=_(n._iO,e),s=Bt?a:n._a,o=decodeURI(t.url),u;Bt?o===decodeURI(jt)&&(u=!0):o===decodeURI(g)&&(u=!0);if(s){if(s._s)if(Bt)s._s&&s._s.playState&&!u&&s._s.stop();else if(!Bt&&o===decodeURI(g)){n._apply_loop(s,t.loops);return s}if(!u){g&&r(!1);s.src=t.url;n.url=t.url;g=t.url;jt=t.url;s._called_load=!1}}else{if(t.autoLoad||t.autoPlay){n._a=new Audio(t.url);n._a.load()}else n._a=Gt&&opera.version()<10?new Audio(null):new Audio;s=n._a;s._called_load=!1;Bt&&(a=s)}n.isHTML5=!0;n._a=s;s._s=n;i();n._apply_loop(s,t.loops);if(t.autoLoad||t.autoPlay)n.load();else{s.autobuffer=!1;s.preload="auto"}return s};i=function(){function e(e,t,r){return n._a?n._a.addEventListener(e,t,r||!1):null}if(n._a._added_events)return!1;var t;n._a._added_events=!0;for(t in Rt)Rt.hasOwnProperty(t)&&e(t,Rt[t]);return!0};s=function(){function e(e,t,r){return n._a?n._a.removeEventListener(e,t,r||!1):null}var t;u._wD(n.id+": Removing event listeners");n._a._added_events=!1;for(t in Rt)Rt.hasOwnProperty(t)&&e(t,Rt[t])};this._onload=function(e){var t,r=!!e||!n.isHTML5&&w===8&&n.duration;t=n.id+": ";u._wD(t+(r?"onload()":"Failed to load / invalid sound?"+(n.duration?" -":" Zero-length duration reported.")+" ("+n.url+")"),r?1:2);if(!r&&!n.isHTML5){u.sandbox.noRemote===!0&&u._wD(t+ut("noNet"),1);u.sandbox.noLocal===!0&&u._wD(t+ut("noLocal"),1)}n.loaded=r;n.readyState=r?3:2;n._onbufferchange(0);n._iO.onload&&Wt(n,function(){n._iO.onload.apply(n,[r])});return!0};this._onbufferchange=function(e){if(n.playState===0)return!1;if(e&&n.isBuffering||!e&&!n.isBuffering)return!1;n.isBuffering=e===1;if(n._iO.onbufferchange){u._wD(n.id+": Buffer state change: "+e);n._iO.onbufferchange.apply(n)}return!0};this._onsuspend=function(){if(n._iO.onsuspend){u._wD(n.id+": Playback suspended");n._iO.onsuspend.apply(n)}return!0};this._onfailure=function(e,t,r){n.failures++;u._wD(n.id+": Failures = "+n.failures);n._iO.onfailure&&n.failures===1?n._iO.onfailure(n,e,t,r):u._wD(n.id+": Ignoring failure")};this._onfinish=function(){var e=n._iO.onfinish;n._onbufferchange(0);n._resetOnPosition(0);if(n.instanceCount){n.instanceCount--;if(!n.instanceCount){v();n.playState=0;n.paused=!1;n.instanceCount=0;n.instanceOptions={};n._iO={};o();n.isHTML5&&(n.position=0)}if(!n.instanceCount||n._iO.multiShotEvents)if(e){u._wD(n.id+": onfinish()");Wt(n,function(){e.apply(n)})}}};this._whileloading=function(e,t,r,i){var s=n._iO;n.bytesLoaded=e;n.bytesTotal=t;n.duration=Math.floor(r);n.bufferLength=i;!n.isHTML5&&!s.isMovieStar?s.duration?n.durationEstimate=n.duration>s.duration?n.duration:s.duration:n.durationEstimate=parseInt(n.bytesTotal/n.bytesLoaded*n.duration,10):n.durationEstimate=n.duration;n.isHTML5||(n.buffered=[{start:0,end:n.duration}]);(n.readyState!==3||n.isHTML5)&&s.whileloading&&s.whileloading.apply(n)};this._whileplaying=function(e,r,i,s,o){var u=n._iO,a;if(isNaN(e)||e===null)return!1;n.position=Math.max(0,e);n._processOnPosition();if(!n.isHTML5&&w>8){u.usePeakData&&r!==t&&r&&(n.peakData={left:r.leftPeak,right:r.rightPeak});u.useWaveformData&&i!==t&&i&&(n.waveformData={left:i.split(","),right:s.split(",")});if(u.useEQData&&o!==t&&o&&o.leftEQ){a=o.leftEQ.split(",");n.eqData=a;n.eqData.left=a;o.rightEQ!==t&&o.rightEQ&&(n.eqData.right=o.rightEQ.split(","))}}if(n.playState===1){!n.isHTML5&&w===8&&!
n.position&&n.isBuffering&&n._onbufferchange(0);u.whileplaying&&u.whileplaying.apply(n)}return!0};this._oncaptiondata=function(e){u._wD(n.id+": Caption data received.");n.captiondata=e;n._iO.oncaptiondata&&n._iO.oncaptiondata.apply(n,[e])};this._onmetadata=function(e,t){u._wD(n.id+": Metadata received.");var r={},i,s;for(i=0,s=e.length;i<s;i++)r[e[i]]=t[i];n.metadata=r;n._iO.onmetadata&&n._iO.onmetadata.apply(n)};this._onid3=function(e,t){u._wD(n.id+": ID3 data received.");var r=[],i,s;for(i=0,s=e.length;i<s;i++)r[e[i]]=t[i];n.id3=_(n.id3,r);n._iO.onid3&&n._iO.onid3.apply(n)};this._onconnect=function(e){e=e===1;u._wD(n.id+": "+(e?"Connected.":"Failed to connect? - "+n.url),e?1:2);n.connected=e;if(e){n.failures=0;vt(n.id)&&(n.getAutoPlay()?n.play(t,n.getAutoPlay()):n._iO.autoLoad&&n.load());n._iO.onconnect&&n._iO.onconnect.apply(n,[e])}};this._ondataerror=function(e){if(n.playState>0){u._wD(n.id+": Data error: "+e);n._iO.ondataerror&&n._iO.ondataerror.apply(n)}};this._debug()};K=function(){return m.body||m.getElementsByTagName("div")[0]};p=function(e){return m.getElementById(e)};_=function(e,n){var r=e||{},i,s;i=n===t?u.defaultOptions:n;for(s in i)i.hasOwnProperty(s)&&r[s]===t&&(typeof i[s]!="object"||i[s]===null?r[s]=i[s]:r[s]=_(r[s],i[s]));return r};Wt=function(t,n){!t.isHTML5&&w===8?e.setTimeout(n,0):n()};P={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};D=function(e,n){var r,i=!0,s=n!==t,o=u.setupOptions,a=P;if(e===t){i=[];for(r in o)o.hasOwnProperty(r)&&i.push(r);for(r in a)a.hasOwnProperty(r)&&(typeof u[r]=="object"?i.push(r+": {...}"):u[r]instanceof Function?i.push(r+": function() {...}"):i.push(r));u._wD(ut("setup",i.join(", ")));return!1}for(r in e)if(e.hasOwnProperty(r))if(typeof e[r]!="object"||e[r]===null||e[r]instanceof Array||e[r]instanceof RegExp)if(s&&a[n]!==t)u[n][r]=e[r];else if(o[r]!==t){u.setupOptions[r]=e[r];u[r]=e[r]}else if(a[r]===t){dt(ut(u[r]===t?"setupUndef":"setupError",r),2);i=!1}else u[r]instanceof Function?u[r].apply(u,e[r]instanceof Array?e[r]:[e[r]]):u[r]=e[r];else{if(a[r]!==t)return D(e[r],r);dt(ut(u[r]===t?"setupUndef":"setupError",r),2);i=!1}return i};Pt=function(){function t(e){var t=Ht.call(e),n=t.length;if(s){t[1]="on"+t[1];n>3&&t.pop()}else n===3&&t.push(!1);return t}function n(e,t){var n=e.shift(),r=[o[t]];s?n[r](e[0],e[1]):n[r].apply(n,e)}function r(){n(t(arguments),"add")}function i(){n(t(arguments),"remove")}var s=e.attachEvent,o={add:s?"attachEvent":"addEventListener",remove:s?"detachEvent":"removeEventListener"};return{add:r,remove:i}}();Rt={abort:s(function(){u._wD(this._s.id+": abort")}),canplay:s(function(){var e=this._s,n;if(e._html5_canplay)return!0;e._html5_canplay=!0;u._wD(e.id+": canplay");e._onbufferchange(0);n=e._iO.position!==t&&!isNaN(e._iO.position)?e._iO.position/on:null;if(e.position&&this.currentTime!==n){u._wD(e.id+": canplay: Setting position to "+n);try{this.currentTime=n}catch(r){u._wD(e.id+": canplay: Setting position of "+n+" failed: "+r.message,2)}}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:s(function(){var e=this._s;if(!e.loaded){e._onbufferchange(0);e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration());e._onload(!0)}}),ended:s(function(){var e=this._s;u._wD(e.id+": ended");e._onfinish()}),error:s(function(){u._wD(this._s.id+": HTML5 error, code "+this.error.code);this._s._onload(!1)}),loadeddata:s(function(){var e=this._s;u._wD(e.id+": loadeddata");!e._loaded&&!Qt&&(e.duration=e._get_html5_duration())}),loadedmetadata:s(function(){u._wD(this._s.id+": loadedmetadata")}),loadstart:s(function(){u._wD(this._s.id+": loadstart");this._s._onbufferchange(1)}),play:s(function(){this._s._onbufferchange(0)}),playing:s(function(){u._wD(this._s.id+": playing");this._s._onbufferchange(0)}),progress:s(function(e){var t=this._s,n,r,i,s=0,o=e.type==="progress",a=e.target.buffered,f=e.loaded||0,l=e.total||1;t.buffered=[];if(a&&a.length){for(n=0,r=a.length;n<r;n++)t.buffered.push({start:a.start(n)*on,end:a.end(n)*on});s=(a.end(0)-a.start(0))*on;f=Math.min(1,s/(e.target.duration*on));if(o&&a.length>1){i=[];r=a.length;for(n=0;n<r;n++)i.push(e.target.buffered.start(n)*on+"-"+e.target.buffered.end(n)*on);u._wD(this._s.id+": progress, timeRanges: "+i.join(", "))}o&&!isNaN(f)&&u._wD(this._s.id+": progress, "+Math.floor(f*100)+"% loaded")}if(!isNaN(f)){t._onbufferchange(0);t._whileloading(f,l,t._get_html5_duration());f&&l&&f===l&&Rt.canplaythrough.call(this,e)}}),ratechange:s(function(){u._wD(this._s.id+": ratechange")}),suspend:s(function(e){var t=this._s;u._wD(this._s.id+": suspend");Rt.progress.call(this,e);t._onsuspend()}),stalled:s(function(){u._wD(this._s.id+": stalled")}),timeupdate:s(function(){this._s._onTimer()}),waiting:s(function(){var e=this._s;u._wD(this._s.id+": waiting");e._onbufferchange(1)})};Lt=function(e){var t;!e||!e.type&&!e.url&&!e.serverURL?t=!1:e.serverURL||e.type&&i(e.type)?t=!1:t=e.type?At({type:e.type}):At({url:e.url})||u.html5Only||e.url.match(/data\:/i);return t};Mt=function(e){var t;if(e){t=Qt?un:u.html5.canPlayType("audio/wav")?an:un;e.src=t;e._called_unload!==undefined&&(e._called_load=!1)}Bt&&(jt=null);return t};At=function(e){if(!u.useHTML5Audio||!u.hasHTML5)return!1;var n=e.url||null,r=e.type||null,s=u.audioFormats,o,a,f,l;if(r&&u.html5[r]!==t)return u.html5[r]&&!i(r);if(!Ot){Ot=[];for(l in s)if(s.hasOwnProperty(l)){Ot.push(l);s[l].related&&(Ot=Ot.concat(s[l].related))}Ot=new RegExp("\\.("+Ot.join("|")+")(\\?.*)?$","i")}f=n?n.toLowerCase().match(Ot):null;if(!f||!f.length)if(!r)o=!1;else{a=r.indexOf(";");f=(a!==-1?r.substr(0,a):r).substr(6)}else f=f[1];if(f&&u.html5[f]!==t)o=u.html5[f]&&!i(f);else{r="audio/"+f;o=u.html5.canPlayType({type:r});u.html5[f]=o;o=o&&u.html5[r]&&!i(r)}return o};Dt=function(){function e(e){var t,r,i=!1,s=!1;if(!n||typeof n.canPlayType!="function")return i;if(e instanceof Array){for(a=0,r=e.length;a<r;a++)if(u.html5[e[a]]||n.canPlayType(e[a]).match(u.html5Test)){s=!0;u.html5[e[a]]=!0;u.flash[e[a]]=!!e[a].match(sn)}i=s}else{t=n&&typeof n.canPlayType=="function"?n.canPlayType(e):!1;i=!!t&&!!t.match(u.html5Test)}return i}if(!u.useHTML5Audio||!u.hasHTML5){u.html5.usingFlash=!0;Ct=!0;return!1}var n=Audio!==t?Gt&&opera.version()<10?new Audio(null):new Audio:null,r,i,s={},o,a;o=u.audioFormats;for(r in o)if(o.hasOwnProperty(r)){i="audio/"+r;s[r]=e(o[r].type);s[i]=s[r];if(r.match(sn)){u.flash[r]=!0;u.flash[i]=!0}else{u.flash[r]=!1;u.flash[i]=!1}if(o[r]&&o[r].related)for(a=o[r].related.length-1;a>=0;a--){s["audio/"+o[r].related[a]]=s[r];u.html5[o[r].related[a]]=s[r];u.flash[o[r].related[a]]=s[r]}}s.canPlayType=n?e:null;u.html5=_(u.html5,s);u.html5.usingFlash=kt();Ct=u.html5.usingFlash;return!0};z={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:l+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:c+"Verify that %s is a valid path.",tryDebug:"Try "+l+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:c+"Non-HTTP page ("+m.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:c+"Special case: Waiting for SWF to load with window focus...",waitForever:c+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:c+"Waiting for 100% SWF load...",needFunction:c+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:c+"_debug(): Current sound objects",waitOnload:c+"Waiting for window.onload()",docLoaded:c+"Document already loaded",onload:c+"initComplete(): calling soundManager.onload()",onloadOK:l+".onload() complete",didInit:c+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:c+"Failed to remove Flash node.",shutdown:l+".disable(): Shutting down",queue:c+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+lt.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:c+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:l+".load(): current URL already assigned.",badFV:l+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:c+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:c+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:l+".setup(): allowed parameters: %s",setupError:l+'.setup(): "%s" cannot be assigned with this method.',setupUndef:l+'.setup(): Could not find option "%s"',setupLate:l+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:c+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready.",reset:l+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device."};ut=function(){var e,t,n,r,i;e=Ht.call(arguments);r=e.shift();i=z&&z[r]?z[r]:"";if(i&&e&&e.length)for(t=0,n=e.length;t<n;t++)i=i.replace("%s",e[t]);return i};ht=function(e){if(w===8&&e.loops>1&&e.stream){A("as2loop");e.stream=!1}return e};pt=function(e,t){if(e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)){u._wD((t||"")+ut("policy"));e.usePolicyFile=!0}return e};dt=function(e){en&&console.warn!==t?console.warn(e):u._wD(e)};g=function(){return!1};nt=function(e){var t;for(t in e)e.hasOwnProperty(t)&&typeof e[t]=="function"&&(e[t]=g);t=null};rt=function(e){e===t&&(e=!1);(k||e)&&u.disable(e)};it=function(e){var t=null,n;if(e)if(e.match(/\.swf(\?.*)?$/i)){t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4);if(t)return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");n=(e&&e.lastIndexOf("/")!==-1?e.substr(0,e.lastIndexOf("/")+1):"./")+u.movieURL;u.noSWFCache&&(n+="?ts="+(new Date).getTime());return n};R=function(){w=parseInt(u.flashVersion,10);if(w!==8&&w!==9){u._wD(ut("badFV",w,tt));u.flashVersion=w=tt}var e=u.debugMode||u.debugFlash?"_debug.swf":".swf";if(u.useHTML5Audio&&!u.html5Only&&u.audioFormats.mp4.required&&w<9){u._wD(ut("needfl9"));u.flashVersion=w=9}u.version=u.versionNumber+(u.html5Only?" (HTML5-only mode)":w===9?" (AS3/Flash 9)":" (AS2/Flash 8)");if(w>8){u.defaultOptions=_(u.defaultOptions,u.flash9Options);u.features.buffering=!0;u.defaultOptions=_(u.defaultOptions,u.movieStarOptions);u.filePatterns.flash9=new RegExp("\\.(mp3|"+hn.join("|")+")(\\?.*)?$","i");u.features.movieStar=!0}else u.features.movieStar=!1;u.filePattern=u.filePatterns[w!==8?"flash9":"flash8"];u.movieURL=(w===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e);u.features.peakData=u.features.waveformData=u.features.eqData=w>8};Y=function(e,t){if(!f)return!1;f._setPolling(e,t)};Z=function(){u.debugURLParam.test(v)&&(u.debugMode=!0);if(p(u.debugID))return!1;var e,t,n,r,i;if(u.debugMode&&!p(u.debugID)&&(!en||!u.useConsole||!u.consoleOnly)){e=m.createElement("div");e.id=u.debugID+"-toggle";r={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001};e.appendChild(m.createTextNode("-"));e.onclick=ct;e.title="Toggle SM2 debug console";if(d.match(/msie 6/i)){e.style.position="absolute";e.style.cursor="hand"}for(i in r)r.hasOwnProperty(i)&&(e.style[i]=r[i]);t=m.createElement("div");t.id=u.debugID;t.style.display=u.debugMode?"block":"none";if(u.debugMode&&!p(e.id)){try{n=K();n.appendChild(e)}catch(s){throw new Error(ut("domError")+" \n"+s.toString())}n.appendChild(t)}}n=null};vt=this.getSoundById;A=function(e,t){return e?u._wD(ut(e),t):""};ct=function(){var e=p(u.debugID),t=p(u.debugID+"-toggle");if(!e)return!1;if(S){t.innerHTML="+";e.style.display="none"}else{t.innerHTML="-";e.style.display="block"}S=!S};x=function(n,r,i){if(e.sm2Debugger!==t)try{sm2Debugger.handleEvent(n,r,i)}catch(s){return!1}return!0};ft=function(){var e=[];u.debugMode&&e.push(lt.sm2Debug);u.debugFlash&&e.push(lt.flashDebug);u.useHighPerformance&&e.push(lt.highPerf);return e.join(" ")};at=function(){var e=ut("fbHandler"),t=u.getMoviePercent(),n=lt,r={type:"FLASHBLOCK"};if(u.html5Only)return!1;if(!u.ok()){if(Ct){u.oMC.className=ft()+" "+n.swfDefault+" "+(t===null?n.swfTimedout:n.swfError);u._wD(e+": "+ut("fbTimeout")+(t?" ("+ut("fbLoaded")+")":""))}u.didFlashBlock=!0;B({type:"ontimeout",ignoreInit:!0,error:r});G(r)}else{u.didFlashBlock&&u._wD(e+": Unblocked");u.oMC&&(u.oMC.className=[ft(),n.swfDefault,n.swfLoaded+(u.didFlashBlock?" "+n.swfUnblocked:"")].join(" "))}};H=function(e,n,r){E[e]===t&&(E[e]=[]);E[e].push({method:n,scope:r||null,fired:!1})};B=function(e){e||(e={type:u.ok()?"onready":"ontimeout"});if(!C&&e&&!e.ignoreInit)return!1;if(e.type==="ontimeout"&&(u.ok()||k&&!e.ignoreInit))return!1;var t={success:e&&e.ignoreInit?u.ok():!k},n=e&&e.type?E[e.type]||[]:[],r=[],i,s,o=[t],a=Ct&&!u.ok();e.error&&(o[0].error=e.error);for(i=0,s=n.length;i<s;i++)n[i].fired!==!0&&r.push(n[i]);if(r.length)for(i=0,s=r.length;i<s;i++){r[i].scope?r[i].method.apply(r[i].scope,o):r[i].method.apply(this,o);a||(r[i].fired=!0)}return!0};j=function(){e.setTimeout(function(){u.useFlashBlock&&at();B();if(typeof u.onload=="function"){A("onload",1);u.onload.apply(e);A("onloadOK",1)}u.waitForWindowLoad&&Pt.add(e,"load",j)},1)};It=function(){if(Ft!==t)return Ft;var n=!1,r=navigator,i=r.plugins,s,o,u,a=e.ActiveXObject;if(i&&i.length){o="application/x-shockwave-flash";u=r.mimeTypes;u&&u[o]&&u[o].enabledPlugin&&u[o].enabledPlugin.description&&(n=!0)}else if(a!==t&&!d.match(/MSAppHost/i)){try{s=new a("ShockwaveFlash.ShockwaveFlash")}catch(f){s=null}n=!!s;s=null}Ft=n;return n};kt=function(){var e,t,n=u.audioFormats,r=Vt&&!!d.match(/os (1|2|3_0|3_1)/i);if(r){u.hasHTML5=!1;u.html5Only=!0;u.oMC&&(u.oMC.style.display="none")}else if(u.useHTML5Audio){if(!u.html5||!u.html5.canPlayType){u._wD("SoundManager: No HTML5 Audio() support detected.");u.hasHTML5=!1}Zt&&u._wD(c+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(Ft?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)}if(u.useHTML5Audio&&u.hasHTML5){Nt=!0;for(t in n)if(n.hasOwnProperty(t)&&n[t].required)if(!u.html5.canPlayType(n[t].type)){Nt=!1;e=!0}else u.preferFlash&&(u.flash[t]||u.flash[n[t].type])&&(e=!0)}if(u.ignoreFlash){e=!1;Nt=!0}u.html5Only=u.hasHTML5&&u.useHTML5Audio&&!e;return!u.html5Only};xt=function(e){var t,n,r=0,i;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(u.canPlayMIME(e[t].type)){r=t;break}}else if(u.canPlayURL(e[t])){r=t;break}e[r].url&&(e[r]=e[r].url);i=e[r]}else i=e;return i};yt=function(e){if(!e._hasTimer){e._hasTimer=!0;if(!Yt&&u.html5PollingInterval){St===null&&Et===0&&(St=setInterval(wt,u.html5PollingInterval));Et++}}};bt=function(e){if(e._hasTimer){e._hasTimer=!1;!Yt&&u.html5PollingInterval&&Et--}};wt=function(){var e;if(St!==null&&!Et){clearInterval(St);St=null;return!1}for(e=u.soundIDs.length-1;e>=0;e--)u.sounds[u.soundIDs[e]].isHTML5&&u.sounds[u.soundIDs[e]]._hasTimer&&u.sounds[u.soundIDs[e]]._onTimer()};G=function(n){n=n!==t?n:{};typeof u.onerror=="function"&&u.onerror.apply(e,[{type:n.type!==t?n.type:null}]);n.fatal!==t&&n.fatal&&u.disable()};qt=function(){if(!Zt||!It())return!1;var e=u.audioFormats,t,n;for(n in e)if(e.hasOwnProperty(n))if(n==="mp3"||n==="mp4"){u._wD(l+": Using flash fallback for "+n+" format");u.html5[n]=!1;if(e[n]&&e[n].related)for(t=e[n].related.length-1;t>=0;t--)u.html5[e[n].related[t]]=!1}};this._setSandboxType=function(e){var n=u.sandbox;n.type=e;n.description=n.types[n.types[e]!==t?e:"unknown"];if(n.type==="localWithFile"){n.noRemote=!0;n.noLocal=!1;A("secNote",2)}else if(n.type==="localWithNetwork"){n.noRemote=!1;n.noLocal=!0}else if(n.type==="localTrusted"){n.noRemote=!1;n.noLocal=!1}};this._externalInterfaceOK=function(e){if(u.swfLoaded)return!1;var t;x("swf",!0);x("flashtojs",!0);u.swfLoaded=!0;nn=!1;Zt&&qt();if(!e||e.replace(/\+dev/i,"")!==u.versionNumber.replace(/\+dev/i,"")){t=l+': Fatal: JavaScript file build "'+u.versionNumber+'" does not match Flash SWF build "'+e+'" at '+u.url+". Ensure both are up-to-date.";setTimeout(function(){throw new Error(t)},0);return!1}setTimeout(b,Jt?100:1)};Q=function(e,n){function r(){var e=[],t,n=[],r=" + ";t="SoundManager "+u.version+(!u.html5Only&&u.useHTML5Audio?u.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"");if(!u.html5Only){u.preferFlash&&e.push("preferFlash");u.useHighPerformance&&e.push("useHighPerformance");u.flashPollingInterval&&e.push("flashPollingInterval ("+u.flashPollingInterval+"ms)");u.html5PollingInterval&&e.push("html5PollingInterval ("+u.html5PollingInterval+"ms)");u.wmode&&e.push("wmode ("+u.wmode+")");u.debugFlash&&e.push("debugFlash");u.useFlashBlock&&e.push("flashBlock")}else u.html5PollingInterval&&e.push("html5PollingInterval ("+u.html5PollingInterval+"ms)");e.length&&(n=n.concat([e.join(r)]));u._wD(t+(n.length?r+n.join(", "):""),1);Ut()}function i(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(T&&N)return!1;if(u.html5Only){R();r();u.oMC=p(u.movieID);b();T=!0;N=!0;return!1}var s=n||u.url,o=u.altURL||s,a="JS/Flash audio component (SoundManager 2)",f=K(),l=ft(),c=null,h=m.getElementsByTagName("html")[0],v,g,y,w,E,S,x,C;c=h&&h.dir&&h.dir.match(/rtl/i);e=e===t?u.id:e;R();u.url=it(fn?s:o);n=u.url;u.wmode=!u.wmode&&u.useHighPerformance?"transparent":u.wmode;if(u.wmode!==null&&(d.match(/msie 8/i)||!Jt&&!u.useHighPerformance)&&navigator.platform.match(/win32|win64/i)){Tt.push(z.spcWmode);u.wmode=null}v={name:e,id:e,src:n,quality:"high",allowScriptAccess:u.allowScriptAccess,bgcolor:u.bgColor,pluginspage:ln+"www.macromedia.com/go/getflashplayer",title:a,type:"application/x-shockwave-flash",wmode:u.wmode,hasPriority:"true"};u.debugFlash&&(v.FlashVars="debug=1");u.wmode||delete v.wmode;if(Jt){g=m.createElement("div");w=['<object id="'+e+'" data="'+n+'" type="'+v.type+'" title="'+v.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+ln+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',i("movie",n),i("AllowScriptAccess",u.allowScriptAccess),i("quality",v.quality),u.wmode?i("wmode",u.wmode):"",i("bgcolor",u.bgColor),i("hasPriority","true"),u.debugFlash?i("FlashVars",v.FlashVars):"","</object>"].join("")}else{g=m.createElement("embed");for(y in v)v.hasOwnProperty(y)&&g.setAttribute(y,v[y])}Z();l=ft();f=K();if(f){u.oMC=p(u.movieID)||m.createElement("div");if(!u.oMC.id){u.oMC.id=u.movieID;u.oMC.className=lt.swfDefault+" "+l;S=null;E=null;if(!u.useFlashBlock)if(u.useHighPerformance)S={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"};else{S={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"};c&&(S.left=Math.abs(parseInt(S.left,10))+"px")}Kt&&(u.oMC.style.zIndex=1e4);if(!u.debugFlash)for(x in S)S.hasOwnProperty(x)&&(u.oMC.style[x]=S[x]);try{Jt||u.oMC.appendChild(g);f.appendChild(u.oMC);if(Jt){E=u.oMC.appendChild(m.createElement("div"));E.className=lt.swfBox;E.innerHTML=w}N=!0}catch(k){throw new Error(ut("domError")+" \n"+k.toString())}}else{C=u.oMC.className;u.oMC.className=(C?C+" ":lt.swfDefault)+(l?" "+l:"");u.oMC.appendChild(g);if(Jt){E=u.oMC.appendChild(m.createElement("div"));E.className=lt.swfBox;E.innerHTML=w}N=!0}}T=!0;r();return!0};W=function(){if(u.html5Only){Q();return!1}if(f)return!1;if(!u.url){A("noURL");return!1}f=u.getMovie(u.id);if(!f){if(!st)Q(u.id,u.url);else{Jt?u.oMC.innerHTML=ot:u.oMC.appendChild(st);st=null;T=!0}f=u.getMovie(u.id)}typeof u.oninitmovie=="function"&&setTimeout(u.oninitmovie,1);zt();return!0};F=function(){setTimeout(I,1e3)};q=function(){e.setTimeout(function(){dt(c+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false...");u.setup({preferFlash:!1}).reboot();u.didFlashBlock=!0;u.beginDelayedInit()},1)};I=function(){var t,n=!1;if(!u.url)return!1;if(mt)return!1;mt=!0;Pt.remove(e,"load",F);if(Ft&&nn&&!tn){A("waitFocus");return!1}if(!C){t=u.getMoviePercent();t>0&&t<100&&(n=!0)}setTimeout(function(){t=u.getMoviePercent();if(n){mt=!1;u._wD(ut("waitSWF"));e.setTimeout(F,1);return!1}if(!C){u._wD(l+": No Flash response within expected time. Likely causes: "+(t===0?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(u.debugFlash?" "+ut("checkSWF"):""),2);if(!fn&&t){A("localFail",2);u.debugFlash||A("tryDebug",2)}t===0&&u._wD(ut("swf404",u.url),1);x("flashtojs",!1,": Timed out"+fn?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)")}if(!C&&rn)if(t===null)if(u.useFlashBlock||u.flashLoadTimeout===0){u.useFlashBlock&&at();A("waitForever")}else if(!u.useFlashBlock&&Nt)q();else{A("waitForever");B({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})}else u.flashLoadTimeout===0?A("waitForever"):!u.useFlashBlock&&Nt?q():rt(!0)},u.flashLoadTimeout)};U=function(){function t(){Pt.remove(e,"focus",U)}if(tn||!nn){t();return!0}rn=!0;tn=!0;A("gotFocus");mt=!1;F();t();return!0};zt=function(){if(Tt.length){u._wD("SoundManager 2: "+Tt.join(" "),1);Tt=[]}};Ut=function(){zt();var e,t=[];if(u.useHTML5Audio&&u.hasHTML5){for(e in u.audioFormats)u.audioFormats.hasOwnProperty(e)&&t.push(e+" = "+u.html5[e]+(!u.html5[e]&&Ct&&u.flash[e]?" (using flash)":u.preferFlash&&u.flash[e]&&Ct?" (preferring flash)":u.html5[e]?"":" ("+(u.audioFormats[e].required?"required, ":"")+"and no flash support)"));u._wD("SoundManager 2 HTML5 support: "+t.join(", "),1)}};M=function(t){if(C)return!1;if(u.html5Only){A("sm2Loaded");C=!0;j();x("onload",!0);return!0}var n=u.useFlashBlock&&u.flashLoadTimeout&&!u.getMoviePercent(),r=!0,i;n||(C=!0);i={type:!Ft&&Ct?"NO_FLASH":"INIT_TIMEOUT"};u._wD("SoundManager 2 "+(k?"failed to load":"loaded")+" ("+(k?"Flash security/load error":"OK")+")",k?2:1);if(k||t){u.useFlashBlock&&u.oMC&&(u.oMC.className=ft()+" "+(u.getMoviePercent()===null?lt.swfTimedout:lt.swfError));B({type:"ontimeout",error:i,ignoreInit:!0});x("onload",!1);G(i);r=!1}else x("onload",!0);if(!k)if(u.waitForWindowLoad&&!L){A("waitOnload");Pt.add(e,"load",j)}else{u.waitForWindowLoad&&L&&A("docLoaded");j()}return r};y=function(){var e,n=u.setupOptions;for(e in n)n.hasOwnProperty(e)&&(u[e]===t?u[e]=n[e]:u[e]!==n[e]&&(u.setupOptions[e]=u[e]))};b=function(){function t(){Pt.remove(e,"load",u.beginDelayedInit)}if(C){A("didInit");return!1}if(u.html5Only){if(!C){t();u.enabled=!0;M()}return!0}W();try{f._externalInterfaceTest(!1);Y(!0,u.flashPollingInterval||(u.useHighPerformance?10:50));u.debugMode||f._disableDebug();u.enabled=!0;x("jstoflash",!0);u.html5Only||Pt.add(e,"unload",g)}catch(n){u._wD("js/flash exception: "+n.toString());x("jstoflash",!1);G({type:"JS_TO_FLASH_EXCEPTION",fatal:!0});rt(!0);M();return!1}M();t();return!0};V=function(){if(J)return!1;J=!0;y();Z();(function(){var e="sm2-usehtml5audio=",t="sm2-preferflash=",n=null,r=null,i=v.toLowerCase();if(i.indexOf(e)!==-1){n=i.charAt(i.indexOf(e)+e.length)==="1";en&&console.log((n?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter");u.setup({useHTML5Audio:n})}if(i.indexOf(t)!==-1){r=i.charAt(i.indexOf(t)+t.length)==="1";en&&console.log((r?"Enabling ":"Disabling ")+"preferFlash via URL parameter");u.setup({preferFlash:r})}})();if(!Ft&&u.hasHTML5){u._wD("SoundManager 2: No Flash detected"+(u.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1);u.setup({useHTML5Audio:!0,preferFlash:!1})}Dt();if(!Ft&&Ct){Tt.push(z.needFlash);u.setup({flashLoadTimeout:1})}m.removeEventListener&&m.removeEventListener("DOMContentLoaded",V,!1);W();return!0};_t=function(){if(m.readyState==="complete"){V();m.detachEvent("onreadystatechange",_t)}return!0};$=function(){L=!0;Pt.remove(e,"load",$)};X=function(){if(Yt){(!u.setupOptions.useHTML5Audio||u.setupOptions.preferFlash)&&Tt.push(z.mobileUA);u.setupOptions.useHTML5Audio=!0;u.setupOptions.preferFlash=!1;if(Vt||$t&&!d.match(/android\s2\.3/i)){Tt.push(z.globalHTML5);Vt&&(u.ignoreFlash=!0);Bt=!0}}};X();It();Pt.add(e,"focus",U);Pt.add(e,"load",F);Pt.add(e,"load",$);if(m.addEventListener)m.addEventListener("DOMContentLoaded",V,!1);else if(m.attachEvent)m.attachEvent("onreadystatechange",_t);else{x("onload",!1);G({type:"NO_DOM2_EVENTS",fatal:!0})}}var r=null;if(e.SM2_DEFER===undefined||!SM2_DEFER)r=new n;e.SoundManager=n;e.soundManager=r})(window);__slice=[].slice;typeof soundManager!="undefined"&&soundManager.setup({url:"swf/",flashVersion:9,useFlashBlock:!1,useHighPerformance:!0,wmode:"transparent",useFastPolling:!0,debugFlash:!1,debugMode:!1});var SoundCloudPlayer=function(e,t){var n={loop:!1,start_on:0,autoplay:!1,autoswitch:!0,volume:100,toggle_pause:!0,cache:!0,preload:!1,debug:!1},r="http://api.soundcloud.com/resolve?url=http://soundcloud.com",i=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi),s=this,o=jQuery(this);this.tracks=[];this.config=jQuery.extend(n,t);this.current_track_index=this.config.start_on;this.current_track=null;this.sound=null;this.inited=!1;this.play_when_ready=!1;this.cache={};this.init=function(){if(s.inited)return;s.change_track();s.trigger("scplayer.init");s.config.autoplay&&s.play();s.inited=!0};this.change_track=function(e){s.log("change_track");if(s.sound){s.sound.destruct();s.sound=null}var t=typeof e!="undefined"?e:s.current_track_index;if(e!=s.current_track_index||!e){var n=s.tracks[t];s.resolve_track(n,s.set_sound);s.trigger("scplayer.changing_track",t)}return s};this.play=function(){s.log("play");s.sound&&s.sound.readyState==3?s.sound.play():s.play_when_ready=!0;s.trigger("scplayer.play",s.current_track_index);return s};this.pause=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.pause();s.trigger("scplayer.pause",s.sound.paused)}return s};this.resume=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.resume();s.trigger("scplayer.pause",s.sound.paused)}return s};this.stop=function(){s.sound&&s.sound.stop();s.trigger("scplayer.stop");s.log("stop");return s};this.next=function(e){s.log("next");s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;s.log(s.play_when_ready);if(s.tracks[s.current_track_index+1]){s.current_track_index++;s.change_track();s.trigger("scplayer.playlist.next",s.current_track_index-1,s.current_track_index);s.log("has next")}else if(s.config.loop){s.current_track_index=0;s.change_track();s.trigger("scplayer.playlist.looped");s.log("looped")}else{s.current_track_index=s.tracks.length-1;s.trigger("scplayer.playlist.ended");s.log("no mas")}return s};this.prev=function(e){s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;if(s.tracks[s.current_track_index-1]){s.current_track_index--;s.change_track();s.trigger("scplayer.playlist.prev")}else if(s.config.loop){s.current_track_index=s.tracks.length-1;s.change_track();s.trigger("scplayer.playlist.looped")}else{s.current_track_index=0;s.trigger("scplayer.playlist.restarted")}return s};this.goto=function(e,t){s.log("goto");s.play_when_ready=typeof t!="undefined"?t:s.config.autoswitch;if(s.tracks[e]){s.current_track_index=e;s.trigger("scplayer.playlist.goto");s.change_track()}return s};this.restart_track=function(){s.position(0);return s};this.mute=function(){s.sound&&s.sound.toggleMute();s.trigger("scplayer.mute",s.sound.muted);return s};this.has_next=function(){s.log("has next");return s.tracks[s.current_track_index+1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.has_prev=function(){return s.tracks[s.current_track_index-1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.get_time=function(){var e=this.position(),t=e%1e3,n=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),i=Math.floor(e/36e5%24),o=r+":"+s.pad(n);i>0&&(o=i+":"+o);return o};this.position=function(e){if(s.sound){if(e||e===0){e=Math.min(s.sound.duration,e);e=Math.max(0,e);s.trigger("scplayer.position",e);return s.sound.setPosition(e)}s.trigger("scplayer.position",s.sound.position);return s.sound.position}return 0};this.volume=function(e){if(s.sound){if(e||e===0){e=Math.min(100,e);e=Math.max(0,e);s.trigger("scplayer.volume",e);s.config.volume=e;return s.sound.setVolume(e)}s.trigger("scplayer.volume",s.sound.volume);return s.sound.volume}return s.config.volume};this.seek=function(e){var t=s.current_track.duration*e;s.position(t);return s};this.loop=function(e){if(e){s.config.loop=e;s.trigger("scplayer.loop_changed",s.config.loop)}return s.config.loop};this.track_info=function(e){s.isNumeric(e)&&(e=s.tracks[e]);return s.resolve_track(e)};this.on=function(e,t){return o.on(e,t)};this.trigger=function(e){var t=arguments.length>1?__slice.call(arguments,1):[];return o.trigger(e,t)};this.destroy=function(){s.sound&&s.sound.destruct();s.tracks=[];o.off();o.remove();s.tracks=null;s.track=null;s=null;delete s.tracks;delete s.track;delete s;delete this};s.get_track=function(){return s.current_track};s.get_track_index=function(){return s.current_track_index};s.get_sound=function(){return s.sound};s.get_playlist=function(){return s.tracks};s.set_cache=function(e,t){s.config.cache===!0&&(s.cache[e]=t)};s.get_cache=function(e){return s.config.cache===!0?s.cache[e]||null:null};s.set_sound=function(e){s.log("set_sound");s.trigger("scplayer.track.info_loaded",e);s.current_track=e;var t=e.stream_url;t+=t.indexOf("secret_token")==-1?"?":"&";t+="consumer_key="+s.config.consumer_key;s.sound=soundManager.createSound({autoLoad:!0,id:"track_"+e.id,multiShot:!1,loops:1,url:t,volume:s.config.volume,whileloading:function(){var e=Math.round(this.bytesLoaded/this.bytesTotal*100);s.trigger("scplayer.track.whileloading",e)},whileplaying:function(){var t=Math.round(this.position/e.duration*100*10)/10;s.trigger("scplayer.track.whileplaying",t)},onplay:function(){s.log("track.onplay");s.trigger("scplayer.track.played")},onresume:function(){s.trigger("scplayer.track.resumed")},onstop:function(){s.trigger("scplayer.track.stopped")},onpause:function(){s.trigger("scplayer.track.paused")},onfinish:function(){s.trigger("scplayer.track.finished")},onload:function(){s.log("onload");s.trigger("scplayer.track.ready",s.current_track_index,s.current_track)}});s.trigger("scplayer.track.bindable",e,s.sound)};s.resolve_track=function(e,t){var n=new jQuery.Deferred;if(e.match(i)&&e.search(/soundcloud\.com/i)===-1){var o={stream_url:e,id:0,permalink_url:e,duration:0};n.resolve(o)}e=e.replace(/https?\:\/\/soundcloud\.com/gi,"");if(s.config.cache===!0){var u=s.get_cache(e);if(u&&t){n.done(function(){t(u)}).resolve();return n}}n.done(function(n){if(n.tracks&&n.tracks.length>0){var r=s.parse_tracks(e,n.tracks);n=r[0]}else s.config.cache===!0&&s.set_cache(e,n);t&&t(n)});jQuery.ajax({url:r+e+"&format=json"+"&consumer_key="+s.config.consumer_key+"&callback=?",dataType:"jsonp",error:function(e,t,r){n.reject(e,t,r)},success:function(e){n.resolve(e)}});return n};s.preload_sc_tracks=function(e){var t=[];for(var n=0,r=s.tracks.length;n<r;n++){var i=s.tracks[n],o=s.resolve_track(i);t.push(o)}jQuery.when.apply(jQuery,t).then(function(){s.trigger("scplayer.playlist.preloaded");e&&e()},function(){s.log("promises failed to preload tracks")})};s.parse_tracks=function(e,t){var n=[],r=[],i=s.tracks.indexOf(e);for(var o=0,u=t.length;o<u;o++){var a=t[o],f=a.permalink_url.substring(21);s.config.cache===!0&&s.set_cache(f,a);n.push(a);r.push(f)}var l=[i,1].concat(r);s.tracks.splice.apply(s.tracks,l);return n};s.add_tracks=function(e){typeof e=="string"&&(e=[e]);if(e!=null&&e.length>0){s.tracks=s.tracks.concat(e);s.config.preload==1?s.preload_sc_tracks.call(s,s.init):s.init.call(s)}};s.log=function(){s.config.debug&&window.console&&console.log.apply(console,arguments)};s.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};s.pad=function(e){return(e<10?"0":"")+e};s.on("scplayer.track.ready",function(e){s.log("track.onready!!!");if(s.play_when_ready==1){s.play();s.play_when_ready=!1}});s.on("scplayer.track.finished",function(e){s.log("track finished");if(s.config.autoswitch&&(s.config.loop||s.has_next())){s.log("finished and autoswitch"
);s.next().play()}});s.on("scplayer.playlist.ended",function(e){s.log("playlist ended");s.config.loop||s.stop()});soundManager.onready(function(){s.log("SOUNDMANAGER2 ready!!");s.add_tracks(e)});soundManager.ontimeout(function(){window.console&&console.log("SOUNDMANAGER2 TIMEDOUT!!")});return{play:this.play,pause:this.pause,resume:this.resume,stop:this.stop,next:this.next,prev:this.prev,mute:this.mute,get_time:this.get_time,volume:this.volume,restart_track:this.restart_track,"goto":this.goto,position:this.position,seek:this.seek,track_info:this.track_info,has_next:this.has_next,has_prev:this.has_prev,on:this.on,trigger:this.trigger,track:this.get_track,track_index:this.get_track_index,sound:this.get_sound,playlist:this.get_playlist,destroy:this.destroy,add_tracks:this.add_tracks}};(function(e,t){"use strict";function n(n,r){function i(e){return u.preferFlash&&Ft&&!u.ignoreFlash&&u.flash[e]!==t&&u.flash[e]}function s(e){return function(t){var n=this._s,r;if(!n||!n._a){n&&n.id?u._wD(n.id+": Ignoring "+t.type):u._wD(h+"Ignoring "+t.type);r=null}else r=e.call(this,t);return r}}this.setupOptions={url:n||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=r||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20131201";this.version=null;this.movieURL=null;this.altURL=null;this.swfLoaded=!1;this.enabled=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.muted=!1;this.didFlashBlock=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null};this.html5={usingFlash:null};this.flash={};this.html5Only=!1;this.ignoreFlash=!1;var o,u=this,a=null,f=null,l="soundManager",c=l+": ",h="HTML5::",p,d=navigator.userAgent,v=e.location.href.toString(),m=document,g,y,b,w,E=[],S=!0,x,T=!1,N=!1,C=!1,k=!1,L=!1,A,O=0,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et=["log","info","warn","error"],tt=8,nt,rt,it,st=null,ot=null,ut,at,ft,lt,ct,ht,pt,dt,vt,mt=!1,gt=!1,yt,bt,wt,Et=0,St=null,xt,Tt=[],Nt,Ct=null,kt,Lt,At,Ot,Mt,_t,Dt,Pt,Ht=Array.prototype.slice,Bt=!1,jt,Ft,It,qt,Rt,Ut,zt,Wt,Xt=0,Vt=d.match(/(ipad|iphone|ipod)/i),$t=d.match(/android/i),Jt=d.match(/msie/i),Kt=d.match(/webkit/i),Qt=d.match(/safari/i)&&!d.match(/chrome/i),Gt=d.match(/opera/i),Yt=d.match(/(mobile|pre\/|xoom)/i)||Vt||$t,Zt=!v.match(/usehtml5audio/i)&&!v.match(/sm2\-ignorebadua/i)&&Qt&&!d.match(/silk/i)&&d.match(/OS X 10_6_([3-7])/i),en=e.console!==t&&console.log!==t,tn=m.hasFocus!==t?m.hasFocus():null,nn=Qt&&(m.hasFocus===t||!m.hasFocus()),rn=!nn,sn=/(mp3|mp4|mpa|m4a|m4b)/i,on=1e3,un="about:blank",an="data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==",fn=m.location?m.location.protocol.match(/http/i):null,ln=fn?"":"http://",cn=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,hn=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],pn=new RegExp("\\.("+hn.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!fn;lt={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"};this.hasHTML5=function(){try{return Audio!==t&&(Gt&&opera!==t&&opera.version()<10?new Audio(null):new Audio).canPlayType!==t}catch(e){return!1}}();this.setup=function(e){var n=!u.url;e!==t&&C&&Ct&&u.ok()&&(e.flashVersion!==t||e.url!==t||e.html5Test!==t)&&dt(ut("setupLate"));D(e);if(e){n&&J&&e.url!==t&&u.beginDelayedInit();!J&&e.url!==t&&m.readyState==="complete"&&setTimeout(V,1)}return u};this.ok=function(){return Ct?C&&!k:u.useHTML5Audio&&u.hasHTML5};this.supported=this.ok;this.getMovie=function(t){return p(t)||m[t]||e[t]};this.createSound=function(e,n){function r(){a=ht(a);u.sounds[a.id]=new o(a);u.soundIDs.push(a.id);return u.sounds[a.id]}var i,s,a,c=null;i=l+".createSound(): ";s=i+ut(C?"notOK":"notReady");if(!C||!u.ok()){dt(s);return!1}n!==t&&(e={id:e,url:n});a=_(e);a.url=xt(a.url);a.id===undefined&&(a.id=u.setupOptions.idPrefix+Xt++);a.id.toString().charAt(0).match(/^[0-9]$/)&&u._wD(i+ut("badID",a.id),2);u._wD(i+a.id+(a.url?" ("+a.url+")":""),1);if(vt(a.id,!0)){u._wD(i+a.id+" exists",1);return u.sounds[a.id]}if(Lt(a)){c=r();u._wD(a.id+": Using HTML5");c._setup_html5(a)}else{if(u.html5Only){u._wD(a.id+": No HTML5 support for this sound, and no Flash. Exiting.");return r()}if(u.html5.usingFlash&&a.url&&a.url.match(/data\:/i)){u._wD(a.id+": data: URIs not supported via Flash. Exiting.");return r()}if(w>8){a.isMovieStar===null&&(a.isMovieStar=!!(a.serverURL||(a.type?a.type.match(cn):!1)||a.url&&a.url.match(pn)));if(a.isMovieStar){u._wD(i+"using MovieStar handling");a.loops>1&&A("noNSLoop")}}a=pt(a,i);c=r();if(w===8)f._createSound(a.id,a.loops||1,a.usePolicyFile);else{f._createSound(a.id,a.url,a.usePeakData,a.useWaveformData,a.useEQData,a.isMovieStar,a.isMovieStar?a.bufferTime:!1,a.loops||1,a.serverURL,a.duration||null,a.autoPlay,!0,a.autoLoad,a.usePolicyFile);if(!a.serverURL){c.connected=!0;a.onconnect&&a.onconnect.apply(c)}}!a.serverURL&&(a.autoLoad||a.autoPlay)&&c.load(a)}!a.serverURL&&a.autoPlay&&c.play();return c};this.destroySound=function(e,t){if(!vt(e))return!1;var n=u.sounds[e],r;n._iO={};n.stop();n.unload();for(r=0;r<u.soundIDs.length;r++)if(u.soundIDs[r]===e){u.soundIDs.splice(r,1);break}t||n.destruct(!0);n=null;delete u.sounds[e];return!0};this.load=function(e,t){return vt(e)?u.sounds[e].load(t):!1};this.unload=function(e){return vt(e)?u.sounds[e].unload():!1};this.onPosition=function(e,t,n,r){return vt(e)?u.sounds[e].onposition(t,n,r):!1};this.onposition=this.onPosition;this.clearOnPosition=function(e,t,n){return vt(e)?u.sounds[e].clearOnPosition(t,n):!1};this.play=function(e,t){var n=null,r=t&&!(t instanceof Object);if(!C||!u.ok()){dt(l+".play(): "+ut(C?"notOK":"notReady"));return!1}if(!vt(e,r)){if(!r)return!1;r&&(t={url:t});if(t&&t.url){u._wD(l+'.play(): Attempting to create "'+e+'"',1);t.id=e;n=u.createSound(t).play()}}else r&&(t={url:t});n===null&&(n=u.sounds[e].play(t));return n};this.start=this.play;this.setPosition=function(e,t){return vt(e)?u.sounds[e].setPosition(t):!1};this.stop=function(e){if(!vt(e))return!1;u._wD(l+".stop("+e+")",1);return u.sounds[e].stop()};this.stopAll=function(){var e;u._wD(l+".stopAll()",1);for(e in u.sounds)u.sounds.hasOwnProperty(e)&&u.sounds[e].stop()};this.pause=function(e){return vt(e)?u.sounds[e].pause():!1};this.pauseAll=function(){var e;for(e=u.soundIDs.length-1;e>=0;e--)u.sounds[u.soundIDs[e]].pause()};this.resume=function(e){return vt(e)?u.sounds[e].resume():!1};this.resumeAll=function(){var e;for(e=u.soundIDs.length-1;e>=0;e--)u.sounds[u.soundIDs[e]].resume()};this.togglePause=function(e){return vt(e)?u.sounds[e].togglePause():!1};this.setPan=function(e,t){return vt(e)?u.sounds[e].setPan(t):!1};this.setVolume=function(e,t){return vt(e)?u.sounds[e].setVolume(t):!1};this.mute=function(e){var t=0;e instanceof String&&(e=null);if(!!e){if(!vt(e))return!1;u._wD(l+'.mute(): Muting "'+e+'"');return u.sounds[e].mute()}u._wD(l+".mute(): Muting all sounds");for(t=u.soundIDs.length-1;t>=0;t--)u.sounds[u.soundIDs[t]].mute();u.muted=!0;return!0};this.muteAll=function(){u.mute()};this.unmute=function(e){var t;e instanceof String&&(e=null);if(!!e){if(!vt(e))return!1;u._wD(l+'.unmute(): Unmuting "'+e+'"');return u.sounds[e].unmute()}u._wD(l+".unmute(): Unmuting all sounds");for(t=u.soundIDs.length-1;t>=0;t--)u.sounds[u.soundIDs[t]].unmute();u.muted=!1;return!0};this.unmuteAll=function(){u.unmute()};this.toggleMute=function(e){return vt(e)?u.sounds[e].toggleMute():!1};this.getMemoryUse=function(){var e=0;f&&w!==8&&(e=parseInt(f._getMemoryUse(),10));return e};this.disable=function(n){var r;n===t&&(n=!1);if(k)return!1;k=!0;A("shutdown",1);for(r=u.soundIDs.length-1;r>=0;r--)nt(u.sounds[u.soundIDs[r]]);M(n);Pt.remove(e,"load",j);return!0};this.canPlayMIME=function(e){var t;u.hasHTML5&&(t=At({type:e}));!t&&Ct&&(t=e&&u.ok()?!!((w>8?e.match(cn):null)||e.match(u.mimePattern)):null);return t};this.canPlayURL=function(e){var t;u.hasHTML5&&(t=At({url:e}));!t&&Ct&&(t=e&&u.ok()?!!e.match(u.filePattern):null);return t};this.canPlayLink=function(e){return e.type!==t&&e.type&&u.canPlayMIME(e.type)?!0:u.canPlayURL(e.href)};this.getSoundById=function(e,t){if(!e)return null;var n=u.sounds[e];!n&&!t&&u._wD(l+'.getSoundById(): Sound "'+e+'" not found.',2);return n};this.onready=function(t,n){var r="onready",i=!1;if(typeof t!="function")throw ut("needFunction",r);C&&u._wD(ut("queue",r));n||(n=e);H(r,t,n);B();i=!0;return i};this.ontimeout=function(t,n){var r="ontimeout",i=!1;if(typeof t!="function")throw ut("needFunction",r);C&&u._wD(ut("queue",r));n||(n=e);H(r,t,n);B({type:r});i=!0;return i};this._writeDebug=function(e,n){var r="soundmanager-debug",i,s;if(!u.debugMode)return!1;if(en&&u.useConsole){n&&typeof n=="object"?console.log(e,n):et[n]!==t?console[et[n]](e):console.log(e);if(u.consoleOnly)return!0}i=p(r);if(!i)return!1;s=m.createElement("div");++O%2===0&&(s.className="sm2-alt");n===t?n=0:n=parseInt(n,10);s.appendChild(m.createTextNode(e));if(n){n>=2&&(s.style.fontWeight="bold");n===3&&(s.style.color="#ff3333")}i.insertBefore(s,i.firstChild);i=null;return!0};v.indexOf("sm2-debug=alert")!==-1&&(this._writeDebug=function(t){e.alert(t)});this._wD=this._writeDebug;this._debug=function(){var e,t;A("currentObj",1);for(e=0,t=u.soundIDs.length;e<t;e++)u.sounds[u.soundIDs[e]]._debug()};this.reboot=function(t,n){u.soundIDs.length&&u._wD("Destroying "+u.soundIDs.length+" SMSound object"+(u.soundIDs.length!==1?"s":"")+"...");var r,i,s;for(r=u.soundIDs.length-1;r>=0;r--)u.sounds[u.soundIDs[r]].destruct();if(f)try{Jt&&(ot=f.innerHTML);st=f.parentNode.removeChild(f)}catch(o){A("badRemove",2)}ot=st=Ct=f=null;u.enabled=J=C=mt=gt=T=N=k=Bt=u.swfLoaded=!1;u.soundIDs=[];u.sounds={};Xt=0;if(!t){for(r in E)if(E.hasOwnProperty(r))for(i=0,s=E[r].length;i<s;i++)E[r][i].fired=!1}else E=[];n||u._wD(l+": Rebooting...");u.html5={usingFlash:null};u.flash={};u.html5Only=!1;u.ignoreFlash=!1;e.setTimeout(function(){X();n||u.beginDelayedInit()},20);return u};this.reset=function(){A("reset");return u.reboot(!0,!0)};this.getMoviePercent=function(){return f&&"PercentLoaded"in f?f.PercentLoaded():null};this.beginDelayedInit=function(){L=!0;V();setTimeout(function(){if(gt)return!1;Q();W();gt=!0;return!0},20);F()};this.destruct=function(){u._wD(l+".destruct()");u.disable(!0)};o=function(e){var n=this,r,i,s,o,l,c,h=!1,p=[],d=0,v,m,g=null,y,b;y={duration:null,time:null};this.id=e.id;this.sID=this.id;this.url=e.url;this.options=_(e);this.instanceOptions=this.options;this._iO=this.instanceOptions;this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;b=this.url?!1:!0;this.id3={};this._debug=function(){u._wD(n.id+": Merged options:",n.options)};this.load=function(e){var r=null,i;if(e!==t)n._iO=_(e,n.options);else{e=n.options;n._iO=e;if(g&&g!==n.url){A("manURL");n._iO.url=n.url;n.url=null}}n._iO.url||(n._iO.url=n.url);n._iO.url=xt(n._iO.url);n.instanceOptions=n._iO;i=n._iO;u._wD(n.id+": load ("+i.url+")");if(!i.url&&!n.url){u._wD(n.id+": load(): url is unassigned. Exiting.",2);return n}!n.isHTML5&&w===8&&!n.url&&!i.autoPlay&&u._wD(n.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1);if(i.url===n.url&&n.readyState!==0&&n.readyState!==2){A("onURL",1);n.readyState===3&&i.onload&&Wt(n,function(){i.onload.apply(n,[!!n.duration])});return n}n.loaded=!1;n.readyState=1;n.playState=0;n.id3={};if(Lt(i)){r=n._setup_html5(i);if(!r._called_load){n._html5_canplay=!1;if(n.url!==i.url){u._wD(A("manURL")+": "+i.url);n._a.src=i.url;n.setPosition(0)}n._a.autobuffer="auto";n._a.preload="auto";n._a._called_load=!0}else u._wD(n.id+": Ignoring request to load again")}else{if(u.html5Only){u._wD(n.id+": No flash support. Exiting.");return n}if(n._iO.url&&n._iO.url.match(/data\:/i)){u._wD(n.id+": data: URIs not supported via Flash. Exiting.");return n}try{n.isHTML5=!1;n._iO=pt(ht(i));i=n._iO;w===8?f._load(n.id,i.url,i.stream,i.autoPlay,i.usePolicyFile):f._load(n.id,i.url,!!i.stream,!!i.autoPlay,i.loops||1,!!i.autoLoad,i.usePolicyFile)}catch(s){A("smError",2);x("onload",!1);G({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}n.url=i.url;return n};this.unload=function(){if(n.readyState!==0){u._wD(n.id+": unload()");if(!n.isHTML5)w===8?f._unload(n.id,un):f._unload(n.id);else{o();if(n._a){n._a.pause();g=Mt(n._a)}}r()}return n};this.destruct=function(e){u._wD(n.id+": Destruct");if(!n.isHTML5){n._iO.onfailure=null;f._destroySound(n.id)}else{o();if(n._a){n._a.pause();Mt(n._a);Bt||s();n._a._s=null;n._a=null}}e||u.destroySound(n.id,!0)};this.play=function(e,r){var i,s,o,a,p,d,v,g=!0,y=null;i=n.id+": play(): ";r=r===t?!0:r;e||(e={});n.url&&(n._iO.url=n.url);n._iO=_(n._iO,n.options);n._iO=_(e,n._iO);n._iO.url=xt(n._iO.url);n.instanceOptions=n._iO;if(!n.isHTML5&&n._iO.serverURL&&!n.connected){if(!n.getAutoPlay()){u._wD(i+" Netstream not connected yet - setting autoPlay");n.setAutoPlay(!0)}return n}if(Lt(n._iO)){n._setup_html5(n._iO);l()}if(n.playState===1&&!n.paused){s=n._iO.multiShot;if(!s){u._wD(i+"Already playing (one-shot)",1);n.isHTML5&&n.setPosition(n._iO.position);y=n}else u._wD(i+"Already playing (multi-shot)",1)}if(y!==null)return y;e.url&&e.url!==n.url&&(!n.readyState&&!n.isHTML5&&w===8&&b?b=!1:n.load(n._iO));if(!n.loaded)if(n.readyState===0){u._wD(i+"Attempting to load");if(!n.isHTML5&&!u.html5Only){n._iO.autoPlay=!0;n.load(n._iO)}else if(n.isHTML5)n.load(n._iO);else{u._wD(i+"Unsupported type. Exiting.");y=n}n.instanceOptions=n._iO}else if(n.readyState===2){u._wD(i+"Could not load - exiting",2);y=n}else u._wD(i+"Loading - attempting to play...");else u._wD(i.substr(0,i.lastIndexOf(":")));if(y!==null)return y;if(!n.isHTML5&&w===9&&n.position>0&&n.position===n.duration){u._wD(i+"Sound at end, resetting to position:0");e.position=0}if(n.paused&&n.position>=0&&(!n._iO.serverURL||n.position>0)){u._wD(i+"Resuming from paused state",1);n.resume()}else{n._iO=_(e,n._iO);if(n._iO.from!==null&&n._iO.to!==null&&n.instanceCount===0&&n.playState===0&&!n._iO.serverURL){a=function(){n._iO=_(e,n._iO);n.play(n._iO)};if(n.isHTML5&&!n._html5_canplay){u._wD(i+"Beginning load for from/to case");n.load({_oncanplay:a});y=!1}else if(!n.isHTML5&&!n.loaded&&(!n.readyState||n.readyState!==2)){u._wD(i+"Preloading for from/to case");n.load({onload:a});y=!1}if(y!==null)return y;n._iO=m()}(!n.instanceCount||n._iO.multiShotEvents||n.isHTML5&&n._iO.multiShot&&!Bt||!n.isHTML5&&w>8&&!n.getAutoPlay())&&n.instanceCount++;n._iO.onposition&&n.playState===0&&c(n);n.playState=1;n.paused=!1;n.position=n._iO.position!==t&&!isNaN(n._iO.position)?n._iO.position:0;n.isHTML5||(n._iO=pt(ht(n._iO)));if(n._iO.onplay&&r){n._iO.onplay.apply(n);h=!0}n.setVolume(n._iO.volume,!0);n.setPan(n._iO.pan,!0);if(!n.isHTML5){g=f._start(n.id,n._iO.loops||1,w===9?n.position:n.position/on,n._iO.multiShot||!1);if(w===9&&!g){u._wD(i+"No sound hardware, or 32-sound ceiling hit",2);n._iO.onplayerror&&n._iO.onplayerror.apply(n)}}else if(n.instanceCount<2){l();o=n._setup_html5();n.setPosition(n._iO.position);o.play()}else{u._wD(n.id+": Cloning Audio() for instance #"+n.instanceCount+"...");p=new Audio(n._iO.url);d=function(){Pt.remove(p,"ended",d);n._onfinish(n);Mt(p);p=null};v=function(){Pt.remove(p,"canplay",v);try{p.currentTime=n._iO.position/on}catch(e){dt(n.id+": multiShot play() failed to apply position of "+n._iO.position/on)}p.play()};Pt.add(p,"ended",d);n._iO.volume!==undefined&&(p.volume=Math.max(0,Math.min(1,n._iO.volume/100)));n.muted&&(p.muted=!0);n._iO.position?Pt.add(p,"canplay",v):p.play()}}return n};this.start=this.play;this.stop=function(e){var t=n._iO,r;if(n.playState===1){u._wD(n.id+": stop()");n._onbufferchange(0);n._resetOnPosition(0);n.paused=!1;n.isHTML5||(n.playState=0);v();t.to&&n.clearOnPosition(t.to);if(!n.isHTML5){f._stop(n.id,e);t.serverURL&&n.unload()}else if(n._a){r=n.position;n.setPosition(0);n.position=r;n._a.pause();n.playState=0;n._onTimer();o()}n.instanceCount=0;n._iO={};t.onstop&&t.onstop.apply(n)}return n};this.setAutoPlay=function(e){u._wD(n.id+": Autoplay turned "+(e?"on":"off"));n._iO.autoPlay=e;if(!n.isHTML5){f._setAutoPlay(n.id,e);if(e&&!n.instanceCount&&n.readyState===1){n.instanceCount++;u._wD(n.id+": Incremented instance count to "+n.instanceCount)}}};this.getAutoPlay=function(){return n._iO.autoPlay};this.setPosition=function(e){e===t&&(e=0);var r,i,s=n.isHTML5?Math.max(e,0):Math.min(n.duration||n._iO.duration,Math.max(e,0));n.position=s;i=n.position/on;n._resetOnPosition(n.position);n._iO.position=s;if(!n.isHTML5){r=w===9?n.position:i;n.readyState&&n.readyState!==2&&f._setPosition(n.id,r,n.paused||!n.playState,n._iO.multiShot)}else if(n._a){if(n._html5_canplay){if(n._a.currentTime!==i){u._wD(n.id+": setPosition("+i+")");try{n._a.currentTime=i;(n.playState===0||n.paused)&&n._a.pause()}catch(o){u._wD(n.id+": setPosition("+i+") failed: "+o.message,2)}}}else if(i){u._wD(n.id+": setPosition("+i+"): Cannot seek yet, sound not ready",2);return n}n.paused&&n._onTimer(!0)}return n};this.pause=function(e){if(n.paused||n.playState===0&&n.readyState!==1)return n;u._wD(n.id+": pause()");n.paused=!0;if(!n.isHTML5)(e||e===t)&&f._pause(n.id,n._iO.multiShot);else{n._setup_html5().pause();o()}n._iO.onpause&&n._iO.onpause.apply(n);return n};this.resume=function(){var e=n._iO;if(!n.paused)return n;u._wD(n.id+": resume()");n.paused=!1;n.playState=1;if(!n.isHTML5){e.isMovieStar&&!e.serverURL&&n.setPosition(n.position);f._pause(n.id,e.multiShot)}else{n._setup_html5().play();l()}if(!h&&e.onplay){e.onplay.apply(n);h=!0}else e.onresume&&e.onresume.apply(n);return n};this.togglePause=function(){u._wD(n.id+": togglePause()");if(n.playState===0){n.play({position:w===9&&!n.isHTML5?n.position:n.position/on});return n}n.paused?n.resume():n.pause();return n};this.setPan=function(e,r){e===t&&(e=0);r===t&&(r=!1);n.isHTML5||f._setPan(n.id,e);n._iO.pan=e;if(!r){n.pan=e;n.options.pan=e}return n};this.setVolume=function(e,r){e===t&&(e=100);r===t&&(r=!1);if(!n.isHTML5)f._setVolume(n.id,u.muted&&!n.muted||n.muted?0:e);else if(n._a){if(u.muted&&!n.muted){n.muted=!0;n._a.muted=!0}n._a.volume=Math.max(0,Math.min(1,e/100))}n._iO.volume=e;if(!r){n.volume=e;n.options.volume=e}return n};this.mute=function(){n.muted=!0;n.isHTML5?n._a&&(n._a.muted=!0):f._setVolume(n.id,0);return n};this.unmute=function(){n.muted=!1;var e=n._iO.volume!==t;n.isHTML5?n._a&&(n._a.muted=!1):f._setVolume(n.id,e?n._iO.volume:n.options.volume);return n};this.toggleMute=function(){return n.muted?n.unmute():n.mute()};this.onPosition=function(e,r,i){p.push({position:parseInt(e,10),method:r,scope:i!==t?i:n,fired:!1});return n};this.onposition=this.onPosition;this.clearOnPosition=function(e,t){var n;e=parseInt(e,10);if(isNaN(e))return!1;for(n=0;n<p.length;n++)if(e===p[n].position)if(!t||t===p[n].method){p[n].fired&&d--;p.splice(n,1)}};this._processOnPosition=function(){var e,t,r=p.length;if(!r||!n.playState||d>=r)return!1;for(e=r-1;e>=0;e--){t=p[e];if(!t.fired&&n.position>=t.position){t.fired=!0;d++;t.method.apply(t.scope,[t.position]);r=p.length}}return!0};this._resetOnPosition=function(e){var t,n,r=p.length;if(!r)return!1;for(t=r-1;t>=0;t--){n=p[t];if(n.fired&&e<=n.position){n.fired=!1;d--}}return!0};m=function(){var e=n._iO,t=e.from,r=e.to,i,s;s=function(){u._wD(n.id+': "To" time of '+r+" reached.");n.clearOnPosition(r,s);n.stop()};i=function(){u._wD(n.id+': Playing "from" '+t);r!==null&&!isNaN(r)&&n.onPosition(r,s)};if(t!==null&&!isNaN(t)){e.position=t;e.multiShot=!1;i()}return e};c=function(){var e,t=n._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&n.onPosition(parseInt(e,10),t[e])};v=function(){var e,t=n._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&n.clearOnPosition(parseInt(e,10))};l=function(){n.isHTML5&&yt(n)};o=function(){n.isHTML5&&bt(n)};r=function(e){if(!e){p=[];d=0}h=!1;n._hasTimer=null;n._a=null;n._html5_canplay=!1;n.bytesLoaded=null;n.bytesTotal=null;n.duration=n._iO&&n._iO.duration?n._iO.duration:null;n.durationEstimate=null;n.buffered=[];n.eqData=[];n.eqData.left=[];n.eqData.right=[];n.failures=0;n.isBuffering=!1;n.instanceOptions={};n.instanceCount=0;n.loaded=!1;n.metadata={};n.readyState=0;n.muted=!1;n.paused=!1;n.peakData={left:0,right:0};n.waveformData={left:[],right:[]};n.playState=0;n.position=null;n.id3={}};r();this._onTimer=function(e){var t,r=!1,i,s={};if(n._hasTimer||e){if(n._a&&(e||(n.playState>0||n.readyState===1)&&!n.paused)){t=n._get_html5_duration();if(t!==y.duration){y.duration=t;n.duration=t;r=!0}n.durationEstimate=n.duration;i=n._a.currentTime*on||0;if(i!==y.time){y.time=i;r=!0}(r||e)&&n._whileplaying(i,s,s,s,s)}return r}};this._get_html5_duration=function(){var e=n._iO,t=n._a&&n._a.duration?n._a.duration*on:e&&e.duration?e.duration:null,r=t&&!isNaN(t)&&t!==Infinity?t:null;return r};this._apply_loop=function(e,t){!e.loop&&t>1&&u._wD("Note: Native HTML5 looping is infinite.",1);e.loop=t>1?"loop":""};this._setup_html5=function(e){var t=_(n._iO,e),s=Bt?a:n._a,o=decodeURI(t.url),u;Bt?o===decodeURI(jt)&&(u=!0):o===decodeURI(g)&&(u=!0);if(s){if(s._s)if(Bt)s._s&&s._s.playState&&!u&&s._s.stop();else if(!Bt&&o===decodeURI(g)){n._apply_loop(s,t.loops);return s}if(!u){g&&r(!1);s.src=t.url;n.url=t.url;g=t.url;jt=t.url;s._called_load=!1}}else{if(t.autoLoad||t.autoPlay){n._a=new Audio(t.url);n._a.load()}else n._a=Gt&&opera.version()<10?new Audio(null):new Audio;s=n._a;s._called_load=!1;Bt&&(a=s)}n.isHTML5=!0;n._a=s;s._s=n;i();n._apply_loop(s,t.loops);if(t.autoLoad||t.autoPlay)n.load();else{s.autobuffer=!1;s.preload="auto"}return s};i=function(){function e(e,t,r){return n._a?n._a.addEventListener(e,t,r||!1):null}if(n._a._added_events)return!1;var t;n._a._added_events=!0;for(t in Rt)Rt.hasOwnProperty(t)&&e(t,Rt[t]);return!0};s=function(){function e(e,t,r){return n._a?n._a.removeEventListener(e,t,r||!1):null}var t;u._wD(n.id+": Removing event listeners");n._a._added_events=!1;for(t in Rt)Rt.hasOwnProperty(t)&&e(t,Rt[t])};this._onload=function(e){var t,r=!!e||!n.isHTML5&&w===8&&n.duration;t=n.id+": ";u._wD(t+(r?"onload()":"Failed to load / invalid sound?"+(n.duration?" -":" Zero-length duration reported.")+" ("+n.url+")"),r?1:2);if(!r&&!n.isHTML5){u.sandbox.noRemote===!0&&u._wD(t+ut("noNet"),1);u.sandbox.noLocal===!0&&u._wD(t+ut("noLocal"),1)}n.loaded=r;n.readyState=r?3:2;n._onbufferchange(0);n._iO.onload&&Wt(n,function(){n._iO.onload.apply(n,[r])});return!0};this._onbufferchange=function(e){if(n.playState===0)return!1;if(e&&n.isBuffering||!e&&!n.isBuffering)return!1;n.isBuffering=e===1;if(n._iO.onbufferchange){u._wD(n.id+": Buffer state change: "+e);n._iO.onbufferchange.apply(n)}return!0};this._onsuspend=function(){if(n._iO.onsuspend){u._wD(n.id+": Playback suspended");n._iO.onsuspend.apply(n)}return!0};this._onfailure=function(e,t,r){n.failures++;u._wD(n.id+": Failures = "+n.failures);n._iO.onfailure&&n.failures===1?n._iO.onfailure(n,e,t,r):u._wD(n.id+": Ignoring failure")};this._onfinish=function(){var e=n._iO.onfinish;n._onbufferchange(0);n._resetOnPosition(0);if(n.instanceCount){n.instanceCount--;if(!n.instanceCount){v();n.playState=0;n.paused=!1;n.instanceCount=0;n.instanceOptions={};n._iO={};o();n.isHTML5&&(n.position=0)}if(!n.instanceCount||n._iO.multiShotEvents)if(e){u._wD(n.id+": onfinish()");Wt(n,function(){e.apply(n)})}}};this._whileloading=function(e,t,r,i){var s=n._iO;n.bytesLoaded=e;n.bytesTotal=t;n.duration=Math.floor(r);n.bufferLength=i;!n.isHTML5&&!s.isMovieStar?s.duration?n.durationEstimate=n.duration>s.duration?n.duration:s.duration:n.durationEstimate=parseInt(n.bytesTotal/n.bytesLoaded*n.duration,10):n.durationEstimate=n.duration;n.isHTML5||(n.buffered=[{start:0,end:n.duration}]);(n.readyState!==3||n.isHTML5)&&s.whileloading&&s.whileloading.apply(n)};this._whileplaying=function(e,r,i,s,o){var u=n._iO,a;if(isNaN(e)||e===null)return!1;n.position=Math.max(0,e);n._processOnPosition();if(!n.isHTML5&&w>8){u.usePeakData&&r!==t&&r&&(n.peakData={left:r.leftPeak,right:r.rightPeak});u.useWaveformData&&i!==t&&i&&(n.waveformData={left:i.split(","),right:s.split(",")});if(u.useEQData&&o!==t&&o&&o.leftEQ){a=o.leftEQ.split(",");n.eqData=a;n.eqData.left=a;o.rightEQ!==t&&o.rightEQ&&(n.eqData.right=o.rightEQ.split(","))}}if(n.playState===1){!n.isHTML5&&w===8&&!n.position&&n.isBuffering&&n._onbufferchange(0);u.whileplaying&&u.whileplaying.apply(n)}return!0};this._oncaptiondata=function(e){u._wD(n.id+": Caption data received.");n.captiondata=e;n._iO.oncaptiondata&&n._iO.oncaptiondata.apply(n,[e])};this._onmetadata=function(e,t){u._wD(n.id+": Metadata received.");var r={},i,s;for(i=0,s=e.length;i<s;i++)r[e[i]]=t[i];n.metadata=r;n._iO.onmetadata&&n._iO.onmetadata.apply(n)};this._onid3=function(e,t){u._wD(n.id+": ID3 data received.");var r=[],i,s;for(i=0,s=e.length;i<s;i++)r[e[i]]=t[i];n.id3=_(n.id3,r);n._iO.onid3&&n._iO.onid3.apply(n)};this._onconnect=function(e){e=e===1;u._wD(n.id+": "+(e?"Connected.":"Failed to connect? - "+n.url),e?1:2);n.connected=e;if(e){n.failures=0;vt(n.id)&&(n.getAutoPlay()?n.play(t,n.getAutoPlay()):n._iO.autoLoad&&n.load());n._iO.onconnect&&n._iO.onconnect.apply(n,[e])}};this._ondataerror=function(e){if(n.playState>0){u._wD(n.id+": Data error: "+e);n._iO.ondataerror&&n._iO.ondataerror.apply(n)}};this._debug()};K=function(){return m.body||m.getElementsByTagName("div")[0]};p=function(e){return m.getElementById(e)};_=function(e,n){var r=e||{},i,s;i=n===t?u.defaultOptions:n;for(s in i)i.hasOwnProperty(s)&&r[s]===t&&(typeof i[s]!="object"||i[s]===null?r[s]=i[s]:r[s]=_(r[s],i[s]));return r};Wt=function(t,n){!t.isHTML5&&w===8?e.setTimeout(n,0):n()};P={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};D=function(e,n){var r,i=!0,s=n!==t,o=u.setupOptions,a=P;if(e===t){i=[];for(r in o)o.hasOwnProperty(r)&&i.push(r);for(r in a)a.hasOwnProperty(r)&&(typeof u[r]=="object"?i.push(r+": {...}"):u[r]instanceof Function?i.push(r+": function() {...}"):i.push(r));u._wD(ut("setup",i.join(", ")));return!1}for(r in e)if(e.hasOwnProperty(r))if(typeof e[r]!="object"||e[r]===null||e[r]instanceof Array||e[r]instanceof RegExp)if(s&&a[n]!==t)u[n][r]=e[r];else if(o[r]!==t){u.setupOptions[r]=e[r];u[r]=e[r]}else if(a[r]===t){dt(ut(u[r]===t?"setupUndef":"setupError",r),2);i=!1}else u[r]instanceof Function?u[r].apply(u,e[r]instanceof Array?e[r]:[e[r]]):u[r]=e[r];else{if(a[r]!==t)return D(e[r],r);dt(ut(u[r]===t?"setupUndef":"setupError",r),2);i=!1}return i};Pt=function(){function t(e){var t=Ht.call(e),n=t.length;if(s){t[1]="on"+t[1];n>3&&t.pop()}else n===3&&t.push(!1);return t}function n(e,t){var n=e.shift(),r=[o[t]];s?n[r](e[0],e[1]):n[r].apply(n,e)}function r(){n(t(arguments),"add")}function i(){n(t(arguments),"remove")}var s=e.attachEvent,o={add:s?"attachEvent":"addEventListener",remove:s?"detachEvent":"removeEventListener"};return{add:r,remove:i}}();Rt={abort:s(function(){u._wD(this._s.id+": abort")}),canplay:s(function(){var e=this._s,n;if(e._html5_canplay)return!0;e._html5_canplay=!0;u._wD(e.id+": canplay");e._onbufferchange(0);n=e._iO.position!==t&&!isNaN(e._iO.position)?e._iO.position/on:null;if(e.position&&this.currentTime!==n){u._wD(e.id+": canplay: Setting position to "+n);try{this.currentTime=n}catch(r){u._wD(e.id+": canplay: Setting position of "+n+" failed: "+r.message,2)}}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:s(function(){var e=this._s;if(!e.loaded){e._onbufferchange(0);e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration());e._onload(!0)}}),ended:s(function(){var e=this._s;u._wD(e.id+": ended");e._onfinish()}),error:s(function(){u._wD(this._s.id+": HTML5 error, code "+this.error.code);this._s._onload(!1)}),loadeddata:s(function(){var e=this._s;u._wD(e.id+": loadeddata");!e._loaded&&!Qt&&(e.duration=e._get_html5_duration())}),loadedmetadata:s(function(){u._wD(this._s.id+": loadedmetadata")}),loadstart:s(function(){u._wD(this._s.id+": loadstart");this._s._onbufferchange(1)}),play:s(function(){this._s._onbufferchange(0)}),playing:s(function(){u._wD(this._s.id+": playing");this._s._onbufferchange(0)}),progress:s(function(e){var t=this._s,n,r,i,s=0,o=e.type==="progress",a=e.target.buffered,f=e.loaded||0,l=e.total||1;t.buffered=[];if(a&&a.length){for(n=0,r=a.length;n<r;n++)t.buffered.push({start:a.start(n)*on,end:a.end(n)*on});s=(a.end(0)-a.start(0))*on;f=Math.min(1,s/(e.target.duration*on));if(o&&a.length>1){i=[];r=a.length;for(n=0;n<r;n++)i.push(e.target.buffered.start(n)*on+"-"+e.target.buffered.end(n)*on);u._wD(this._s.id+": progress, timeRanges: "+i.join(", "))}o&&!isNaN(f)&&u._wD(this._s.id+": progress, "+Math.floor(f*100)+"% loaded")}if(!isNaN(f)){t._onbufferchange(0);t._whileloading(f,l,t._get_html5_duration());f&&l&&f===l&&Rt.canplaythrough.call(this,e)}}),ratechange:s(function(){u._wD(this._s.id+": ratechange")}),suspend:s(function(e){var t=this._s;u._wD(this._s.id+": suspend");Rt.progress.call(this,e);t._onsuspend()}),stalled:s(function(){u._wD(this._s.id+": stalled")}),timeupdate:s(function(){this._s._onTimer()}),waiting:s(function(){var e=this._s;u._wD(this._s.id+": waiting");e._onbufferchange(1)})};Lt=function(e){var t;!e||!e.type&&!e.url&&!e.serverURL?t=!1:e.serverURL||e.type&&i(e.type)?t=!1:t=e.type?At({type:e.type}):At({url:e.url})||u.html5Only||e.url.match(/data\:/i);return t};Mt=function(e){var t;if(e){t=Qt?un:u.html5.canPlayType("audio/wav")?an:un;e.src=t;e._called_unload!==undefined&&(e._called_load=!1)}Bt&&(jt=null);return t};At=function(e){if(!u.useHTML5Audio||!u.hasHTML5)return!1;var n=e.url||null,r=e.type||null,s=u.audioFormats,o,a,f,l;if(r&&u.html5[r]!==t)return u.html5[r]&&!i(r);if(!Ot){Ot=[];for(l in s)if(s.hasOwnProperty(l)){Ot.push(l);s[l].related&&(Ot=Ot.concat(s[l].related))}Ot=new RegExp("\\.("+Ot.join("|")+")(\\?.*)?$","i")}f=n?n.toLowerCase().match(Ot):null;if(!f||!f.length)if(!r)o=!1;else{a=r.indexOf(";");f=(a!==-1?r.substr(0,a):r).substr(6)}else f=f[1];if(f&&u.html5[f]!==t)o=u.html5[f]&&!i(f);else{r="audio/"+f;o=u.html5.canPlayType({type:r});u.html5[f]=o;o=o&&u.html5[r]&&!i(r)}return o};Dt=function(){function e(e){var t,r,i=!1,s=!1;if(!n||typeof n.canPlayType!="function")return i;if(e instanceof Array){for(a=0,r=e.length;a<r;a++)if(u.html5[e[a]]||n.canPlayType(e[a]).match(u.html5Test)){s=!0;u.html5[e[a]]=!0;u.flash[e[a]]=!!e[a].match(sn)}i=s}else{t=n&&typeof n.canPlayType=="function"?n.canPlayType(e):!1;i=!!t&&!!t.match(u.html5Test)}return i}if(!u.useHTML5Audio||!u.hasHTML5){u.html5.usingFlash=!0;Ct=!0;return!1}var n=Audio!==t?Gt&&opera.version()<10?new Audio(null):new Audio:null,r,i,s={},o,a;o=u.audioFormats;for(r in o)if(o.hasOwnProperty(r)){i="audio/"+r;s[r]=e(o[r].type);s[i]=s[r];if(r.match(sn)){u.flash[r]=!0;u.flash[i]=!0}else{u.flash[r]=!1;u.flash[i]=!1}if(o[r]&&o[r].related)for(a=o[r].related.length-1;a>=0;a--){s["audio/"+o[r].related[a]]=s[r];u.html5[o[r].related[a]]=s[r];u.flash[o[r].related[a]]=s[r]}}s.canPlayType=n?e:null;u.html5=_(u.html5,s);u.html5.usingFlash=kt();Ct=u.html5.usingFlash;return!0};z={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available."
,domError:l+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:c+"Verify that %s is a valid path.",tryDebug:"Try "+l+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:c+"Non-HTTP page ("+m.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:c+"Special case: Waiting for SWF to load with window focus...",waitForever:c+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:c+"Waiting for 100% SWF load...",needFunction:c+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:c+"_debug(): Current sound objects",waitOnload:c+"Waiting for window.onload()",docLoaded:c+"Document already loaded",onload:c+"initComplete(): calling soundManager.onload()",onloadOK:l+".onload() complete",didInit:c+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:c+"Failed to remove Flash node.",shutdown:l+".disable(): Shutting down",queue:c+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+lt.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:c+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:l+".load(): current URL already assigned.",badFV:l+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:c+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:c+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:l+".setup(): allowed parameters: %s",setupError:l+'.setup(): "%s" cannot be assigned with this method.',setupUndef:l+'.setup(): Could not find option "%s"',setupLate:l+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:c+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready.",reset:l+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device."};ut=function(){var e,t,n,r,i;e=Ht.call(arguments);r=e.shift();i=z&&z[r]?z[r]:"";if(i&&e&&e.length)for(t=0,n=e.length;t<n;t++)i=i.replace("%s",e[t]);return i};ht=function(e){if(w===8&&e.loops>1&&e.stream){A("as2loop");e.stream=!1}return e};pt=function(e,t){if(e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)){u._wD((t||"")+ut("policy"));e.usePolicyFile=!0}return e};dt=function(e){en&&console.warn!==t?console.warn(e):u._wD(e)};g=function(){return!1};nt=function(e){var t;for(t in e)e.hasOwnProperty(t)&&typeof e[t]=="function"&&(e[t]=g);t=null};rt=function(e){e===t&&(e=!1);(k||e)&&u.disable(e)};it=function(e){var t=null,n;if(e)if(e.match(/\.swf(\?.*)?$/i)){t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4);if(t)return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");n=(e&&e.lastIndexOf("/")!==-1?e.substr(0,e.lastIndexOf("/")+1):"./")+u.movieURL;u.noSWFCache&&(n+="?ts="+(new Date).getTime());return n};R=function(){w=parseInt(u.flashVersion,10);if(w!==8&&w!==9){u._wD(ut("badFV",w,tt));u.flashVersion=w=tt}var e=u.debugMode||u.debugFlash?"_debug.swf":".swf";if(u.useHTML5Audio&&!u.html5Only&&u.audioFormats.mp4.required&&w<9){u._wD(ut("needfl9"));u.flashVersion=w=9}u.version=u.versionNumber+(u.html5Only?" (HTML5-only mode)":w===9?" (AS3/Flash 9)":" (AS2/Flash 8)");if(w>8){u.defaultOptions=_(u.defaultOptions,u.flash9Options);u.features.buffering=!0;u.defaultOptions=_(u.defaultOptions,u.movieStarOptions);u.filePatterns.flash9=new RegExp("\\.(mp3|"+hn.join("|")+")(\\?.*)?$","i");u.features.movieStar=!0}else u.features.movieStar=!1;u.filePattern=u.filePatterns[w!==8?"flash9":"flash8"];u.movieURL=(w===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e);u.features.peakData=u.features.waveformData=u.features.eqData=w>8};Y=function(e,t){if(!f)return!1;f._setPolling(e,t)};Z=function(){u.debugURLParam.test(v)&&(u.debugMode=!0);if(p(u.debugID))return!1;var e,t,n,r,i;if(u.debugMode&&!p(u.debugID)&&(!en||!u.useConsole||!u.consoleOnly)){e=m.createElement("div");e.id=u.debugID+"-toggle";r={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001};e.appendChild(m.createTextNode("-"));e.onclick=ct;e.title="Toggle SM2 debug console";if(d.match(/msie 6/i)){e.style.position="absolute";e.style.cursor="hand"}for(i in r)r.hasOwnProperty(i)&&(e.style[i]=r[i]);t=m.createElement("div");t.id=u.debugID;t.style.display=u.debugMode?"block":"none";if(u.debugMode&&!p(e.id)){try{n=K();n.appendChild(e)}catch(s){throw new Error(ut("domError")+" \n"+s.toString())}n.appendChild(t)}}n=null};vt=this.getSoundById;A=function(e,t){return e?u._wD(ut(e),t):""};ct=function(){var e=p(u.debugID),t=p(u.debugID+"-toggle");if(!e)return!1;if(S){t.innerHTML="+";e.style.display="none"}else{t.innerHTML="-";e.style.display="block"}S=!S};x=function(n,r,i){if(e.sm2Debugger!==t)try{sm2Debugger.handleEvent(n,r,i)}catch(s){return!1}return!0};ft=function(){var e=[];u.debugMode&&e.push(lt.sm2Debug);u.debugFlash&&e.push(lt.flashDebug);u.useHighPerformance&&e.push(lt.highPerf);return e.join(" ")};at=function(){var e=ut("fbHandler"),t=u.getMoviePercent(),n=lt,r={type:"FLASHBLOCK"};if(u.html5Only)return!1;if(!u.ok()){if(Ct){u.oMC.className=ft()+" "+n.swfDefault+" "+(t===null?n.swfTimedout:n.swfError);u._wD(e+": "+ut("fbTimeout")+(t?" ("+ut("fbLoaded")+")":""))}u.didFlashBlock=!0;B({type:"ontimeout",ignoreInit:!0,error:r});G(r)}else{u.didFlashBlock&&u._wD(e+": Unblocked");u.oMC&&(u.oMC.className=[ft(),n.swfDefault,n.swfLoaded+(u.didFlashBlock?" "+n.swfUnblocked:"")].join(" "))}};H=function(e,n,r){E[e]===t&&(E[e]=[]);E[e].push({method:n,scope:r||null,fired:!1})};B=function(e){e||(e={type:u.ok()?"onready":"ontimeout"});if(!C&&e&&!e.ignoreInit)return!1;if(e.type==="ontimeout"&&(u.ok()||k&&!e.ignoreInit))return!1;var t={success:e&&e.ignoreInit?u.ok():!k},n=e&&e.type?E[e.type]||[]:[],r=[],i,s,o=[t],a=Ct&&!u.ok();e.error&&(o[0].error=e.error);for(i=0,s=n.length;i<s;i++)n[i].fired!==!0&&r.push(n[i]);if(r.length)for(i=0,s=r.length;i<s;i++){r[i].scope?r[i].method.apply(r[i].scope,o):r[i].method.apply(this,o);a||(r[i].fired=!0)}return!0};j=function(){e.setTimeout(function(){u.useFlashBlock&&at();B();if(typeof u.onload=="function"){A("onload",1);u.onload.apply(e);A("onloadOK",1)}u.waitForWindowLoad&&Pt.add(e,"load",j)},1)};It=function(){if(Ft!==t)return Ft;var n=!1,r=navigator,i=r.plugins,s,o,u,a=e.ActiveXObject;if(i&&i.length){o="application/x-shockwave-flash";u=r.mimeTypes;u&&u[o]&&u[o].enabledPlugin&&u[o].enabledPlugin.description&&(n=!0)}else if(a!==t&&!d.match(/MSAppHost/i)){try{s=new a("ShockwaveFlash.ShockwaveFlash")}catch(f){s=null}n=!!s;s=null}Ft=n;return n};kt=function(){var e,t,n=u.audioFormats,r=Vt&&!!d.match(/os (1|2|3_0|3_1)/i);if(r){u.hasHTML5=!1;u.html5Only=!0;u.oMC&&(u.oMC.style.display="none")}else if(u.useHTML5Audio){if(!u.html5||!u.html5.canPlayType){u._wD("SoundManager: No HTML5 Audio() support detected.");u.hasHTML5=!1}Zt&&u._wD(c+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(Ft?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)}if(u.useHTML5Audio&&u.hasHTML5){Nt=!0;for(t in n)if(n.hasOwnProperty(t)&&n[t].required)if(!u.html5.canPlayType(n[t].type)){Nt=!1;e=!0}else u.preferFlash&&(u.flash[t]||u.flash[n[t].type])&&(e=!0)}if(u.ignoreFlash){e=!1;Nt=!0}u.html5Only=u.hasHTML5&&u.useHTML5Audio&&!e;return!u.html5Only};xt=function(e){var t,n,r=0,i;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(u.canPlayMIME(e[t].type)){r=t;break}}else if(u.canPlayURL(e[t])){r=t;break}e[r].url&&(e[r]=e[r].url);i=e[r]}else i=e;return i};yt=function(e){if(!e._hasTimer){e._hasTimer=!0;if(!Yt&&u.html5PollingInterval){St===null&&Et===0&&(St=setInterval(wt,u.html5PollingInterval));Et++}}};bt=function(e){if(e._hasTimer){e._hasTimer=!1;!Yt&&u.html5PollingInterval&&Et--}};wt=function(){var e;if(St!==null&&!Et){clearInterval(St);St=null;return!1}for(e=u.soundIDs.length-1;e>=0;e--)u.sounds[u.soundIDs[e]].isHTML5&&u.sounds[u.soundIDs[e]]._hasTimer&&u.sounds[u.soundIDs[e]]._onTimer()};G=function(n){n=n!==t?n:{};typeof u.onerror=="function"&&u.onerror.apply(e,[{type:n.type!==t?n.type:null}]);n.fatal!==t&&n.fatal&&u.disable()};qt=function(){if(!Zt||!It())return!1;var e=u.audioFormats,t,n;for(n in e)if(e.hasOwnProperty(n))if(n==="mp3"||n==="mp4"){u._wD(l+": Using flash fallback for "+n+" format");u.html5[n]=!1;if(e[n]&&e[n].related)for(t=e[n].related.length-1;t>=0;t--)u.html5[e[n].related[t]]=!1}};this._setSandboxType=function(e){var n=u.sandbox;n.type=e;n.description=n.types[n.types[e]!==t?e:"unknown"];if(n.type==="localWithFile"){n.noRemote=!0;n.noLocal=!1;A("secNote",2)}else if(n.type==="localWithNetwork"){n.noRemote=!1;n.noLocal=!0}else if(n.type==="localTrusted"){n.noRemote=!1;n.noLocal=!1}};this._externalInterfaceOK=function(e){if(u.swfLoaded)return!1;var t;x("swf",!0);x("flashtojs",!0);u.swfLoaded=!0;nn=!1;Zt&&qt();if(!e||e.replace(/\+dev/i,"")!==u.versionNumber.replace(/\+dev/i,"")){t=l+': Fatal: JavaScript file build "'+u.versionNumber+'" does not match Flash SWF build "'+e+'" at '+u.url+". Ensure both are up-to-date.";setTimeout(function(){throw new Error(t)},0);return!1}setTimeout(b,Jt?100:1)};Q=function(e,n){function r(){var e=[],t,n=[],r=" + ";t="SoundManager "+u.version+(!u.html5Only&&u.useHTML5Audio?u.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"");if(!u.html5Only){u.preferFlash&&e.push("preferFlash");u.useHighPerformance&&e.push("useHighPerformance");u.flashPollingInterval&&e.push("flashPollingInterval ("+u.flashPollingInterval+"ms)");u.html5PollingInterval&&e.push("html5PollingInterval ("+u.html5PollingInterval+"ms)");u.wmode&&e.push("wmode ("+u.wmode+")");u.debugFlash&&e.push("debugFlash");u.useFlashBlock&&e.push("flashBlock")}else u.html5PollingInterval&&e.push("html5PollingInterval ("+u.html5PollingInterval+"ms)");e.length&&(n=n.concat([e.join(r)]));u._wD(t+(n.length?r+n.join(", "):""),1);Ut()}function i(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(T&&N)return!1;if(u.html5Only){R();r();u.oMC=p(u.movieID);b();T=!0;N=!0;return!1}var s=n||u.url,o=u.altURL||s,a="JS/Flash audio component (SoundManager 2)",f=K(),l=ft(),c=null,h=m.getElementsByTagName("html")[0],v,g,y,w,E,S,x,C;c=h&&h.dir&&h.dir.match(/rtl/i);e=e===t?u.id:e;R();u.url=it(fn?s:o);n=u.url;u.wmode=!u.wmode&&u.useHighPerformance?"transparent":u.wmode;if(u.wmode!==null&&(d.match(/msie 8/i)||!Jt&&!u.useHighPerformance)&&navigator.platform.match(/win32|win64/i)){Tt.push(z.spcWmode);u.wmode=null}v={name:e,id:e,src:n,quality:"high",allowScriptAccess:u.allowScriptAccess,bgcolor:u.bgColor,pluginspage:ln+"www.macromedia.com/go/getflashplayer",title:a,type:"application/x-shockwave-flash",wmode:u.wmode,hasPriority:"true"};u.debugFlash&&(v.FlashVars="debug=1");u.wmode||delete v.wmode;if(Jt){g=m.createElement("div");w=['<object id="'+e+'" data="'+n+'" type="'+v.type+'" title="'+v.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+ln+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',i("movie",n),i("AllowScriptAccess",u.allowScriptAccess),i("quality",v.quality),u.wmode?i("wmode",u.wmode):"",i("bgcolor",u.bgColor),i("hasPriority","true"),u.debugFlash?i("FlashVars",v.FlashVars):"","</object>"].join("")}else{g=m.createElement("embed");for(y in v)v.hasOwnProperty(y)&&g.setAttribute(y,v[y])}Z();l=ft();f=K();if(f){u.oMC=p(u.movieID)||m.createElement("div");if(!u.oMC.id){u.oMC.id=u.movieID;u.oMC.className=lt.swfDefault+" "+l;S=null;E=null;if(!u.useFlashBlock)if(u.useHighPerformance)S={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"};else{S={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"};c&&(S.left=Math.abs(parseInt(S.left,10))+"px")}Kt&&(u.oMC.style.zIndex=1e4);if(!u.debugFlash)for(x in S)S.hasOwnProperty(x)&&(u.oMC.style[x]=S[x]);try{Jt||u.oMC.appendChild(g);f.appendChild(u.oMC);if(Jt){E=u.oMC.appendChild(m.createElement("div"));E.className=lt.swfBox;E.innerHTML=w}N=!0}catch(k){throw new Error(ut("domError")+" \n"+k.toString())}}else{C=u.oMC.className;u.oMC.className=(C?C+" ":lt.swfDefault)+(l?" "+l:"");u.oMC.appendChild(g);if(Jt){E=u.oMC.appendChild(m.createElement("div"));E.className=lt.swfBox;E.innerHTML=w}N=!0}}T=!0;r();return!0};W=function(){if(u.html5Only){Q();return!1}if(f)return!1;if(!u.url){A("noURL");return!1}f=u.getMovie(u.id);if(!f){if(!st)Q(u.id,u.url);else{Jt?u.oMC.innerHTML=ot:u.oMC.appendChild(st);st=null;T=!0}f=u.getMovie(u.id)}typeof u.oninitmovie=="function"&&setTimeout(u.oninitmovie,1);zt();return!0};F=function(){setTimeout(I,1e3)};q=function(){e.setTimeout(function(){dt(c+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false...");u.setup({preferFlash:!1}).reboot();u.didFlashBlock=!0;u.beginDelayedInit()},1)};I=function(){var t,n=!1;if(!u.url)return!1;if(mt)return!1;mt=!0;Pt.remove(e,"load",F);if(Ft&&nn&&!tn){A("waitFocus");return!1}if(!C){t=u.getMoviePercent();t>0&&t<100&&(n=!0)}setTimeout(function(){t=u.getMoviePercent();if(n){mt=!1;u._wD(ut("waitSWF"));e.setTimeout(F,1);return!1}if(!C){u._wD(l+": No Flash response within expected time. Likely causes: "+(t===0?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(u.debugFlash?" "+ut("checkSWF"):""),2);if(!fn&&t){A("localFail",2);u.debugFlash||A("tryDebug",2)}t===0&&u._wD(ut("swf404",u.url),1);x("flashtojs",!1,": Timed out"+fn?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)")}if(!C&&rn)if(t===null)if(u.useFlashBlock||u.flashLoadTimeout===0){u.useFlashBlock&&at();A("waitForever")}else if(!u.useFlashBlock&&Nt)q();else{A("waitForever");B({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})}else u.flashLoadTimeout===0?A("waitForever"):!u.useFlashBlock&&Nt?q():rt(!0)},u.flashLoadTimeout)};U=function(){function t(){Pt.remove(e,"focus",U)}if(tn||!nn){t();return!0}rn=!0;tn=!0;A("gotFocus");mt=!1;F();t();return!0};zt=function(){if(Tt.length){u._wD("SoundManager 2: "+Tt.join(" "),1);Tt=[]}};Ut=function(){zt();var e,t=[];if(u.useHTML5Audio&&u.hasHTML5){for(e in u.audioFormats)u.audioFormats.hasOwnProperty(e)&&t.push(e+" = "+u.html5[e]+(!u.html5[e]&&Ct&&u.flash[e]?" (using flash)":u.preferFlash&&u.flash[e]&&Ct?" (preferring flash)":u.html5[e]?"":" ("+(u.audioFormats[e].required?"required, ":"")+"and no flash support)"));u._wD("SoundManager 2 HTML5 support: "+t.join(", "),1)}};M=function(t){if(C)return!1;if(u.html5Only){A("sm2Loaded");C=!0;j();x("onload",!0);return!0}var n=u.useFlashBlock&&u.flashLoadTimeout&&!u.getMoviePercent(),r=!0,i;n||(C=!0);i={type:!Ft&&Ct?"NO_FLASH":"INIT_TIMEOUT"};u._wD("SoundManager 2 "+(k?"failed to load":"loaded")+" ("+(k?"Flash security/load error":"OK")+")",k?2:1);if(k||t){u.useFlashBlock&&u.oMC&&(u.oMC.className=ft()+" "+(u.getMoviePercent()===null?lt.swfTimedout:lt.swfError));B({type:"ontimeout",error:i,ignoreInit:!0});x("onload",!1);G(i);r=!1}else x("onload",!0);if(!k)if(u.waitForWindowLoad&&!L){A("waitOnload");Pt.add(e,"load",j)}else{u.waitForWindowLoad&&L&&A("docLoaded");j()}return r};y=function(){var e,n=u.setupOptions;for(e in n)n.hasOwnProperty(e)&&(u[e]===t?u[e]=n[e]:u[e]!==n[e]&&(u.setupOptions[e]=u[e]))};b=function(){function t(){Pt.remove(e,"load",u.beginDelayedInit)}if(C){A("didInit");return!1}if(u.html5Only){if(!C){t();u.enabled=!0;M()}return!0}W();try{f._externalInterfaceTest(!1);Y(!0,u.flashPollingInterval||(u.useHighPerformance?10:50));u.debugMode||f._disableDebug();u.enabled=!0;x("jstoflash",!0);u.html5Only||Pt.add(e,"unload",g)}catch(n){u._wD("js/flash exception: "+n.toString());x("jstoflash",!1);G({type:"JS_TO_FLASH_EXCEPTION",fatal:!0});rt(!0);M();return!1}M();t();return!0};V=function(){if(J)return!1;J=!0;y();Z();(function(){var e="sm2-usehtml5audio=",t="sm2-preferflash=",n=null,r=null,i=v.toLowerCase();if(i.indexOf(e)!==-1){n=i.charAt(i.indexOf(e)+e.length)==="1";en&&console.log((n?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter");u.setup({useHTML5Audio:n})}if(i.indexOf(t)!==-1){r=i.charAt(i.indexOf(t)+t.length)==="1";en&&console.log((r?"Enabling ":"Disabling ")+"preferFlash via URL parameter");u.setup({preferFlash:r})}})();if(!Ft&&u.hasHTML5){u._wD("SoundManager 2: No Flash detected"+(u.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1);u.setup({useHTML5Audio:!0,preferFlash:!1})}Dt();if(!Ft&&Ct){Tt.push(z.needFlash);u.setup({flashLoadTimeout:1})}m.removeEventListener&&m.removeEventListener("DOMContentLoaded",V,!1);W();return!0};_t=function(){if(m.readyState==="complete"){V();m.detachEvent("onreadystatechange",_t)}return!0};$=function(){L=!0;Pt.remove(e,"load",$)};X=function(){if(Yt){(!u.setupOptions.useHTML5Audio||u.setupOptions.preferFlash)&&Tt.push(z.mobileUA);u.setupOptions.useHTML5Audio=!0;u.setupOptions.preferFlash=!1;if(Vt||$t&&!d.match(/android\s2\.3/i)){Tt.push(z.globalHTML5);Vt&&(u.ignoreFlash=!0);Bt=!0}}};X();It();Pt.add(e,"focus",U);Pt.add(e,"load",F);Pt.add(e,"load",$);if(m.addEventListener)m.addEventListener("DOMContentLoaded",V,!1);else if(m.attachEvent)m.attachEvent("onreadystatechange",_t);else{x("onload",!1);G({type:"NO_DOM2_EVENTS",fatal:!0})}}var r=null;if(e.SM2_DEFER===undefined||!SM2_DEFER)r=new n;e.SoundManager=n;e.soundManager=r})(window);__slice=[].slice;typeof soundManager!="undefined"&&soundManager.setup({url:"swf/",flashVersion:9,useFlashBlock:!1,useHighPerformance:!0,wmode:"transparent",useFastPolling:!0,debugFlash:!1,debugMode:!1});var SoundCloudPlayer=function(e,t){var n={loop:!1,start_on:0,autoplay:!1,autoswitch:!0,volume:100,toggle_pause:!0,cache:!0,preload:!1,debug:!1},r="http://api.soundcloud.com/resolve?url=http://soundcloud.com",i=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi),s=this,o=jQuery(this);this.tracks=[];this.config=jQuery.extend(n,t);this.current_track_index=this.config.start_on;this.current_track=null;this.sound=null;this.inited=!1;this.play_when_ready=!1;this.cache={};this.init=function(){if(s.inited)return;s.change_track();s.trigger("scplayer.init");s.config.autoplay&&s.play();s.inited=!0};this.change_track=function(e){s.log("change_track");if(s.sound){s.sound.destruct();s.sound=null}var t=typeof e!="undefined"?e:s.current_track_index;if(e!=s.current_track_index||!e){var n=s.tracks[t];s.resolve_track(n,s.set_sound);s.trigger("scplayer.changing_track",t)}return s};this.play=function(){s.log("play");s.sound&&s.sound.readyState==3?s.sound.play():s.play_when_ready=!0;s.trigger("scplayer.play",s.current_track_index);return s};this.pause=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.pause();s.trigger("scplayer.pause",s.sound.paused)}return s};this.resume=function(e){e=e!=null?e:!1;if(s.sound){s.config.toggle_pause&&!e?s.sound.togglePause():s.sound.resume();s.trigger("scplayer.pause",s.sound.paused)}return s};this.stop=function(){s.sound&&s.sound.stop();s.trigger("scplayer.stop");s.log("stop");return s};this.next=function(e){s.log("next");s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;s.log(s.play_when_ready);if(s.tracks[s.current_track_index+1]){s.current_track_index++;s.change_track();s.trigger("scplayer.playlist.next",s.current_track_index-1,s.current_track_index);s.log("has next")}else if(s.config.loop){s.current_track_index=0;s.change_track();s.trigger("scplayer.playlist.looped");s.log("looped")}else{s.current_track_index=s.tracks.length-1;s.trigger("scplayer.playlist.ended");s.log("no mas")}return s};this.prev=function(e){s.play_when_ready=typeof e!="undefined"?e:s.config.autoswitch;if(s.tracks[s.current_track_index-1]){s.current_track_index--;s.change_track();s.trigger("scplayer.playlist.prev")}else if(s.config.loop){s.current_track_index=s.tracks.length-1;s.change_track();s.trigger("scplayer.playlist.looped")}else{s.current_track_index=0;s.trigger("scplayer.playlist.restarted")}return s};this.goto=function(e,t){s.log("goto");s.play_when_ready=typeof t!="undefined"?t:s.config.autoswitch;if(s.tracks[e]){s.current_track_index=e;s.trigger("scplayer.playlist.goto");s.change_track()}return s};this.restart_track=function(){s.position(0);return s};this.mute=function(){s.sound&&s.sound.toggleMute();s.trigger("scplayer.mute",s.sound.muted);return s};this.has_next=function(){s.log("has next");return s.tracks[s.current_track_index+1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.has_prev=function(){return s.tracks[s.current_track_index-1]?!0:s.config.loop&&s.tracks.length>1?!0:!1};this.get_time=function(){var e=this.position(),t=e%1e3,n=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),i=Math.floor(e/36e5%24),o=r+":"+s.pad(n);i>0&&(o=i+":"+o);return o};this.position=function(e){if(s.sound){if(e||e===0){e=Math.min(s.sound.duration,e);e=Math.max(0,e);s.trigger("scplayer.position",e);return s.sound.setPosition(e)}s.trigger("scplayer.position",s.sound.position);return s.sound.position}return 0};this.volume=function(e){if(s.sound){if(e||e===0){e=Math.min(100,e);e=Math.max(0,e);s.trigger("scplayer.volume",e);s.config.volume=e;return s.sound.setVolume(e)}s.trigger("scplayer.volume",s.sound.volume);return s.sound.volume}return s.config.volume};this.seek=function(e){var t=s.current_track.duration*e;s.position(t);return s};this.loop=function(e){if(e){s.config.loop=e;s.trigger("scplayer.loop_changed",s.config.loop)}return s.config.loop};this.track_info=function(e){s.isNumeric(e)&&(e=s.tracks[e]);return s.resolve_track(e)};this.on=function(e,t){return o.on(e,t)};this.trigger=function(e){var t=arguments.length>1?__slice.call(arguments,1):[];return o.trigger(e,t)};this.destroy=function(){s.sound&&s.sound.destruct();s.tracks=[];o.off();o.remove();s.tracks=null;s.track=null;s=null;delete s.tracks;delete s.track;delete s;delete this};s.get_track=function(){return s.current_track};s.get_track_index=function(){return s.current_track_index};s.get_sound=function(){return s.sound};s.get_playlist=function(){return s.tracks};s.set_cache=function(e,t){s.config.cache===!0&&(s.cache[e]=t)};s.get_cache=function(e){return s.config.cache===!0?s.cache[e]||null:null};s.set_sound=function(e){s.log("set_sound");s.trigger("scplayer.track.info_loaded",e);s.current_track=e;var t=e.stream_url;t+=t.indexOf("secret_token")==-1?"?":"&";t+="consumer_key="+s.config.consumer_key;s.sound=soundManager.createSound({autoLoad:!0,id:"track_"+e.id,multiShot:!1,loops:1,url:t,volume:s.config.volume,whileloading:function(){var e=Math.round(this.bytesLoaded/this.bytesTotal*100);s.trigger("scplayer.track.whileloading",e)},whileplaying:function(){var t=Math.round(this.position/e.duration*100*10)/10;s.trigger("scplayer.track.whileplaying",t)},onplay:function(){s.log("track.onplay");s.trigger("scplayer.track.played")},onresume:function(){s.trigger("scplayer.track.resumed")},onstop:function(){s.trigger("scplayer.track.stopped")},onpause:function(){s.trigger("scplayer.track.paused")},onfinish:function(){s.trigger("scplayer.track.finished")},onload:function(){s.log("onload");s.trigger("scplayer.track.ready",s.current_track_index,s.current_track)}});s.trigger("scplayer.track.bindable",e,s.sound)};s.resolve_track=function(e,t){var n=new jQuery.Deferred;if(e.match(i)&&e.search(/soundcloud\.com/i)===-1){var o={stream_url:e,id:0,permalink_url:e,duration:0};n.resolve(o)}e=e.replace(/https?\:\/\/soundcloud\.com/gi,"");if(s.config.cache===!0){var u=s.get_cache(e);if(u&&t){n.done(function(){t(u)}).resolve();return n}}n.done(function(n){if(n.tracks&&n.tracks.length>0){var r=s.parse_tracks(e,n.tracks);n=r[0]}else s.config.cache===!0&&s.set_cache(e,n);t&&t(n)});jQuery.ajax({url:r+e+"&format=json"+"&consumer_key="+s.config.consumer_key+"&callback=?",dataType:"jsonp",error:function(e,t,r){n.reject(e,t,r)},success:function(e){n.resolve(e)}});return n};s.preload_sc_tracks=function(e){var t=[];for(var n=0,r=s.tracks.length;n<r;n++){var i=s.tracks[n],o=s.resolve_track(i);t.push(o)}jQuery.when.apply(jQuery,t).then(function(){s.trigger("scplayer.playlist.preloaded");e&&e()},function(){s.log("promises failed to preload tracks")})};s.parse_tracks=function(e,t){var n=[],r=[],i=s.tracks.indexOf(e);for(var o=0,u=t.length;o<u;o++){var a=t[o],f=a.permalink_url.substring(21);s.config.cache===!0&&s.set_cache(f,a);n.push(a);r.push(f)}var l=[i,1].concat(r);s.tracks.splice.apply(s.tracks,l);return n};s.add_tracks=function(e){typeof e=="string"&&(e=[e]);if(e!=null&&e.length>0){s.tracks=s.tracks.concat(e);s.config.preload==1?s.preload_sc_tracks.call(s,s.init):s.init.call(s)}};s.log=function(){s.config.debug&&window.console&&console.log.apply(console,arguments)};s.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};s.pad=function(e){return(e<10?"0":"")+e};s.on("scplayer.track.ready",function(e){s.log("track.onready!!!");if(s.play_when_ready==1){s.play();s.play_when_ready=!1}});s.on("scplayer.track.finished",function(e){s.log("track finished");if(s.config.autoswitch&&(s.config.loop||s.has_next())){s.log("finished and autoswitch");s.next().play()}});s.on("scplayer.playlist.ended",function(e){s.log("playlist ended");s.config.loop||s.stop()});soundManager.onready(function(){s.log("SOUNDMANAGER2 ready!!");s.add_tracks(e)});soundManager.ontimeout(function(){window.console&&console.log("SOUNDMANAGER2 TIMEDOUT!!")});return{play:this.play,pause:this.pause,resume:this.resume,stop:this.stop,next:this.next,prev:this.prev,mute:this.mute,get_time:this.get_time,volume:this.volume,restart_track:this.restart_track,"goto":this.goto,position:this.position,seek:this.seek,track_info:this.track_info,has_next:this.has_next,has_prev:this.has_prev,on:this.on,trigger:this.trigger,track:this.get_track,track_index:this.get_track_index,sound:this.get_sound,playlist:this.get_playlist,destroy:this.destroy,add_tracks:this.add_tracks}};(function(e,t){"use strict";function r(n,r){function hn(e){return s.preferFlash&&Bt&&!s.ignoreFlash&&s.flash[e]!==t&&s.flash[e]}function pn(e){return function(t){var n=this._s,r;if(!n||!n._a){n&&n.id?s._wD(n.id+": Ignoring "+t.type):s._wD(l+"Ignoring "+t.type);r=null}else r=e.call(this,t);return r}}this.setupOptions={url:n||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=r||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20131201";this.version=null;this.movieURL=null;this.altURL=null;this.swfLoaded=!1;this.enabled=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.muted=!1;this.didFlashBlock=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null};this.html5={usingFlash:null};this.flash={};this.html5Only=!1;this.ignoreFlash=!1;var i,s=this,o=null,u=null,a="soundManager",f=a+": ",l="HTML5::",c,h=navigator.userAgent,p=e.location.href.toString(),d=document,v,m,g,y,b=[],w=!0,E,S=!1,x=!1,T=!1,N=!1,C=!1,k,L=0,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y=["log","info","warn","error"],Z=8,et,tt,nt,rt=null,it=null,st,ot,ut,at,ft,lt,ct,ht,pt,dt=!1,vt=!1,mt,gt,yt,bt=0,wt=null,Et,St=[],xt,Tt=null,Nt,Ct,kt,Lt,At,Ot,Mt,_t,Dt=Array.prototype.slice,Pt=!1,Ht,Bt,jt,Ft,It,qt,Rt,Ut,zt=0,Wt=h.match(/(ipad|iphone|ipod)/i),Xt=h.match(/android/i),Vt=h.match(/msie/i),$t=h.match(/webkit/i),Jt=h.match(/safari/i)&&!h.match(/chrome/i),Kt=h.match(/opera/i),Qt=h.match(/(mobile|pre\/|xoom)/i)||Wt||Xt,Gt=!p.match(/usehtml5audio/i)&&!p.match(/sm2\-ignorebadua/i)&&Jt&&!h.match(/silk/i)&&h.match(/OS X 10_6_([3-7])/i),Yt=e.console!==t&&console.log!==t,Zt=d.hasFocus!==t?d.hasFocus():null,en=Jt&&(d.hasFocus===t||!d.hasFocus()),tn=!en,nn=/(mp3|mp4|mpa|m4a|m4b)/i,rn=1e3,sn="about:blank",on="data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==",un=d.location?d.location.protocol.match(/http/i):null,an=un?"":"http://",fn=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,ln=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],cn=new RegExp("\\.("+ln.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!un;at={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"};this.hasHTML5=function(){try{return Audio!==t&&(Kt&&opera!==t&&opera.version()<10?new Audio(null):new Audio).canPlayType!==t}catch(e){return!1}}();this.setup=function(e){var n=!s.url;e!==t&&T&&Tt&&s.ok()&&(e.flashVersion!==t||e.url!==t||e.html5Test!==t)&&ht(st("setupLate"));M(e);if(e){n&&V&&e.url!==t&&s.beginDelayedInit();!V&&e.url!==t&&d.readyState==="complete"&&setTimeout(W,1)}return s};this.ok=function(){return Tt?T&&!N:s.useHTML5Audio&&s.hasHTML5};this.supported=this.ok;this.getMovie=function(t){return c(t)||d[t]||e[t]};this.createSound=function(e,n){function c(){f=lt(f);s.sounds[f.id]=new i(f);s.soundIDs.push(f.id);return s.sounds[f.id]}var r,o,f,l=null;r=a+".createSound(): ";o=r+st(T?"notOK":"notReady");if(!T||!s.ok()){ht(o);return!1}n!==t&&(e={id:e,url:n});f=O(e);f.url=Et(f.url);f.id===undefined&&(f.id=s.setupOptions.idPrefix+zt++);f.id.toString().charAt(0).match(/^[0-9]$/)&&s._wD(r+st("badID",f.id),2);s._wD(r+f.id+(f.url?" ("+f.url+")":""),1);if(pt(f.id,!0)){s._wD(r+f.id+" exists",1);return s.sounds[f.id]}if(Ct(f)){l=c();s._wD(f.id+": Using HTML5");l._setup_html5(f)}else{if(s.html5Only){s._wD(f.id+": No HTML5 support for this sound, and no Flash. Exiting.");return c()}if(s.html5.usingFlash&&f.url&&f.url.match(/data\:/i)){s._wD(f.id+": data: URIs not supported via Flash. Exiting.");return c()}if(y>8){f.isMovieStar===null&&(f.isMovieStar=!!(f.serverURL||(f.type?f.type.match(fn):!1)||f.url&&f.url.match(cn)));if(f.isMovieStar){s._wD(r+"using MovieStar handling");f.loops>1&&k("noNSLoop")}}f=ct(f,r);l=c();if(y===8)u._createSound(f.id,f.loops||1,f.usePolicyFile);else{u._createSound(f.id,f.url,f.usePeakData,f.useWaveformData,f.useEQData,f.isMovieStar,f.isMovieStar?f.bufferTime:!1,f.loops||1,f.serverURL,f.duration||
null,f.autoPlay,!0,f.autoLoad,f.usePolicyFile);if(!f.serverURL){l.connected=!0;f.onconnect&&f.onconnect.apply(l)}}!f.serverURL&&(f.autoLoad||f.autoPlay)&&l.load(f)}!f.serverURL&&f.autoPlay&&l.play();return l};this.destroySound=function(e,t){if(!pt(e))return!1;var n=s.sounds[e],r;n._iO={};n.stop();n.unload();for(r=0;r<s.soundIDs.length;r++)if(s.soundIDs[r]===e){s.soundIDs.splice(r,1);break}t||n.destruct(!0);n=null;delete s.sounds[e];return!0};this.load=function(e,t){return pt(e)?s.sounds[e].load(t):!1};this.unload=function(e){return pt(e)?s.sounds[e].unload():!1};this.onPosition=function(e,t,n,r){return pt(e)?s.sounds[e].onposition(t,n,r):!1};this.onposition=this.onPosition;this.clearOnPosition=function(e,t,n){return pt(e)?s.sounds[e].clearOnPosition(t,n):!1};this.play=function(e,t){var n=null,r=t&&!(t instanceof Object);if(!T||!s.ok()){ht(a+".play(): "+st(T?"notOK":"notReady"));return!1}if(!pt(e,r)){if(!r)return!1;r&&(t={url:t});if(t&&t.url){s._wD(a+'.play(): Attempting to create "'+e+'"',1);t.id=e;n=s.createSound(t).play()}}else r&&(t={url:t});n===null&&(n=s.sounds[e].play(t));return n};this.start=this.play;this.setPosition=function(e,t){return pt(e)?s.sounds[e].setPosition(t):!1};this.stop=function(e){if(!pt(e))return!1;s._wD(a+".stop("+e+")",1);return s.sounds[e].stop()};this.stopAll=function(){var e;s._wD(a+".stopAll()",1);for(e in s.sounds)s.sounds.hasOwnProperty(e)&&s.sounds[e].stop()};this.pause=function(e){return pt(e)?s.sounds[e].pause():!1};this.pauseAll=function(){var e;for(e=s.soundIDs.length-1;e>=0;e--)s.sounds[s.soundIDs[e]].pause()};this.resume=function(e){return pt(e)?s.sounds[e].resume():!1};this.resumeAll=function(){var e;for(e=s.soundIDs.length-1;e>=0;e--)s.sounds[s.soundIDs[e]].resume()};this.togglePause=function(e){return pt(e)?s.sounds[e].togglePause():!1};this.setPan=function(e,t){return pt(e)?s.sounds[e].setPan(t):!1};this.setVolume=function(e,t){return pt(e)?s.sounds[e].setVolume(t):!1};this.mute=function(e){var t=0;e instanceof String&&(e=null);if(!!e){if(!pt(e))return!1;s._wD(a+'.mute(): Muting "'+e+'"');return s.sounds[e].mute()}s._wD(a+".mute(): Muting all sounds");for(t=s.soundIDs.length-1;t>=0;t--)s.sounds[s.soundIDs[t]].mute();s.muted=!0;return!0};this.muteAll=function(){s.mute()};this.unmute=function(e){var t;e instanceof String&&(e=null);if(!!e){if(!pt(e))return!1;s._wD(a+'.unmute(): Unmuting "'+e+'"');return s.sounds[e].unmute()}s._wD(a+".unmute(): Unmuting all sounds");for(t=s.soundIDs.length-1;t>=0;t--)s.sounds[s.soundIDs[t]].unmute();s.muted=!1;return!0};this.unmuteAll=function(){s.unmute()};this.toggleMute=function(e){return pt(e)?s.sounds[e].toggleMute():!1};this.getMemoryUse=function(){var e=0;u&&y!==8&&(e=parseInt(u._getMemoryUse(),10));return e};this.disable=function(n){var r;n===t&&(n=!1);if(N)return!1;N=!0;k("shutdown",1);for(r=s.soundIDs.length-1;r>=0;r--)et(s.sounds[s.soundIDs[r]]);A(n);_t.remove(e,"load",H);return!0};this.canPlayMIME=function(e){var t;s.hasHTML5&&(t=kt({type:e}));!t&&Tt&&(t=e&&s.ok()?!!((y>8?e.match(fn):null)||e.match(s.mimePattern)):null);return t};this.canPlayURL=function(e){var t;s.hasHTML5&&(t=kt({url:e}));!t&&Tt&&(t=e&&s.ok()?!!e.match(s.filePattern):null);return t};this.canPlayLink=function(e){return e.type!==t&&e.type&&s.canPlayMIME(e.type)?!0:s.canPlayURL(e.href)};this.getSoundById=function(e,t){if(!e)return null;var n=s.sounds[e];!n&&!t&&s._wD(a+'.getSoundById(): Sound "'+e+'" not found.',2);return n};this.onready=function(t,n){var r="onready",i=!1;if(typeof t!="function")throw st("needFunction",r);T&&s._wD(st("queue",r));n||(n=e);D(r,t,n);P();i=!0;return i};this.ontimeout=function(t,n){var r="ontimeout",i=!1;if(typeof t!="function")throw st("needFunction",r);T&&s._wD(st("queue",r));n||(n=e);D(r,t,n);P({type:r});i=!0;return i};this._writeDebug=function(e,n){var r="soundmanager-debug",i,o;if(!s.debugMode)return!1;if(Yt&&s.useConsole){n&&typeof n=="object"?console.log(e,n):Y[n]!==t?console[Y[n]](e):console.log(e);if(s.consoleOnly)return!0}i=c(r);if(!i)return!1;o=d.createElement("div");++L%2===0&&(o.className="sm2-alt");n===t?n=0:n=parseInt(n,10);o.appendChild(d.createTextNode(e));if(n){n>=2&&(o.style.fontWeight="bold");n===3&&(o.style.color="#ff3333")}i.insertBefore(o,i.firstChild);i=null;return!0};p.indexOf("sm2-debug=alert")!==-1&&(this._writeDebug=function(t){e.alert(t)});this._wD=this._writeDebug;this._debug=function(){var e,t;k("currentObj",1);for(e=0,t=s.soundIDs.length;e<t;e++)s.sounds[s.soundIDs[e]]._debug()};this.reboot=function(t,n){s.soundIDs.length&&s._wD("Destroying "+s.soundIDs.length+" SMSound object"+(s.soundIDs.length!==1?"s":"")+"...");var r,i,o;for(r=s.soundIDs.length-1;r>=0;r--)s.sounds[s.soundIDs[r]].destruct();if(u)try{Vt&&(it=u.innerHTML);rt=u.parentNode.removeChild(u)}catch(f){k("badRemove",2)}it=rt=Tt=u=null;s.enabled=V=T=dt=vt=S=x=N=Pt=s.swfLoaded=!1;s.soundIDs=[];s.sounds={};zt=0;if(!t){for(r in b)if(b.hasOwnProperty(r))for(i=0,o=b[r].length;i<o;i++)b[r][i].fired=!1}else b=[];n||s._wD(a+": Rebooting...");s.html5={usingFlash:null};s.flash={};s.html5Only=!1;s.ignoreFlash=!1;e.setTimeout(function(){z();n||s.beginDelayedInit()},20);return s};this.reset=function(){k("reset");return s.reboot(!0,!0)};this.getMoviePercent=function(){return u&&"PercentLoaded"in u?u.PercentLoaded():null};this.beginDelayedInit=function(){C=!0;W();setTimeout(function(){if(vt)return!1;J();U();vt=!0;return!0},20);B()};this.destruct=function(){s._wD(a+".destruct()");s.disable(!0)};i=function(e){var n=this,r,i,a,f,l,c,h=!1,p=[],d=0,v,m,g=null,b,w;b={duration:null,time:null};this.id=e.id;this.sID=this.id;this.url=e.url;this.options=O(e);this.instanceOptions=this.options;this._iO=this.instanceOptions;this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;w=this.url?!1:!0;this.id3={};this._debug=function(){s._wD(n.id+": Merged options:",n.options)};this.load=function(e){var r=null,i;if(e!==t)n._iO=O(e,n.options);else{e=n.options;n._iO=e;if(g&&g!==n.url){k("manURL");n._iO.url=n.url;n.url=null}}n._iO.url||(n._iO.url=n.url);n._iO.url=Et(n._iO.url);n.instanceOptions=n._iO;i=n._iO;s._wD(n.id+": load ("+i.url+")");if(!i.url&&!n.url){s._wD(n.id+": load(): url is unassigned. Exiting.",2);return n}!n.isHTML5&&y===8&&!n.url&&!i.autoPlay&&s._wD(n.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1);if(i.url===n.url&&n.readyState!==0&&n.readyState!==2){k("onURL",1);n.readyState===3&&i.onload&&Ut(n,function(){i.onload.apply(n,[!!n.duration])});return n}n.loaded=!1;n.readyState=1;n.playState=0;n.id3={};if(Ct(i)){r=n._setup_html5(i);if(!r._called_load){n._html5_canplay=!1;if(n.url!==i.url){s._wD(k("manURL")+": "+i.url);n._a.src=i.url;n.setPosition(0)}n._a.autobuffer="auto";n._a.preload="auto";n._a._called_load=!0}else s._wD(n.id+": Ignoring request to load again")}else{if(s.html5Only){s._wD(n.id+": No flash support. Exiting.");return n}if(n._iO.url&&n._iO.url.match(/data\:/i)){s._wD(n.id+": data: URIs not supported via Flash. Exiting.");return n}try{n.isHTML5=!1;n._iO=ct(lt(i));i=n._iO;y===8?u._load(n.id,i.url,i.stream,i.autoPlay,i.usePolicyFile):u._load(n.id,i.url,!!i.stream,!!i.autoPlay,i.loops||1,!!i.autoLoad,i.usePolicyFile)}catch(o){k("smError",2);E("onload",!1);K({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}n.url=i.url;return n};this.unload=function(){if(n.readyState!==0){s._wD(n.id+": unload()");if(!n.isHTML5)y===8?u._unload(n.id,sn):u._unload(n.id);else{f();if(n._a){n._a.pause();g=At(n._a)}}r()}return n};this.destruct=function(e){s._wD(n.id+": Destruct");if(!n.isHTML5){n._iO.onfailure=null;u._destroySound(n.id)}else{f();if(n._a){n._a.pause();At(n._a);Pt||a();n._a._s=null;n._a=null}}e||s.destroySound(n.id,!0)};this.play=function(e,r){var i,o,a,f,p,d,v,g=!0,b=null;i=n.id+": play(): ";r=r===t?!0:r;e||(e={});n.url&&(n._iO.url=n.url);n._iO=O(n._iO,n.options);n._iO=O(e,n._iO);n._iO.url=Et(n._iO.url);n.instanceOptions=n._iO;if(!n.isHTML5&&n._iO.serverURL&&!n.connected){if(!n.getAutoPlay()){s._wD(i+" Netstream not connected yet - setting autoPlay");n.setAutoPlay(!0)}return n}if(Ct(n._iO)){n._setup_html5(n._iO);l()}if(n.playState===1&&!n.paused){o=n._iO.multiShot;if(!o){s._wD(i+"Already playing (one-shot)",1);n.isHTML5&&n.setPosition(n._iO.position);b=n}else s._wD(i+"Already playing (multi-shot)",1)}if(b!==null)return b;e.url&&e.url!==n.url&&(!n.readyState&&!n.isHTML5&&y===8&&w?w=!1:n.load(n._iO));if(!n.loaded)if(n.readyState===0){s._wD(i+"Attempting to load");if(!n.isHTML5&&!s.html5Only){n._iO.autoPlay=!0;n.load(n._iO)}else if(n.isHTML5)n.load(n._iO);else{s._wD(i+"Unsupported type. Exiting.");b=n}n.instanceOptions=n._iO}else if(n.readyState===2){s._wD(i+"Could not load - exiting",2);b=n}else s._wD(i+"Loading - attempting to play...");else s._wD(i.substr(0,i.lastIndexOf(":")));if(b!==null)return b;if(!n.isHTML5&&y===9&&n.position>0&&n.position===n.duration){s._wD(i+"Sound at end, resetting to position:0");e.position=0}if(n.paused&&n.position>=0&&(!n._iO.serverURL||n.position>0)){s._wD(i+"Resuming from paused state",1);n.resume()}else{n._iO=O(e,n._iO);if(n._iO.from!==null&&n._iO.to!==null&&n.instanceCount===0&&n.playState===0&&!n._iO.serverURL){f=function(){n._iO=O(e,n._iO);n.play(n._iO)};if(n.isHTML5&&!n._html5_canplay){s._wD(i+"Beginning load for from/to case");n.load({_oncanplay:f});b=!1}else if(!n.isHTML5&&!n.loaded&&(!n.readyState||n.readyState!==2)){s._wD(i+"Preloading for from/to case");n.load({onload:f});b=!1}if(b!==null)return b;n._iO=m()}(!n.instanceCount||n._iO.multiShotEvents||n.isHTML5&&n._iO.multiShot&&!Pt||!n.isHTML5&&y>8&&!n.getAutoPlay())&&n.instanceCount++;n._iO.onposition&&n.playState===0&&c(n);n.playState=1;n.paused=!1;n.position=n._iO.position!==t&&!isNaN(n._iO.position)?n._iO.position:0;n.isHTML5||(n._iO=ct(lt(n._iO)));if(n._iO.onplay&&r){n._iO.onplay.apply(n);h=!0}n.setVolume(n._iO.volume,!0);n.setPan(n._iO.pan,!0);if(!n.isHTML5){g=u._start(n.id,n._iO.loops||1,y===9?n.position:n.position/rn,n._iO.multiShot||!1);if(y===9&&!g){s._wD(i+"No sound hardware, or 32-sound ceiling hit",2);n._iO.onplayerror&&n._iO.onplayerror.apply(n)}}else if(n.instanceCount<2){l();a=n._setup_html5();n.setPosition(n._iO.position);a.play()}else{s._wD(n.id+": Cloning Audio() for instance #"+n.instanceCount+"...");p=new Audio(n._iO.url);d=function(){_t.remove(p,"ended",d);n._onfinish(n);At(p);p=null};v=function(){_t.remove(p,"canplay",v);try{p.currentTime=n._iO.position/rn}catch(e){ht(n.id+": multiShot play() failed to apply position of "+n._iO.position/rn)}p.play()};_t.add(p,"ended",d);n._iO.volume!==undefined&&(p.volume=Math.max(0,Math.min(1,n._iO.volume/100)));n.muted&&(p.muted=!0);n._iO.position?_t.add(p,"canplay",v):p.play()}}return n};this.start=this.play;this.stop=function(e){var t=n._iO,r;if(n.playState===1){s._wD(n.id+": stop()");n._onbufferchange(0);n._resetOnPosition(0);n.paused=!1;n.isHTML5||(n.playState=0);v();t.to&&n.clearOnPosition(t.to);if(!n.isHTML5){u._stop(n.id,e);t.serverURL&&n.unload()}else if(n._a){r=n.position;n.setPosition(0);n.position=r;n._a.pause();n.playState=0;n._onTimer();f()}n.instanceCount=0;n._iO={};t.onstop&&t.onstop.apply(n)}return n};this.setAutoPlay=function(e){s._wD(n.id+": Autoplay turned "+(e?"on":"off"));n._iO.autoPlay=e;if(!n.isHTML5){u._setAutoPlay(n.id,e);if(e&&!n.instanceCount&&n.readyState===1){n.instanceCount++;s._wD(n.id+": Incremented instance count to "+n.instanceCount)}}};this.getAutoPlay=function(){return n._iO.autoPlay};this.setPosition=function(e){e===t&&(e=0);var r,i,o=n.isHTML5?Math.max(e,0):Math.min(n.duration||n._iO.duration,Math.max(e,0));n.position=o;i=n.position/rn;n._resetOnPosition(n.position);n._iO.position=o;if(!n.isHTML5){r=y===9?n.position:i;n.readyState&&n.readyState!==2&&u._setPosition(n.id,r,n.paused||!n.playState,n._iO.multiShot)}else if(n._a){if(n._html5_canplay){if(n._a.currentTime!==i){s._wD(n.id+": setPosition("+i+")");try{n._a.currentTime=i;(n.playState===0||n.paused)&&n._a.pause()}catch(a){s._wD(n.id+": setPosition("+i+") failed: "+a.message,2)}}}else if(i){s._wD(n.id+": setPosition("+i+"): Cannot seek yet, sound not ready",2);return n}n.paused&&n._onTimer(!0)}return n};this.pause=function(e){if(n.paused||n.playState===0&&n.readyState!==1)return n;s._wD(n.id+": pause()");n.paused=!0;if(!n.isHTML5)(e||e===t)&&u._pause(n.id,n._iO.multiShot);else{n._setup_html5().pause();f()}n._iO.onpause&&n._iO.onpause.apply(n);return n};this.resume=function(){var e=n._iO;if(!n.paused)return n;s._wD(n.id+": resume()");n.paused=!1;n.playState=1;if(!n.isHTML5){e.isMovieStar&&!e.serverURL&&n.setPosition(n.position);u._pause(n.id,e.multiShot)}else{n._setup_html5().play();l()}if(!h&&e.onplay){e.onplay.apply(n);h=!0}else e.onresume&&e.onresume.apply(n);return n};this.togglePause=function(){s._wD(n.id+": togglePause()");if(n.playState===0){n.play({position:y===9&&!n.isHTML5?n.position:n.position/rn});return n}n.paused?n.resume():n.pause();return n};this.setPan=function(e,r){e===t&&(e=0);r===t&&(r=!1);n.isHTML5||u._setPan(n.id,e);n._iO.pan=e;if(!r){n.pan=e;n.options.pan=e}return n};this.setVolume=function(e,r){e===t&&(e=100);r===t&&(r=!1);if(!n.isHTML5)u._setVolume(n.id,s.muted&&!n.muted||n.muted?0:e);else if(n._a){if(s.muted&&!n.muted){n.muted=!0;n._a.muted=!0}n._a.volume=Math.max(0,Math.min(1,e/100))}n._iO.volume=e;if(!r){n.volume=e;n.options.volume=e}return n};this.mute=function(){n.muted=!0;n.isHTML5?n._a&&(n._a.muted=!0):u._setVolume(n.id,0);return n};this.unmute=function(){n.muted=!1;var e=n._iO.volume!==t;n.isHTML5?n._a&&(n._a.muted=!1):u._setVolume(n.id,e?n._iO.volume:n.options.volume);return n};this.toggleMute=function(){return n.muted?n.unmute():n.mute()};this.onPosition=function(e,r,i){p.push({position:parseInt(e,10),method:r,scope:i!==t?i:n,fired:!1});return n};this.onposition=this.onPosition;this.clearOnPosition=function(e,t){var n;e=parseInt(e,10);if(isNaN(e))return!1;for(n=0;n<p.length;n++)if(e===p[n].position)if(!t||t===p[n].method){p[n].fired&&d--;p.splice(n,1)}};this._processOnPosition=function(){var e,t,r=p.length;if(!r||!n.playState||d>=r)return!1;for(e=r-1;e>=0;e--){t=p[e];if(!t.fired&&n.position>=t.position){t.fired=!0;d++;t.method.apply(t.scope,[t.position]);r=p.length}}return!0};this._resetOnPosition=function(e){var t,n,r=p.length;if(!r)return!1;for(t=r-1;t>=0;t--){n=p[t];if(n.fired&&e<=n.position){n.fired=!1;d--}}return!0};m=function(){var e=n._iO,t=e.from,r=e.to,i,o;o=function(){s._wD(n.id+': "To" time of '+r+" reached.");n.clearOnPosition(r,o);n.stop()};i=function(){s._wD(n.id+': Playing "from" '+t);r!==null&&!isNaN(r)&&n.onPosition(r,o)};if(t!==null&&!isNaN(t)){e.position=t;e.multiShot=!1;i()}return e};c=function(){var e,t=n._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&n.onPosition(parseInt(e,10),t[e])};v=function(){var e,t=n._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&n.clearOnPosition(parseInt(e,10))};l=function(){n.isHTML5&&mt(n)};f=function(){n.isHTML5&&gt(n)};r=function(e){if(!e){p=[];d=0}h=!1;n._hasTimer=null;n._a=null;n._html5_canplay=!1;n.bytesLoaded=null;n.bytesTotal=null;n.duration=n._iO&&n._iO.duration?n._iO.duration:null;n.durationEstimate=null;n.buffered=[];n.eqData=[];n.eqData.left=[];n.eqData.right=[];n.failures=0;n.isBuffering=!1;n.instanceOptions={};n.instanceCount=0;n.loaded=!1;n.metadata={};n.readyState=0;n.muted=!1;n.paused=!1;n.peakData={left:0,right:0};n.waveformData={left:[],right:[]};n.playState=0;n.position=null;n.id3={}};r();this._onTimer=function(e){var t,r=!1,i,s={};if(n._hasTimer||e){if(n._a&&(e||(n.playState>0||n.readyState===1)&&!n.paused)){t=n._get_html5_duration();if(t!==b.duration){b.duration=t;n.duration=t;r=!0}n.durationEstimate=n.duration;i=n._a.currentTime*rn||0;if(i!==b.time){b.time=i;r=!0}(r||e)&&n._whileplaying(i,s,s,s,s)}return r}};this._get_html5_duration=function(){var e=n._iO,t=n._a&&n._a.duration?n._a.duration*rn:e&&e.duration?e.duration:null,r=t&&!isNaN(t)&&t!==Infinity?t:null;return r};this._apply_loop=function(e,t){!e.loop&&t>1&&s._wD("Note: Native HTML5 looping is infinite.",1);e.loop=t>1?"loop":""};this._setup_html5=function(e){var t=O(n._iO,e),s=Pt?o:n._a,u=decodeURI(t.url),a;Pt?u===decodeURI(Ht)&&(a=!0):u===decodeURI(g)&&(a=!0);if(s){if(s._s)if(Pt)s._s&&s._s.playState&&!a&&s._s.stop();else if(!Pt&&u===decodeURI(g)){n._apply_loop(s,t.loops);return s}if(!a){g&&r(!1);s.src=t.url;n.url=t.url;g=t.url;Ht=t.url;s._called_load=!1}}else{if(t.autoLoad||t.autoPlay){n._a=new Audio(t.url);n._a.load()}else n._a=Kt&&opera.version()<10?new Audio(null):new Audio;s=n._a;s._called_load=!1;Pt&&(o=s)}n.isHTML5=!0;n._a=s;s._s=n;i();n._apply_loop(s,t.loops);if(t.autoLoad||t.autoPlay)n.load();else{s.autobuffer=!1;s.preload="auto"}return s};i=function(){function t(e,t,r){return n._a?n._a.addEventListener(e,t,r||!1):null}if(n._a._added_events)return!1;var e;n._a._added_events=!0;for(e in It)It.hasOwnProperty(e)&&t(e,It[e]);return!0};a=function(){function t(e,t,r){return n._a?n._a.removeEventListener(e,t,r||!1):null}var e;s._wD(n.id+": Removing event listeners");n._a._added_events=!1;for(e in It)It.hasOwnProperty(e)&&t(e,It[e])};this._onload=function(e){var t,r=!!e||!n.isHTML5&&y===8&&n.duration;t=n.id+": ";s._wD(t+(r?"onload()":"Failed to load / invalid sound?"+(n.duration?" -":" Zero-length duration reported.")+" ("+n.url+")"),r?1:2);if(!r&&!n.isHTML5){s.sandbox.noRemote===!0&&s._wD(t+st("noNet"),1);s.sandbox.noLocal===!0&&s._wD(t+st("noLocal"),1)}n.loaded=r;n.readyState=r?3:2;n._onbufferchange(0);n._iO.onload&&Ut(n,function(){n._iO.onload.apply(n,[r])});return!0};this._onbufferchange=function(e){if(n.playState===0)return!1;if(e&&n.isBuffering||!e&&!n.isBuffering)return!1;n.isBuffering=e===1;if(n._iO.onbufferchange){s._wD(n.id+": Buffer state change: "+e);n._iO.onbufferchange.apply(n)}return!0};this._onsuspend=function(){if(n._iO.onsuspend){s._wD(n.id+": Playback suspended");n._iO.onsuspend.apply(n)}return!0};this._onfailure=function(e,t,r){n.failures++;s._wD(n.id+": Failures = "+n.failures);n._iO.onfailure&&n.failures===1?n._iO.onfailure(n,e,t,r):s._wD(n.id+": Ignoring failure")};this._onfinish=function(){var e=n._iO.onfinish;n._onbufferchange(0);n._resetOnPosition(0);if(n.instanceCount){n.instanceCount--;if(!n.instanceCount){v();n.playState=0;n.paused=!1;n.instanceCount=0;n.instanceOptions={};n._iO={};f();n.isHTML5&&(n.position=0)}if(!n.instanceCount||n._iO.multiShotEvents)if(e){s._wD(n.id+": onfinish()");Ut(n,function(){e.apply(n)})}}};this._whileloading=function(e,t,r,i){var s=n._iO;n.bytesLoaded=e;n.bytesTotal=t;n.duration=Math.floor(r);n.bufferLength=i;!n.isHTML5&&!s.isMovieStar?s.duration?n.durationEstimate=n.duration>s.duration?n.duration:s.duration:n.durationEstimate=parseInt(n.bytesTotal/n.bytesLoaded*n.duration,10):n.durationEstimate=n.duration;n.isHTML5||(n.buffered=[{start:0,end:n.duration}]);(n.readyState!==3||n.isHTML5)&&s.whileloading&&s.whileloading.apply(n)};this._whileplaying=function(e,r,i,s,o){var u=n._iO,a;if(isNaN(e)||e===null)return!1;n.position=Math.max(0,e);n._processOnPosition();if(!n.isHTML5&&y>8){u.usePeakData&&r!==t&&r&&(n.peakData={left:r.leftPeak,right:r.rightPeak});u.useWaveformData&&i!==t&&i&&(n.waveformData={left:i.split(","),right:s.split(",")});if(u.useEQData&&o!==t&&o&&o.leftEQ){a=o.leftEQ.split(",");n.eqData=a;n.eqData.left=a;o.rightEQ!==t&&o.rightEQ&&(n.eqData.right=o.rightEQ.split(","))}}if(n.playState===1){!n.isHTML5&&y===8&&!n.position&&n.isBuffering&&n._onbufferchange(0);u.whileplaying&&u.whileplaying.apply(n)}return!0};this._oncaptiondata=function(e){s._wD(n.id+": Caption data received.");n.captiondata=e;n._iO.oncaptiondata&&n._iO.oncaptiondata.apply(n,[e])};this._onmetadata=function(e,t){s._wD(n.id+": Metadata received.");var r={},i,o;for(i=0,o=e.length;i<o;i++)r[e[i]]=t[i];n.metadata=r;n._iO.onmetadata&&n._iO.onmetadata.apply(n)};this._onid3=function(e,t){s._wD(n.id+": ID3 data received.");var r=[],i,o;for(i=0,o=e.length;i<o;i++)r[e[i]]=t[i];n.id3=O(n.id3,r);n._iO.onid3&&n._iO.onid3.apply(n)};this._onconnect=function(e){e=e===1;s._wD(n.id+": "+(e?"Connected.":"Failed to connect? - "+n.url),e?1:2);n.connected=e;if(e){n.failures=0;pt(n.id)&&(n.getAutoPlay()?n.play(t,n.getAutoPlay()):n._iO.autoLoad&&n.load());n._iO.onconnect&&n._iO.onconnect.apply(n,[e])}};this._ondataerror=function(e){if(n.playState>0){s._wD(n.id+": Data error: "+e);n._iO.ondataerror&&n._iO.ondataerror.apply(n)}};this._debug()};$=function(){return d.body||d.getElementsByTagName("div")[0]};c=function(e){return d.getElementById(e)};O=function(e,n){var r=e||{},i,o;i=n===t?s.defaultOptions:n;for(o in i)i.hasOwnProperty(o)&&r[o]===t&&(typeof i[o]!="object"||i[o]===null?r[o]=i[o]:r[o]=O(r[o],i[o]));return r};Ut=function(t,n){!t.isHTML5&&y===8?e.setTimeout(n,0):n()};_={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};M=function(e,n){var r,i=!0,o=n!==t,u=s.setupOptions,a=_;if(e===t){i=[];for(r in u)u.hasOwnProperty(r)&&i.push(r);for(r in a)a.hasOwnProperty(r)&&(typeof s[r]=="object"?i.push(r+": {...}"):s[r]instanceof Function?i.push(r+": function() {...}"):i.push(r));s._wD(st("setup",i.join(", ")));return!1}for(r in e)if(e.hasOwnProperty(r))if(typeof e[r]!="object"||e[r]===null||e[r]instanceof Array||e[r]instanceof RegExp)if(o&&a[n]!==t)s[n][r]=e[r];else if(u[r]!==t){s.setupOptions[r]=e[r];s[r]=e[r]}else if(a[r]===t){ht(st(s[r]===t?"setupUndef":"setupError",r),2);i=!1}else s[r]instanceof Function?s[r].apply(s,e[r]instanceof Array?e[r]:[e[r]]):s[r]=e[r];else{if(a[r]!==t)return M(e[r],r);ht(st(s[r]===t?"setupUndef":"setupError",r),2);i=!1}return i};_t=function(){function r(e){var n=Dt.call(e),r=n.length;if(t){n[1]="on"+n[1];r>3&&n.pop()}else r===3&&n.push(!1);return n}function i(e,r){var i=e.shift(),s=[n[r]];t?i[s](e[0],e[1]):i[s].apply(i,e)}function s(){i(r(arguments),"add")}function o(){i(r(arguments),"remove")}var t=e.attachEvent,n={add:t?"attachEvent":"addEventListener",remove:t?"detachEvent":"removeEventListener"};return{add:s,remove:o}}();It={abort:pn(function(){s._wD(this._s.id+": abort")}),canplay:pn(function(){var e=this._s,n;if(e._html5_canplay)return!0;e._html5_canplay=!0;s._wD(e.id+": canplay");e._onbufferchange(0);n=e._iO.position!==t&&!isNaN(e._iO.position)?e._iO.position/rn:null;if(e.position&&this.currentTime!==n){s._wD(e.id+": canplay: Setting position to "+n);try{this.currentTime=n}catch(r){s._wD(e.id+": canplay: Setting position of "+n+" failed: "+r.message,2)}}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:pn(function(){var e=this._s;if(!e.loaded){e._onbufferchange(0);e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration());e._onload(!0)}}),ended:pn(function(){var e=this._s;s._wD(e.id+": ended");e._onfinish()}),error:pn(function(){s._wD(this._s.id+": HTML5 error, code "+this.error.code);this._s._onload(!1)}),loadeddata:pn(function(){var e=this._s;s._wD(e.id+": loadeddata");!e._loaded&&!Jt&&(e.duration=e._get_html5_duration())}),loadedmetadata:pn(function(){s._wD(this._s.id+": loadedmetadata")}),loadstart:pn(function(){s._wD(this._s.id+": loadstart");this._s._onbufferchange(1)}),play:pn(function(){this._s._onbufferchange(0)}),playing:pn(function(){s._wD(this._s.id+": playing");this._s._onbufferchange(0)}),progress:pn(function(e){var t=this._s,n,r,i,o=0,u=e.type==="progress",a=e.target.buffered,f=e.loaded||0,l=e.total||1;t.buffered=[];if(a&&a.length){for(n=0,r=a.length;n<r;n++)t.buffered.push({start:a.start(n)*rn,end:a.end(n)*rn});o=(a.end(0)-a.start(0))*rn;f=Math.min(1,o/(e.target.duration*rn));if(u&&a.length>1){i=[];r=a.length;for(n=0;n<r;n++)i.push(e.target.buffered.start(n)*rn+"-"+e.target.buffered.end(n)*rn);s._wD(this._s.id+": progress, timeRanges: "+i.join(", "))}u&&!isNaN(f)&&s._wD(this._s.id+": progress, "+Math.floor(f*100)+"% loaded")}if(!isNaN(f)){t._onbufferchange(0);t._whileloading(f,l,t._get_html5_duration());f&&l&&f===l&&It.canplaythrough.call(this,e)}}),ratechange:pn(function(){s._wD(this._s.id+": ratechange")}),suspend:pn(function(e){var t=this._s;s._wD(this._s.id+": suspend");It.progress.call(this,e);t._onsuspend()}),stalled:pn(function(){s._wD(this._s.id+": stalled")}),timeupdate:pn(function(){this._s._onTimer()}),waiting:pn(function(){var e=this._s;s._wD(this._s.id+": waiting");e._onbufferchange(1)})};Ct=function(e){var t;!e||!e.type&&!e.url&&!e.serverURL?t=!1:e.serverURL||e.type&&hn(e.type)?t=!1:t=e.type?kt({type:e.type}):kt({url:e.url})||s.html5Only||e.url.match(/data\:/i);return t};At=function(e){var t;if(e){t=Jt?sn:s.html5.canPlayType("audio/wav")?on:sn;e.src=t;e._called_unload!==undefined&&(e._called_load=!1)}Pt&&(Ht=null);return t};kt=function(e){if(!s.useHTML5Audio||!s.hasHTML5)return!1;var n=e.url||null,r=e.type||null,i=s.audioFormats,o,u,a,f;if(r&&s.html5[r]!==t)return s.html5[r]&&!hn(r);if(!Lt){Lt=[];for(f in i)if(i.hasOwnProperty(f)){Lt.push(f);i[f].related&&(Lt=Lt.concat(i[f].related))}Lt=new RegExp("\\.("+Lt.join("|")+")(\\?.*)?$","i")}a=n?n.toLowerCase().match(Lt):null;if(!a||!a.length)if(!r)o=!1;else{u=r.indexOf(";");a=(u!==-1?r.substr(0,u):r).substr(6)}else a=a[1];if(a&&s.html5[a]!==t)o=s.html5[a]&&!hn(a);else{r="audio/"+a;o=s.html5.canPlayType({type:r});s.html5[a]=o;o=o&&s.html5[r]&&!hn(r)}return o};Mt=function(){function a(t){var n,r,i=!1,o=!1;if(!e||typeof e.canPlayType!="function")return i;if(t instanceof Array){for(u=0,r=t.length;u<r;u++)if(s.html5[t[u]]||e.canPlayType(t[u]).match(s.html5Test)){o=!0;s.html5[t[u]]=!0;s.flash[t[u]]=!!t[u].match(nn)}i=o}else{n=e&&typeof e.canPlayType=="function"?e.canPlayType(t):!1;i=!!n&&!!n.match(s.html5Test)}return i}if(!s.useHTML5Audio||!s.hasHTML5){s.html5.usingFlash=!0;Tt=!0;return!1}var e=Audio!==t?Kt&&opera.version()<10?new Audio(null):new Audio:null,n,r,i={},o,u;o=s.audioFormats;for(n in o)if(o.hasOwnProperty(n)){r="audio/"+n;i[n]=a(o[n].type);i[r]=i[n];if(n.match(nn)){s.flash[n]=!0;s.flash[r]=!0}else{s.flash[n]=!1;s.flash[r]=!1}if(o[n]&&o[n].related)for(u=o[n].related.length-1;u>=0;u--){i["audio/"+o[n].related[u]]=i[n];s.html5[o[n].related[u]]=i[n];s.flash[o[n].related[u]]=i[n]}}i.canPlayType=e?a:null;s.html5=O(s.html5,i);s.html5.usingFlash=Nt();Tt=s.html5.usingFlash;return!0};R={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:a+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:f+"Verify that %s is a valid path.",tryDebug:"Try "+a+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:f+"Non-HTTP page ("+d.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:f+"Special case: Waiting for SWF to load with window focus...",waitForever:f+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:f+"Waiting for 100% SWF load...",needFunction:f+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:f+"_debug(): Current sound objects",waitOnload:f+"Waiting for window.onload()",docLoaded:f+"Document already loaded",onload:f+"initComplete(): calling soundManager.onload()",onloadOK:a+".onload() complete",didInit:f+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:f+"Failed to remove Flash node.",shutdown:a+".disable(): Shutting down",queue:f+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+at.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:f+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:a+".load(): current URL already assigned.",badFV:a+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:f+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:f+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:a+".setup(): allowed parameters: %s",setupError:a+'.setup(): "%s" cannot be assigned with this method.',setupUndef:a+'.setup(): Could not find option "%s"',setupLate:a+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:f+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready.",reset:a+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device."};st=function(){var e,t,n,r,i;e=Dt.call(arguments);r=e.shift();i=R&&R[r]?R[r]:"";if(i&&e&&e.length)for(t=0,n=e.length;t<n;t++)i=i.replace("%s",e[t]);return i};lt=function(e){if(y===8&&e.loops>1&&e.stream){k("as2loop");e.stream=!1}return e};ct=function(e,t){if(e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)){s._wD((t||"")+st("policy"));e.usePolicyFile=!0}return e};ht=function(e){Yt&&console.warn!==t?console.warn(e):s._wD(e)};v=function(){return!1};et=function(e){var t;for(t in e)e.hasOwnProperty(t)&&typeof e[t]=="function"&&(e[t]=v);t=null};tt=function(e){e===t&&(e=!1);(N||e)&&s.disable(e)};nt=function(e){var t=null,n;if(e)if(e.match(/\.swf(\?.*)?$/i)){t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4);if(t)return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");n=(e&&e.lastIndexOf("/")!==-1?e.substr(0,e.lastIndexOf("/")+1):"./")+s.movieURL;s.noSWFCache&&(n+="?ts="+(new Date).getTime());return n};I=function(){y=parseInt(s.flashVersion,10);if(y!==8&&y!==9){s._wD(st("badFV",y,Z));s.flashVersion=y=Z}var e=s.debugMode||s.debugFlash?"_debug.swf":".swf";if(s.useHTML5Audio&&!s.html5Only&&s.audioFormats.mp4.required&&y<9){s._wD(st("needfl9"));s.flashVersion=y=9}s.version=s.versionNumber+(s.html5Only?" (HTML5-only mode)":y===9?" (AS3/Flash 9)":" (AS2/Flash 8)");if(y>8){s.defaultOptions=O(s.defaultOptions,s.flash9Options);s.features.buffering=!0;s.defaultOptions=O(s.defaultOptions,s.movieStarOptions);s.filePatterns.flash9=new RegExp("\\.(mp3|"+ln.join("|")+")(\\?.*)?$","i");s.features.movieStar=!0}else s.features.movieStar=!1;s.filePattern=s.filePatterns[y!==8?"flash9":"flash8"];s.movieURL=(y===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e);s.features.peakData=s.features.waveformData=s.features.eqData=y>8};Q=function(e,t){if(!u)return!1;u._setPolling(e,t)};G=function(){s.debugURLParam.test(p)&&(s.debugMode=!0);if(c(s.debugID))return!1;var e,t,n,r,i;if(s.debugMode&&!c(s.debugID)&&(!Yt||!s.useConsole||!s.consoleOnly)){e=d.createElement("div");e.id=s.debugID+"-toggle";r={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001};e.appendChild(d.createTextNode("-"));e.onclick=ft;e.title="Toggle SM2 debug console";if(h.match(/msie 6/i)){e.style.position="absolute";e.style.cursor="hand"}for(i in r)r.hasOwnProperty(i)&&(e.style[i]=r[i]);t=d.createElement("div");t.id=s.debugID;t.style.display=s.debugMode?"block":"none";if(s.debugMode&&!c(e.id)){try{n=$();n.appendChild(e)}catch(o){throw new Error(st("domError")+" \n"+o.toString())}n.appendChild(t)}}n=null};pt=this.getSoundById;k=function(e,t){return e?s._wD(st(e),t):""};ft=function(){var e=c(s.debugID),t=c(s.debugID+"-toggle");if(!e)return!1;if(w){t.innerHTML="+";e.style.display="none"}else{t.innerHTML="-";e.style.display="block"}w=!w};E=function(n,r,i){if(e.sm2Debugger!==t)try{sm2Debugger.handleEvent(n,r,i)}catch(s){return!1}return!0};ut=function(){var e=[];s.debugMode&&e.push(at.sm2Debug);s.debugFlash&&e.push(at.flashDebug);s.useHighPerformance&&e.push(at.highPerf);return e.join(" ")};ot=function(){var e=st("fbHandler"),t=s.getMoviePercent(),n=at,r={type:"FLASHBLOCK"};if(s.html5Only)return!1;if(!s.ok()){if(Tt){s.oMC.className=ut()+" "+n.swfDefault+" "+(t===null?n.swfTimedout:n.swfError);s._wD(e+": "+st("fbTimeout")+(t?" ("+st("fbLoaded")+")":""))}s.didFlashBlock=!0;P({type:"ontimeout",ignoreInit:!0,error:r});K(r)}else{s.didFlashBlock&&s._wD(e+": Unblocked");s.oMC&&(s.oMC.className=[ut(),n.swfDefault,n.swfLoaded+(s.didFlashBlock?" "+n.swfUnblocked:"")].join(" "))}};D=function(e,n,r){b[e]===t&&(b[e]=[]);b[e].push({method:n,scope:r||null,fired:!1})};P=function(e){e||(e={type:s.ok()?"onready":"ontimeout"});if(!
T&&e&&!e.ignoreInit)return!1;if(e.type==="ontimeout"&&(s.ok()||N&&!e.ignoreInit))return!1;var t={success:e&&e.ignoreInit?s.ok():!N},n=e&&e.type?b[e.type]||[]:[],r=[],i,o,u=[t],a=Tt&&!s.ok();e.error&&(u[0].error=e.error);for(i=0,o=n.length;i<o;i++)n[i].fired!==!0&&r.push(n[i]);if(r.length)for(i=0,o=r.length;i<o;i++){r[i].scope?r[i].method.apply(r[i].scope,u):r[i].method.apply(this,u);a||(r[i].fired=!0)}return!0};H=function(){e.setTimeout(function(){s.useFlashBlock&&ot();P();if(typeof s.onload=="function"){k("onload",1);s.onload.apply(e);k("onloadOK",1)}s.waitForWindowLoad&&_t.add(e,"load",H)},1)};jt=function(){if(Bt!==t)return Bt;var n=!1,r=navigator,i=r.plugins,s,o,u,a=e.ActiveXObject;if(i&&i.length){o="application/x-shockwave-flash";u=r.mimeTypes;u&&u[o]&&u[o].enabledPlugin&&u[o].enabledPlugin.description&&(n=!0)}else if(a!==t&&!h.match(/MSAppHost/i)){try{s=new a("ShockwaveFlash.ShockwaveFlash")}catch(f){s=null}n=!!s;s=null}Bt=n;return n};Nt=function(){var e,t,n=s.audioFormats,r=Wt&&!!h.match(/os (1|2|3_0|3_1)/i);if(r){s.hasHTML5=!1;s.html5Only=!0;s.oMC&&(s.oMC.style.display="none")}else if(s.useHTML5Audio){if(!s.html5||!s.html5.canPlayType){s._wD("SoundManager: No HTML5 Audio() support detected.");s.hasHTML5=!1}Gt&&s._wD(f+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(Bt?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)}if(s.useHTML5Audio&&s.hasHTML5){xt=!0;for(t in n)if(n.hasOwnProperty(t)&&n[t].required)if(!s.html5.canPlayType(n[t].type)){xt=!1;e=!0}else s.preferFlash&&(s.flash[t]||s.flash[n[t].type])&&(e=!0)}if(s.ignoreFlash){e=!1;xt=!0}s.html5Only=s.hasHTML5&&s.useHTML5Audio&&!e;return!s.html5Only};Et=function(e){var t,n,r=0,i;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(s.canPlayMIME(e[t].type)){r=t;break}}else if(s.canPlayURL(e[t])){r=t;break}e[r].url&&(e[r]=e[r].url);i=e[r]}else i=e;return i};mt=function(e){if(!e._hasTimer){e._hasTimer=!0;if(!Qt&&s.html5PollingInterval){wt===null&&bt===0&&(wt=setInterval(yt,s.html5PollingInterval));bt++}}};gt=function(e){if(e._hasTimer){e._hasTimer=!1;!Qt&&s.html5PollingInterval&&bt--}};yt=function(){var e;if(wt!==null&&!bt){clearInterval(wt);wt=null;return!1}for(e=s.soundIDs.length-1;e>=0;e--)s.sounds[s.soundIDs[e]].isHTML5&&s.sounds[s.soundIDs[e]]._hasTimer&&s.sounds[s.soundIDs[e]]._onTimer()};K=function(n){n=n!==t?n:{};typeof s.onerror=="function"&&s.onerror.apply(e,[{type:n.type!==t?n.type:null}]);n.fatal!==t&&n.fatal&&s.disable()};Ft=function(){if(!Gt||!jt())return!1;var e=s.audioFormats,t,n;for(n in e)if(e.hasOwnProperty(n))if(n==="mp3"||n==="mp4"){s._wD(a+": Using flash fallback for "+n+" format");s.html5[n]=!1;if(e[n]&&e[n].related)for(t=e[n].related.length-1;t>=0;t--)s.html5[e[n].related[t]]=!1}};this._setSandboxType=function(e){var n=s.sandbox;n.type=e;n.description=n.types[n.types[e]!==t?e:"unknown"];if(n.type==="localWithFile"){n.noRemote=!0;n.noLocal=!1;k("secNote",2)}else if(n.type==="localWithNetwork"){n.noRemote=!1;n.noLocal=!0}else if(n.type==="localTrusted"){n.noRemote=!1;n.noLocal=!1}};this._externalInterfaceOK=function(e){if(s.swfLoaded)return!1;var t;E("swf",!0);E("flashtojs",!0);s.swfLoaded=!0;en=!1;Gt&&Ft();if(!e||e.replace(/\+dev/i,"")!==s.versionNumber.replace(/\+dev/i,"")){t=a+': Fatal: JavaScript file build "'+s.versionNumber+'" does not match Flash SWF build "'+e+'" at '+s.url+". Ensure both are up-to-date.";setTimeout(function(){throw new Error(t)},0);return!1}setTimeout(g,Vt?100:1)};J=function(e,n){function r(){var e=[],t,n=[],r=" + ";t="SoundManager "+s.version+(!s.html5Only&&s.useHTML5Audio?s.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"");if(!s.html5Only){s.preferFlash&&e.push("preferFlash");s.useHighPerformance&&e.push("useHighPerformance");s.flashPollingInterval&&e.push("flashPollingInterval ("+s.flashPollingInterval+"ms)");s.html5PollingInterval&&e.push("html5PollingInterval ("+s.html5PollingInterval+"ms)");s.wmode&&e.push("wmode ("+s.wmode+")");s.debugFlash&&e.push("debugFlash");s.useFlashBlock&&e.push("flashBlock")}else s.html5PollingInterval&&e.push("html5PollingInterval ("+s.html5PollingInterval+"ms)");e.length&&(n=n.concat([e.join(r)]));s._wD(t+(n.length?r+n.join(", "):""),1);qt()}function C(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(S&&x)return!1;if(s.html5Only){I();r();s.oMC=c(s.movieID);g();S=!0;x=!0;return!1}var i=n||s.url,o=s.altURL||i,u="JS/Flash audio component (SoundManager 2)",a=$(),f=ut(),l=null,p=d.getElementsByTagName("html")[0],v,m,y,b,w,E,T,N;l=p&&p.dir&&p.dir.match(/rtl/i);e=e===t?s.id:e;I();s.url=nt(un?i:o);n=s.url;s.wmode=!s.wmode&&s.useHighPerformance?"transparent":s.wmode;if(s.wmode!==null&&(h.match(/msie 8/i)||!Vt&&!s.useHighPerformance)&&navigator.platform.match(/win32|win64/i)){St.push(R.spcWmode);s.wmode=null}v={name:e,id:e,src:n,quality:"high",allowScriptAccess:s.allowScriptAccess,bgcolor:s.bgColor,pluginspage:an+"www.macromedia.com/go/getflashplayer",title:u,type:"application/x-shockwave-flash",wmode:s.wmode,hasPriority:"true"};s.debugFlash&&(v.FlashVars="debug=1");s.wmode||delete v.wmode;if(Vt){m=d.createElement("div");b=['<object id="'+e+'" data="'+n+'" type="'+v.type+'" title="'+v.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+an+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',C("movie",n),C("AllowScriptAccess",s.allowScriptAccess),C("quality",v.quality),s.wmode?C("wmode",s.wmode):"",C("bgcolor",s.bgColor),C("hasPriority","true"),s.debugFlash?C("FlashVars",v.FlashVars):"","</object>"].join("")}else{m=d.createElement("embed");for(y in v)v.hasOwnProperty(y)&&m.setAttribute(y,v[y])}G();f=ut();a=$();if(a){s.oMC=c(s.movieID)||d.createElement("div");if(!s.oMC.id){s.oMC.id=s.movieID;s.oMC.className=at.swfDefault+" "+f;E=null;w=null;if(!s.useFlashBlock)if(s.useHighPerformance)E={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"};else{E={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"};l&&(E.left=Math.abs(parseInt(E.left,10))+"px")}$t&&(s.oMC.style.zIndex=1e4);if(!s.debugFlash)for(T in E)E.hasOwnProperty(T)&&(s.oMC.style[T]=E[T]);try{Vt||s.oMC.appendChild(m);a.appendChild(s.oMC);if(Vt){w=s.oMC.appendChild(d.createElement("div"));w.className=at.swfBox;w.innerHTML=b}x=!0}catch(k){throw new Error(st("domError")+" \n"+k.toString())}}else{N=s.oMC.className;s.oMC.className=(N?N+" ":at.swfDefault)+(f?" "+f:"");s.oMC.appendChild(m);if(Vt){w=s.oMC.appendChild(d.createElement("div"));w.className=at.swfBox;w.innerHTML=b}x=!0}}S=!0;r();return!0};U=function(){if(s.html5Only){J();return!1}if(u)return!1;if(!s.url){k("noURL");return!1}u=s.getMovie(s.id);if(!u){if(!rt)J(s.id,s.url);else{Vt?s.oMC.innerHTML=it:s.oMC.appendChild(rt);rt=null;S=!0}u=s.getMovie(s.id)}typeof s.oninitmovie=="function"&&setTimeout(s.oninitmovie,1);Rt();return!0};B=function(){setTimeout(j,1e3)};F=function(){e.setTimeout(function(){ht(f+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false...");s.setup({preferFlash:!1}).reboot();s.didFlashBlock=!0;s.beginDelayedInit()},1)};j=function(){var t,n=!1;if(!s.url)return!1;if(dt)return!1;dt=!0;_t.remove(e,"load",B);if(Bt&&en&&!Zt){k("waitFocus");return!1}if(!T){t=s.getMoviePercent();t>0&&t<100&&(n=!0)}setTimeout(function(){t=s.getMoviePercent();if(n){dt=!1;s._wD(st("waitSWF"));e.setTimeout(B,1);return!1}if(!T){s._wD(a+": No Flash response within expected time. Likely causes: "+(t===0?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(s.debugFlash?" "+st("checkSWF"):""),2);if(!un&&t){k("localFail",2);s.debugFlash||k("tryDebug",2)}t===0&&s._wD(st("swf404",s.url),1);E("flashtojs",!1,": Timed out"+un?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)")}if(!T&&tn)if(t===null)if(s.useFlashBlock||s.flashLoadTimeout===0){s.useFlashBlock&&ot();k("waitForever")}else if(!s.useFlashBlock&&xt)F();else{k("waitForever");P({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})}else s.flashLoadTimeout===0?k("waitForever"):!s.useFlashBlock&&xt?F():tt(!0)},s.flashLoadTimeout)};q=function(){function t(){_t.remove(e,"focus",q)}if(Zt||!en){t();return!0}tn=!0;Zt=!0;k("gotFocus");dt=!1;B();t();return!0};Rt=function(){if(St.length){s._wD("SoundManager 2: "+St.join(" "),1);St=[]}};qt=function(){Rt();var e,t=[];if(s.useHTML5Audio&&s.hasHTML5){for(e in s.audioFormats)s.audioFormats.hasOwnProperty(e)&&t.push(e+" = "+s.html5[e]+(!s.html5[e]&&Tt&&s.flash[e]?" (using flash)":s.preferFlash&&s.flash[e]&&Tt?" (preferring flash)":s.html5[e]?"":" ("+(s.audioFormats[e].required?"required, ":"")+"and no flash support)"));s._wD("SoundManager 2 HTML5 support: "+t.join(", "),1)}};A=function(t){if(T)return!1;if(s.html5Only){k("sm2Loaded");T=!0;H();E("onload",!0);return!0}var n=s.useFlashBlock&&s.flashLoadTimeout&&!s.getMoviePercent(),r=!0,i;n||(T=!0);i={type:!Bt&&Tt?"NO_FLASH":"INIT_TIMEOUT"};s._wD("SoundManager 2 "+(N?"failed to load":"loaded")+" ("+(N?"Flash security/load error":"OK")+")",N?2:1);if(N||t){s.useFlashBlock&&s.oMC&&(s.oMC.className=ut()+" "+(s.getMoviePercent()===null?at.swfTimedout:at.swfError));P({type:"ontimeout",error:i,ignoreInit:!0});E("onload",!1);K(i);r=!1}else E("onload",!0);if(!N)if(s.waitForWindowLoad&&!C){k("waitOnload");_t.add(e,"load",H)}else{s.waitForWindowLoad&&C&&k("docLoaded");H()}return r};m=function(){var e,n=s.setupOptions;for(e in n)n.hasOwnProperty(e)&&(s[e]===t?s[e]=n[e]:s[e]!==n[e]&&(s.setupOptions[e]=s[e]))};g=function(){function t(){_t.remove(e,"load",s.beginDelayedInit)}if(T){k("didInit");return!1}if(s.html5Only){if(!T){t();s.enabled=!0;A()}return!0}U();try{u._externalInterfaceTest(!1);Q(!0,s.flashPollingInterval||(s.useHighPerformance?10:50));s.debugMode||u._disableDebug();s.enabled=!0;E("jstoflash",!0);s.html5Only||_t.add(e,"unload",v)}catch(n){s._wD("js/flash exception: "+n.toString());E("jstoflash",!1);K({type:"JS_TO_FLASH_EXCEPTION",fatal:!0});tt(!0);A();return!1}A();t();return!0};W=function(){if(V)return!1;V=!0;m();G();(function(){var e="sm2-usehtml5audio=",t="sm2-preferflash=",n=null,r=null,i=p.toLowerCase();if(i.indexOf(e)!==-1){n=i.charAt(i.indexOf(e)+e.length)==="1";Yt&&console.log((n?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter");s.setup({useHTML5Audio:n})}if(i.indexOf(t)!==-1){r=i.charAt(i.indexOf(t)+t.length)==="1";Yt&&console.log((r?"Enabling ":"Disabling ")+"preferFlash via URL parameter");s.setup({preferFlash:r})}})();if(!Bt&&s.hasHTML5){s._wD("SoundManager 2: No Flash detected"+(s.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1);s.setup({useHTML5Audio:!0,preferFlash:!1})}Mt();if(!Bt&&Tt){St.push(R.needFlash);s.setup({flashLoadTimeout:1})}d.removeEventListener&&d.removeEventListener("DOMContentLoaded",W,!1);U();return!0};Ot=function(){if(d.readyState==="complete"){W();d.detachEvent("onreadystatechange",Ot)}return!0};X=function(){C=!0;_t.remove(e,"load",X)};z=function(){if(Qt){(!s.setupOptions.useHTML5Audio||s.setupOptions.preferFlash)&&St.push(R.mobileUA);s.setupOptions.useHTML5Audio=!0;s.setupOptions.preferFlash=!1;if(Wt||Xt&&!h.match(/android\s2\.3/i)){St.push(R.globalHTML5);Wt&&(s.ignoreFlash=!0);Pt=!0}}};z();jt();_t.add(e,"focus",q);_t.add(e,"load",B);_t.add(e,"load",X);if(d.addEventListener)d.addEventListener("DOMContentLoaded",W,!1);else if(d.attachEvent)d.attachEvent("onreadystatechange",Ot);else{E("onload",!1);K({type:"NO_DOM2_EVENTS",fatal:!0})}}var n=null;if(e.SM2_DEFER===undefined||!SM2_DEFER)n=new r;e.SoundManager=r;e.soundManager=n})(window);